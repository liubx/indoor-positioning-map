!function(t){function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=90)}([function(t,e,n){"use strict";function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}e.a=i;var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)}},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(0),r=n(19),o=n(57),s=n(5),a=n(41),u=n(28),l=n(40),h=function(t){function e(n,i,r){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.a;break;case 1:if(!n){s.destination=o.a;break}if("object"===typeof n){n instanceof e?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new c(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new c(s,n,i,r)}return s}return i.a(e,t),e.prototype[a.a]=function(){return this},e.create=function(t,n,i){var r=new e(t,n,i);return r.syncErrorThrowable=!1,r},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this,e=t._parent,n=t._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=n,this},e}(s.a),c=function(t){function e(e,n,i,s){var a=t.call(this)||this;a._parentSubscriber=e;var u,l=a;return Object(r.a)(n)?u=n:n&&(u=n.next,i=n.error,s=n.complete,n!==o.a&&(l=Object.create(n),Object(r.a)(l.unsubscribe)&&a.add(l.unsubscribe.bind(l)),l.unsubscribe=a.unsubscribe.bind(a))),a._context=l,a._next=u,a._error=i,a._complete=s,a}return i.a(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(l.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(l.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw t;Object(l.a)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(l.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(h)},function(t,e,n){"use strict";function i(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}n.d(e,"a",function(){return l});var r=n(39),o=n(109),s=n(15),a=n(42),u=n(28),l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var i=this.operator,r=Object(o.a)(t,e,n);if(i?r.add(i.call(r,this.source)):r.add(this.source||u.a.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),u.a.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(r.a)(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=i(e))(function(e,i){var r;r=n.subscribe(function(e){try{t(e)}catch(t){i(t),r&&r.unsubscribe()}},i,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[s.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(a.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=i(t))(function(t,n){var i;e.subscribe(function(t){return i=t},function(t){return n(t)},function(){return t(i)})})},t.create=function(e){return new t(e)},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),r=n(1),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(r.a)},function(t,e,n){"use strict";function i(t,e,n,i,s){if(void 0===s&&(s=new r.a(t,n,i)),!s.closed)return Object(o.a)(e)(s)}e.a=i;var r=n(14),o=n(70)},function(t,e,n){"use strict";function i(t){return t.reduce(function(t,e){return t.concat(e instanceof a.a?e.errors:e)},[])}n.d(e,"a",function(){return u});var r=n(7),o=n(58),s=n(19),a=n(59),u=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var n=this,u=n._parent,l=n._parents,h=n._unsubscribe,c=n._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var p=-1,f=l?l.length:0;u;)u.remove(this),u=++p<f&&l[p]||null;if(Object(s.a)(h))try{h.call(this)}catch(n){e=!0,t=n instanceof a.a?i(n.errors):[n]}if(Object(r.a)(c))for(p=-1,f=c.length;++p<f;){var d=c[p];if(Object(o.a)(d))try{d.unsubscribe()}catch(n){e=!0,t=t||[],n instanceof a.a?t=t.concat(i(n.errors)):t.push(n)}}if(e)throw new a.a(t)}},t.prototype.add=function(e){var n=e;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!==typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;n=new t,n._subscriptions=[i]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(n._addParent(this)){var r=this._subscriptions;r?r.push(n):this._subscriptions=[n]}return n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.prototype._addParent=function(t){var e=this,n=e._parent,i=e._parents;return n!==t&&(n?i?-1===i.indexOf(t)&&(i.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}()},function(t,e,n){"use strict";n.d(e,"b",function(){return h}),n.d(e,"a",function(){return c});var i=n(0),r=n(2),o=n(1),s=n(5),a=n(30),u=n(61),l=n(41),h=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i.a(e,t),e}(o.a),c=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i.a(e,t),e.prototype[l.a]=function(){return new h(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new u.a(this,t))},e.prototype.asObservable=function(){var t=new r.a;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(r.a),p=function(t){function e(e,n){var i=t.call(this)||this;return i.destination=e,i.source=n,i}return i.a(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.a.EMPTY},e}(c)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=Array.isArray||function(t){return t&&"number"===typeof t.length}},function(t,e,n){"use strict";function i(t){return t?r(t):s}function r(t){return new o.a(function(e){return t.schedule(function(){return e.complete()})})}n.d(e,"a",function(){return s}),e.b=i;var o=n(2),s=new o.a(function(t){return t.complete()})},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(20),r=n(21),o=new r.a(i.a)},function(t,e,n){"use strict";function i(t,e){return function(n){if("function"!==typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}e.a=i;var r=n(0),o=n(1),s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}(),a=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.project=n,r.count=0,r.thisArg=i||r,r}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(o.a)},function(t,e,n){"use strict";function i(t){return t&&"function"===typeof t.schedule}e.a=i},function(t,e,n){"use strict";function i(t,e){if(!e)return t instanceof r.a?t:new r.a(Object(f.a)(t));if(null!=t){if(Object(a.a)(t))return Object(p.a)(t,e);if(Object(o.a)(t))return Object(h.a)(t,e);if(Object(s.a)(t))return Object(l.a)(t,e);if(Object(u.a)(t)||"string"===typeof t)return Object(c.a)(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}e.a=i;var r=n(2),o=n(75),s=n(74),a=n(123),u=n(124),l=n(13),h=n(125),c=n(126),p=n(127),f=n(70)},function(t,e,n){"use strict";function i(t,e){return e?new r.a(function(n){var i=new o.a,r=0;return i.add(e.schedule(function(){if(r===t.length)return void n.complete();n.next(t[r++]),n.closed||i.add(this.schedule())})),i}):new r.a(Object(s.a)(t))}e.a=i;var r=n(2),o=n(5),s=n(67)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),r=n(1),o=function(t){function e(e,n,i){var r=t.call(this)||this;return r.parent=e,r.outerValue=n,r.outerIndex=i,r.index=0,r}return i.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i="function"===typeof Symbol&&Symbol.observable||"@@observable"},function(t,e,n){"use strict";function i(t){return t}e.a=i},function(t,e,n){"use strict";function i(t,e){return function(n){var i;if(i="function"===typeof t?t:function(){return t},"function"===typeof e)return n.lift(new o(i,e));var s=Object.create(n,r.a);return s.source=n,s.subjectFactory=i,s}}e.a=i;var r=n(60),o=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,i=this.subjectFactory(),r=n(i).subscribe(t);return r.add(e.subscribe(i)),r},t}()},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";function i(t){return"function"===typeof t}e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),r=n(111),o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.pending=!1,i}return i.a(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,i=void 0;try{this.work(t)}catch(t){n=!0,i=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),i},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),r=n(65),o=function(t){function e(n,i){void 0===i&&(i=r.a.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():i()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return i.a(e,t),e.prototype.schedule=function(n,i,r){return void 0===i&&(i=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,i,r):t.prototype.schedule.call(this,n,i,r)},e.prototype.flush=function(t){var e=this.actions;if(this.active)return void e.push(t);var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}},e}(r.a)},function(t,e,n){"use strict";function i(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);var r=i},function(t,e,n){"use strict";function i(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);var r=i},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){return"function"===typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},function(t,e,n){"use strict";function i(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"===typeof e?function(r){return r.pipe(i(function(n,i){return Object(l.a)(t(n,i)).pipe(Object(u.a)(function(t,r){return e(n,t,i,r)}))},n))}:("number"===typeof e&&(n=e),function(e){return e.lift(new h(t,n))})}e.a=i;var r=n(0),o=n(4),s=n(3),a=n(14),u=n(10),l=n(12),h=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project,this.concurrent))},t}(),c=function(t){function e(e,n,i){void 0===i&&(i=Number.POSITIVE_INFINITY);var r=t.call(this,e)||this;return r.project=n,r.concurrent=i,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return r.a(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var i=new a.a(this,void 0,void 0);this.destination.add(i),Object(o.a)(this,t,e,n,i)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(s.a)},function(t,e,n){"use strict";function i(t){return void 0===t&&(t=null),function(e){return e.lift(new s(t))}}e.a=i;var r=n(0),o=n(1),s=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.defaultValue))},t}(),a=function(t){function e(e,n){var i=t.call(this,e)||this;return i.defaultValue=n,i.isEmpty=!0,i}return r.a(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(o.a)},function(t,e,n){"use strict";function i(t,e){return function(n){return n.lift(new s(t,e))}}e.a=i;var r=n(0),o=n(1),s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.predicate=n,r.thisArg=i,r.count=0,r}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){(new Error).stack}i=t},get useDeprecatedSynchronousErrorHandling(){return i}}},function(t,e,n){"use strict";function i(){}e.a=i},function(t,e,n){"use strict";function i(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);var r=i},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i,r=n(8),o=n(45),s=n(47);i||(i={});var a=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"===typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(r.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return"undefined"!==typeof e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),r=n(6),o=n(5),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return i.a(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.a.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(r.a)},function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.a)()(r.a.apply(void 0,t))}e.a=i;var r=n(45),o=n(76)},function(t,e,n){"use strict";function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}e.a=i;var r=n(7)},function(t,e,n){"use strict";function i(){return new o.a}n.d(e,"a",function(){return s});var r=n(85),o=n(23),s=function(t){return void 0===t&&(t=i),Object(r.a)({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})}},function(t,e,n){"use strict";function i(t,e){return arguments.length>=2?function(n){return Object(a.a)(Object(r.a)(t,e),Object(o.a)(1),Object(s.a)(e))(n)}:function(e){return Object(a.a)(Object(r.a)(function(e,n,i){return t(e,n,i+1)}),Object(o.a)(1))(e)}}e.a=i;var r=n(54),o=n(53),s=n(26),a=n(42)},function(t,e,n){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,u=i(t),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var h in n)o.call(n,h)&&(u[h]=n[h]);if(r){a=r(n);for(var c=0;c<a.length;c++)s.call(n,a[c])&&(u[a[c]]=n[a[c]])}}return u}},function(t,e,n){"use strict";t.exports=n(97)},function(t,e,n){"use strict";function i(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.a?i:null}return!0}e.a=i;var r=n(1)},function(t,e,n){"use strict";function i(t){setTimeout(function(){throw t})}e.a=i},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i="function"===typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r(t)}function r(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:o.a}e.a=i,e.b=r;var o=n(29)},function(t,e,n){"use strict";function i(){return function(t){return t.lift(new s(t))}}e.a=i;var r=n(0),o=n(1),s=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var i=new a(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r},t}(),a=function(t){function e(e,n){var i=t.call(this,e)||this;return i.connectable=n,i}return r.a(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t)return void(this.connection=null);this.connectable=null;var e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return h});var i=n(0),r=n(6),o=n(64),s=n(5),a=n(66),u=n(30),l=n(61),h=function(t){function e(e,n,i){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=t.call(this)||this;return r.scheduler=i,r._events=[],r._infiniteTimeWindow=!1,r._bufferSize=e<1?1:e,r._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(r._infiniteTimeWindow=!0,r.next=r.nextInfiniteTimeWindow):r.next=r.nextTimeWindow,r}return i.a(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new c(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,i=n?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,o=i.length;if(this.closed)throw new u.a;if(this.isStopped||this.hasError?e=s.a.EMPTY:(this.observers.push(t),e=new l.a(this,t)),r&&t.add(t=new a.a(t,r)),n)for(var h=0;h<o&&!t.closed;h++)t.next(i[h]);else for(var h=0;h<o&&!t.closed;h++)t.next(i[h].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.a).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,i=this._events,r=i.length,o=0;o<r&&!(t-i[o].time<n);)o++;return r>e&&(o=Math.max(o,r-e)),o>0&&i.splice(0,o),i},e}(r.a),c=function(){function t(t,e){this.time=t,this.value=e}return t}()},function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];switch(Object(r.a)(n)?t.pop():n=void 0,t.length){case 0:return Object(s.b)(n);case 1:return n?Object(o.a)(t,n):Object(a.a)(t[0]);default:return Object(o.a)(t,n)}}e.a=i;var r=n(11),o=n(13),s=n(8),a=n(46)},function(t,e,n){"use strict";function i(t){var e=new r.a(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}e.a=i;var r=n(2)},function(t,e,n){"use strict";function i(t,e){return e?new o.a(function(n){return e.schedule(r,0,{error:t,subscriber:n})}):new o.a(function(e){return e.error(t)})}function r(t){var e=t.error;t.subscriber.error(e)}e.a=i;var o=n(2)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),r=(n(11),n(7),n(3)),o=n(4),s=(n(13),{}),a=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.resultSelector))},t}(),u=function(t){function e(e,n){var i=t.call(this,e)||this;return i.resultSelector=n,i.active=0,i.values=[],i.observables=[],i}return i.a(e,t),e.prototype._next=function(t){this.values.push(s),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var i=t[n];this.add(Object(o.a)(this,i,i,n))}}},e.prototype.notifyComplete=function(t){0===(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,r){var o=this.values,a=o[n],u=this.toRespond?a===s?--this.toRespond:this.toRespond:0;o[n]=e,0===u&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(r.a)},function(t,e,n){"use strict";function i(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(o.a,t)}e.a=i;var r=n(25),o=n(16)},function(t,e,n){"use strict";function i(t){return new r.a(function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?Object(o.a)(n):Object(s.b)()).subscribe(e)})}e.a=i;var r=n(2),o=n(12),s=n(8)},function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"===typeof n&&t.pop(),Object(o.a)(t,void 0).lift(new c(n))}e.b=i,n.d(e,"a",function(){return c});var r=n(0),o=n(13),s=n(7),a=n(1),u=n(3),l=n(4),h=n(24),c=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.resultSelector))},t}(),p=function(t){function e(e,n,i){void 0===i&&(i=Object.create(null));var r=t.call(this,e)||this;return r.iterators=[],r.active=0,r.resultSelector="function"===typeof n?n:null,r.values=i,r}return r.a(e,t),e.prototype._next=function(t){var e=this.iterators;Object(s.a)(t)?e.push(new d(t)):"function"===typeof t[h.a]?e.push(new f(t[h.a]())):e.push(new m(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0===e)return void this.destination.complete();this.active=e;for(var n=0;n<e;n++){var i=t[n];if(i.stillUnsubscribed){this.destination.add(i.subscribe(i,n))}else this.active--}},e.prototype.notifyInactive=function(){0===--this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,i=0;i<e;i++){var r=t[i];if("function"===typeof r.hasValue&&!r.hasValue())return}for(var o=!1,s=[],i=0;i<e;i++){var r=t[i],a=r.next();if(r.hasCompleted()&&(o=!0),a.done)return void n.complete();s.push(a.value)}this.resultSelector?this._tryresultSelector(s):n.next(s),o&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(a.a),f=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),d=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[h.a]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),m=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.parent=n,r.observable=i,r.stillUnsubscribed=!0,r.buffer=[],r.isComplete=!1,r}return r.a(e,t),e.prototype[h.a]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,i,r){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Object(l.a)(this,this.observable,this,e)},e}(u.a)},function(t,e,n){"use strict";function i(t){return function(e){return 0===t?Object(a.b)():e.lift(new u(t))}}e.a=i;var r=n(0),o=n(1),s=n(22),a=n(8),u=function(){function t(t){if(this.total=t,this.total<0)throw new s.a}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.total))},t}(),l=function(t){function e(e,n){var i=t.call(this,e)||this;return i.total=n,i.count=0,i}return r.a(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(o.a)},function(t,e,n){"use strict";function i(t){return function(e){return 0===t?Object(a.b)():e.lift(new u(t))}}e.a=i;var r=n(0),o=n(1),s=n(22),a=n(8),u=function(){function t(t){if(this.total=t,this.total<0)throw new s.a}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.total))},t}(),l=function(t){function e(e,n){var i=t.call(this,e)||this;return i.total=n,i.ring=new Array,i.count=0,i}return r.a(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,i=this.count++;if(e.length<n)e.push(t);else{e[i%n]=t}},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,i=this.ring,r=0;r<n;r++){var o=e++%n;t.next(i[o])}t.complete()},e}(o.a)},function(t,e,n){"use strict";function i(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new s(t,e,n))}}e.a=i;var r=n(0),o=n(1),s=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.accumulator,this.seed,this.hasSeed))},t}(),a=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=i,o.hasSeed=r,o.index=0,o}return r.a(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(o.a)},function(t,e,n){"use strict";function i(t,e){return"function"===typeof e?function(n){return n.pipe(i(function(n,i){return Object(l.a)(t(n,i)).pipe(Object(u.a)(function(t,r){return e(n,t,i,r)}))}))}:function(e){return e.lift(new h(t))}}e.a=i;var r=n(0),o=n(3),s=n(14),a=n(4),u=n(10),l=n(12),h=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new c(t,this.project))},t}(),c=function(t){function e(e,n){var i=t.call(this,e)||this;return i.project=n,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var i=this.innerSubscription;i&&i.unsubscribe();var r=new s.a(this,void 0,void 0);this.destination.add(r),this.innerSubscription=Object(a.a)(this,t,e,n,r)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,i,r){this.destination.next(e)},e}(o.a)},function(t,e,n){"use strict";function i(){}function r(t){try{return t.then}catch(t){return y=t,_}}function o(t,e){try{return t(e)}catch(t){return y=t,_}}function s(t,e,n){try{t(e,n)}catch(t){return y=t,_}}function a(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==i&&m(t,this)}function u(t,e,n){return new t.constructor(function(r,o){var s=new a(i);s.then(r,o),l(t,new d(e,n,s))})}function l(t,e){for(;3===t._83;)t=t._18;if(a._47&&a._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e);h(t,e)}function h(t,e){g(function(){var n=1===t._83?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._83?c(e.promise,t._18):p(e.promise,t._18));var i=o(n,t._18);i===_?p(e.promise,y):c(e.promise,i)})}function c(t,e){if(e===t)return p(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=r(e);if(n===_)return p(t,y);if(n===t.then&&e instanceof a)return t._83=3,t._18=e,void f(t);if("function"===typeof n)return void m(n.bind(e),t)}t._83=1,t._18=e,f(t)}function p(t,e){t._83=2,t._18=e,a._71&&a._71(t,e),f(t)}function f(t){if(1===t._75&&(l(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)l(t,t._38[e]);t._38=null}}function d(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function m(t,e){var n=!1,i=s(t,function(t){n||(n=!0,c(e,t))},function(t){n||(n=!0,p(e,t))});n||i!==_||(n=!0,p(e,y))}var g=n(93),y=null,_={};t.exports=a,a._47=null,a._71=null,a._44=i,a.prototype.then=function(t,e){if(this.constructor!==a)return u(this,t,e);var n=new a(i);return l(this,new d(t,e,n)),n}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(28),r=n(40),o={closed:!0,next:function(t){},error:function(t){if(i.a.useDeprecatedSynchronousErrorHandling)throw t;Object(r.a)(t)},complete:function(){}}},function(t,e,n){"use strict";function i(t){return null!==t&&"object"===typeof t}e.a=i},function(t,e,n){"use strict";function i(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);var r=i},function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n(0),r=n(6),o=n(2),s=n(1),a=n(5),u=n(43),l=function(t){function e(e,n){var i=t.call(this)||this;return i.source=e,i.subjectFactory=n,i._refCount=0,i._isComplete=!1,i}return i.a(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,t=this._connection=new a.a,t.add(this.source.subscribe(new p(this.getSubject(),this))),t.closed?(this._connection=null,t=a.a.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return Object(u.a)()(this)},e}(o.a),h=l.prototype,c={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:h._subscribe},_isComplete:{value:h._isComplete,writable:!0},getSubject:{value:h.getSubject},connect:{value:h.connect},refCount:{value:h.refCount}},p=function(t){function e(e,n){var i=t.call(this,e)||this;return i.connectable=n,i}return i.a(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(r.b);s.a},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),r=n(5),o=function(t){function e(e,n){var i=t.call(this)||this;return i.subject=e,i.subscriber=n,i.closed=!1,i}return i.a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(r.a)},function(t,e,n){"use strict";var i=n(0),r=n(1),o=n(5),s=n(2),a=n(6),u=(r.a,function(t){function e(e,n,i){var r=t.call(this,n)||this;return r.key=e,r.group=n,r.parent=i,r}return i.a(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this,e=t.parent,n=t.key;this.key=this.parent=null,e&&e.removeGroup(n)},e}(r.a)),l=function(t){function e(e,n,i){var r=t.call(this)||this;return r.key=e,r.groupSubject=n,r.refCountSubscription=i,r}return i.a(e,t),e.prototype._subscribe=function(t){var e=new o.a,n=this,i=n.refCountSubscription,r=n.groupSubject;return i&&!i.closed&&e.add(new h(i)),e.add(r.subscribe(t)),e},e}(s.a),h=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return i.a(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),r=n(6),o=n(30),s=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return i.a(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(110),r=n(112),o=new r.a(i.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),r=n(1),o=n(31),s=function(t){function e(e,n,i){void 0===i&&(i=0);var r=t.call(this,e)||this;return r.scheduler=n,r.delay=i,r}return i.a(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new a(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(o.a.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(o.a.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(o.a.createComplete()),this.unsubscribe()},e}(r.a),a=function(){function t(t,e){this.notification=t,this.destination=e}return t}()},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.closed||e.complete()}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(113),r=n(115),o=new r.a(i.a)},function(t,e,n){"use strict";function i(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}n.d(e,"a",function(){return r}),i.prototype=Object.create(Error.prototype);var r=i},function(t,e,n){"use strict";n.d(e,"a",function(){return f});var i=n(2),r=n(67),o=n(71),s=n(72),a=n(73),u=n(74),l=n(75),h=n(58),c=n(24),p=n(15),f=function(t){if(t instanceof i.a)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"===typeof t[p.a])return Object(a.a)(t);if(Object(u.a)(t))return Object(r.a)(t);if(Object(l.a)(t))return Object(o.a)(t);if(t&&"function"===typeof t[c.a])return Object(s.a)(t);var e=Object(h.a)(t)?"an invalid object":"'"+t+"'",n="You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(n)}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(40),r=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,i.a),e}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(24),r=function(t){return function(e){for(var n=t[i.a]();;){var r=n.next();if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"===typeof n.return&&e.add(function(){n.return&&n.return()}),e}}},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(15),r=function(t){return function(e){var n=t[i.a]();if("function"!==typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)}}},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(t){return t&&"number"===typeof t.length&&"function"!==typeof t}},function(t,e,n){"use strict";function i(t){return!!t&&"function"!==typeof t.subscribe&&"function"===typeof t.then}e.a=i},function(t,e,n){"use strict";function i(){return Object(r.a)(1)}e.a=i;var r=n(49)},function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,i=null,u=t[t.length-1];return Object(o.a)(u)?(i=t.pop(),t.length>1&&"number"===typeof t[t.length-1]&&(n=t.pop())):"number"===typeof u&&(n=t.pop()),null===i&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(n)(Object(a.a)(t,i))}e.a=i;var r=n(2),o=n(11),s=n(49),a=n(13)},function(t,e,n){"use strict";var i=n(2),r=n(29);r.a},function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!Object(o.a)(t[0]))return t[0];t=t[0]}return Object(s.a)(t,void 0).lift(new l)}e.a=i;var r=n(0),o=n(7),s=n(13),a=n(3),u=n(4),l=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new h(t))},t}(),h=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.a(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var i=t[n],r=Object(u.a)(this,i,i,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,i,r){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(a.a)},function(t,e,n){"use strict";function i(t,e,n){void 0===t&&(t=0);var i=-1;return Object(a.a)(e)?i=Number(e)<1&&1||Number(e):Object(u.a)(e)&&(n=e),Object(u.a)(n)||(n=s.a),new o.a(function(e){var o=Object(a.a)(t)?t:+t-n.now();return n.schedule(r,o,{index:0,period:i,subscriber:e})})}function r(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}e.a=i;var o=n(2),s=n(9),a=n(34),u=n(11)},function(t,e,n){"use strict";function i(t){return function(e){return e.lift(new a(t))}}e.a=i;var r=n(0),o=n(3),s=n(4),a=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.durationSelector))},t}(),u=function(t){function e(e,n){var i=t.call(this,e)||this;return i.durationSelector=n,i.hasValue=!1,i}return r.a(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(t){return this.destination.error(t)}var n=Object(s.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this,e=t.value,n=t.hasValue,i=t.throttled;i&&(this.remove(i),this.throttled=null,i.unsubscribe()),n&&(this.value=null,this.hasValue=!1,this.destination.next(e))},e.prototype.notifyNext=function(t,e,n,i){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(o.a)},function(t,e,n){"use strict";function i(t,e){return Object(r.a)(t,e,1)}e.a=i;var r=n(25)},function(t,e,n){"use strict";function i(t){return t instanceof Date&&!isNaN(+t)}e.a=i},function(t,e,n){"use strict";function i(t,e){return function(n){return n.lift(new s(t,e))}}e.a=i;var r=n(0),o=n(1),s=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.compare,this.keySelector))},t}(),a=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.keySelector=i,r.hasKey=!1,"function"===typeof n&&(r.compare=n),r}return r.a(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(t){return this.destination.error(t)}var i=!1;if(this.hasKey)try{i=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;i||(this.key=e,this.destination.next(t))},e}(o.a)},function(t,e,n){"use strict";function i(t,e,n){return function(i){return i.lift(new u(t,e,n))}}e.a=i;var r=n(0),o=n(1),s=n(29),a=n(19),u=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.nextOrObserver,this.error,this.complete))},t}(),l=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o._tapNext=s.a,o._tapError=s.a,o._tapComplete=s.a,o._tapError=i||s.a,o._tapComplete=r||s.a,Object(a.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||s.a,o._tapError=n.error||s.a,o._tapComplete=n.complete||s.a),o}return r.a(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),r=n(1),o=function(){function t(t,e,n,i){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=i}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),s=function(t){function e(e,n,i,r,o){var s=t.call(this,e)||this;return s.predicate=n,s.source=i,s.yieldIndex=r,s.thisArg=o,s.index=0,s}return i.a(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this,n=e.predicate,i=e.thisArg,r=this.index++;try{n.call(i||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),r=n(3),o=n(4),s={leading:!0,trailing:!1};r.a},function(t,e,n){"use strict";function i(t,e,n){return void 0===n&&(n=o.a),function(i){var r=Object(s.a)(t),o=r?+t-n.now():Math.abs(t);return i.lift(new l(o,r,e,n))}}e.a=i;var r=n(0),o=n(9),s=n(83),a=n(3),u=n(4),l=function(){function t(t,e,n,i){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=i}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),h=function(t){function e(e,n,i,r,o){var s=t.call(this,e)||this;return s.absoluteTimeout=n,s.waitFor=i,s.withObservable=r,s.scheduler=o,s.action=null,s.scheduleTimeout(),s}return r.a(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(Object(u.a)(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(a.a)},function(t,e,n){"use strict";function i(){if(g.a.XMLHttpRequest)return new g.a.XMLHttpRequest;if(g.a.XDomainRequest)return new g.a.XDomainRequest;throw new Error("CORS is not supported by your browser")}function r(){if(g.a.XMLHttpRequest)return new g.a.XMLHttpRequest;var t=void 0;try{for(var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],n=0;n<3;n++)try{if(t=e[n],new g.a.ActiveXObject(t))break}catch(t){}return new g.a.ActiveXObject(t)}catch(t){throw new Error("XMLHttpRequest is not supported by your browser")}}function o(t,e){return void 0===e&&(e=null),new x({method:"GET",url:t,headers:e})}function s(t,e,n){return new x({method:"POST",url:t,body:e,headers:n})}function a(t,e){return new x({method:"DELETE",url:t,headers:e})}function u(t,e,n){return new x({method:"PUT",url:t,body:e,headers:n})}function l(t,e,n){return new x({method:"PATCH",url:t,body:e,headers:n})}function h(t,e){return b(new x({method:"GET",url:t,responseType:"json",headers:e}))}function c(t,e,n){return Error.call(this),this.message=t,this.name="AjaxError",this.xhr=e,this.request=n,this.status=e.status,this.responseType=e.responseType||n.responseType,this.response=f(this.responseType,e),this}function p(t){return"response"in t?t.responseType?t.response:JSON.parse(t.response||t.responseText||"null"):JSON.parse(t.responseText||"null")}function f(t,e){switch(t){case"json":return p(e);case"xml":return e.responseXML;case"text":default:return"response"in e?e.response:e.responseText}}function d(t,e){return S.call(this,"ajax timeout",t,e),this.name="AjaxTimeoutError",this}n.d(e,"a",function(){return x});var m=n(0),g=n(226),y=n(2),_=n(1),v=n(10),b=Object(v.a)(function(t,e){return t.response}),x=function(t){function e(e){var n=t.call(this)||this,o={async:!0,createXHR:function(){return this.crossDomain?i():r()},crossDomain:!0,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"===typeof e)o.url=e;else for(var s in e)e.hasOwnProperty(s)&&(o[s]=e[s]);return n.request=o,n}return m.a(e,t),e.prototype._subscribe=function(t){return new w(t,this.request)},e.create=function(){var t=function(t){return new e(t)};return t.get=o,t.post=s,t.delete=a,t.put=u,t.patch=l,t.getJSON=h,t}(),e}(y.a),w=function(t){function e(e,n){var i=t.call(this,e)||this;i.request=n,i.done=!1;var r=n.headers=n.headers||{};return n.crossDomain||i.getHeader(r,"X-Requested-With")||(r["X-Requested-With"]="XMLHttpRequest"),i.getHeader(r,"Content-Type")||g.a.FormData&&n.body instanceof g.a.FormData||"undefined"===typeof n.body||(r["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),n.body=i.serializeBody(n.body,i.getHeader(n.headers,"Content-Type")),i.send(),i}return m.a(e,t),e.prototype.next=function(t){this.done=!0;var e,n=this,i=n.xhr,r=n.request,o=n.destination;try{e=new E(t,i,r)}catch(t){return o.error(t)}o.next(e)},e.prototype.send=function(){var t=this,e=t.request,n=t.request,i=n.user,r=n.method,o=n.url,s=n.async,a=n.password,u=n.headers,l=n.body;try{var h=this.xhr=e.createXHR();this.setupEvents(h,e),i?h.open(r,o,s,i,a):h.open(r,o,s),s&&(h.timeout=e.timeout,h.responseType=e.responseType),"withCredentials"in h&&(h.withCredentials=!!e.withCredentials),this.setHeaders(h,u),l?h.send(l):h.send()}catch(t){this.error(t)}},e.prototype.serializeBody=function(t,e){if(!t||"string"===typeof t)return t;if(g.a.FormData&&t instanceof g.a.FormData)return t;if(e){var n=e.indexOf(";");-1!==n&&(e=e.substring(0,n))}switch(e){case"application/x-www-form-urlencoded":return Object.keys(t).map(function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])}).join("&");case"application/json":return JSON.stringify(t);default:return t}},e.prototype.setHeaders=function(t,e){for(var n in e)e.hasOwnProperty(n)&&t.setRequestHeader(n,e[n])},e.prototype.getHeader=function(t,e){for(var n in t)if(n.toLowerCase()===e.toLowerCase())return t[n]},e.prototype.setupEvents=function(t,e){function n(t){var e=n,i=e.subscriber,r=e.progressSubscriber,o=e.request;r&&r.error(t);var s;try{s=new T(this,o)}catch(t){s=t}i.error(s)}function i(t){}function r(t){var e=r,n=e.subscriber,i=e.progressSubscriber,o=e.request;if(4===this.readyState){var s=1223===this.status?204:this.status,a="text"===this.responseType?this.response||this.responseText:this.response;if(0===s&&(s=a?200:0),s<400)i&&i.complete(),n.next(t),n.complete();else{i&&i.error(t);var u=void 0;try{u=new S("ajax error "+s,this,o)}catch(t){u=t}n.error(u)}}}var o=e.progressSubscriber;if(t.ontimeout=n,n.request=e,n.subscriber=this,n.progressSubscriber=o,t.upload&&"withCredentials"in t){if(o){var s;s=function(t){s.progressSubscriber.next(t)},g.a.XDomainRequest?t.onprogress=s:t.upload.onprogress=s,s.progressSubscriber=o}var a;a=function(t){var e=a,n=e.progressSubscriber,i=e.subscriber,r=e.request;n&&n.error(t);var o;try{o=new S("ajax error",this,r)}catch(t){o=t}i.error(o)},t.onerror=a,a.request=e,a.subscriber=this,a.progressSubscriber=o}t.onreadystatechange=i,i.subscriber=this,i.progressSubscriber=o,i.request=e,t.onload=r,r.subscriber=this,r.progressSubscriber=o,r.request=e},e.prototype.unsubscribe=function(){var e=this,n=e.done,i=e.xhr;!n&&i&&4!==i.readyState&&"function"===typeof i.abort&&i.abort(),t.prototype.unsubscribe.call(this)},e}(_.a),E=function(){function t(t,e,n){this.originalEvent=t,this.xhr=e,this.request=n,this.status=e.status,this.responseType=e.responseType||n.responseType,this.response=f(this.responseType,e)}return t}();c.prototype=Object.create(Error.prototype);var S=c,T=d},function(t,e,n){n(91),t.exports=n(96)},function(t,e,n){"use strict";"undefined"===typeof Promise&&(n(92).enable(),window.Promise=n(94)),n(95),Object.assign=n(37)},function(t,e,n){"use strict";function i(){l=!1,a._47=null,a._71=null}function r(t){function e(e){(t.allRejections||s(c[e].error,t.whitelist||u))&&(c[e].displayId=h++,t.onUnhandled?(c[e].logged=!0,t.onUnhandled(c[e].displayId,c[e].error)):(c[e].logged=!0,o(c[e].displayId,c[e].error)))}function n(e){c[e].logged&&(t.onHandled?t.onHandled(c[e].displayId,c[e].error):c[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+c[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+c[e].displayId+".")))}t=t||{},l&&i(),l=!0;var r=0,h=0,c={};a._47=function(t){2===t._83&&c[t._56]&&(c[t._56].logged?n(t._56):clearTimeout(c[t._56].timeout),delete c[t._56])},a._71=function(t,n){0===t._75&&(t._56=r++,c[t._56]={displayId:null,error:n,timeout:setTimeout(e.bind(null,t._56),s(n,u)?100:2e3),logged:!1})}}function o(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach(function(t){console.warn("  "+t)})}function s(t,e){return e.some(function(e){return t instanceof e})}var a=n(56),u=[ReferenceError,TypeError,RangeError],l=!1;e.disable=i,e.enable=r},function(t,e,n){"use strict";(function(e){function n(t){s.length||(o(),a=!0),s[s.length]=t}function i(){for(;u<s.length;){var t=u;if(u+=1,s[t].call(),u>l){for(var e=0,n=s.length-u;e<n;e++)s[e]=s[e+u];s.length-=u,u=0}}s.length=0,u=0,a=!1}function r(t){return function(){function e(){clearTimeout(n),clearInterval(i),t()}var n=setTimeout(e,0),i=setInterval(e,50)}}t.exports=n;var o,s=[],a=!1,u=0,l=1024,h="undefined"!==typeof e?e:self,c=h.MutationObserver||h.WebKitMutationObserver;o="function"===typeof c?function(t){var e=1,n=new c(t),i=document.createTextNode("");return n.observe(i,{characterData:!0}),function(){e=-e,i.data=e}}(i):r(i),n.requestFlush=o,n.makeRequestCallFromTimer=r}).call(e,n(18))},function(t,e,n){"use strict";function i(t){var e=new r(r._44);return e._83=1,e._18=t,e}var r=n(56);t.exports=r;var o=i(!0),s=i(!1),a=i(null),u=i(void 0),l=i(0),h=i("");r.resolve=function(t){if(t instanceof r)return t;if(null===t)return a;if(void 0===t)return u;if(!0===t)return o;if(!1===t)return s;if(0===t)return l;if(""===t)return h;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new r(e.bind(t))}catch(t){return new r(function(e,n){n(t)})}return i(t)},r.all=function(t){var e=Array.prototype.slice.call(t);return new r(function(t,n){function i(s,a){if(a&&("object"===typeof a||"function"===typeof a)){if(a instanceof r&&a.then===r.prototype.then){for(;3===a._83;)a=a._18;return 1===a._83?i(s,a._18):(2===a._83&&n(a._18),void a.then(function(t){i(s,t)},n))}var u=a.then;if("function"===typeof u){return void new r(u.bind(a)).then(function(t){i(s,t)},n)}}e[s]=a,0===--o&&t(e)}if(0===e.length)return t([]);for(var o=e.length,s=0;s<e.length;s++)i(s,e[s])})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){t.forEach(function(t){r.resolve(t).then(e,n)})})},r.prototype.catch=function(t){return this.then(null,t)}},function(t,e){!function(t){"use strict";function e(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!==typeof t&&(t=String(t)),t}function i(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return y.iterable&&(e[Symbol.iterator]=function(){return e}),e}function r(t){this.map={},t instanceof r?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function s(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function a(t){var e=new FileReader,n=s(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=s(e);return e.readAsText(t),n}function l(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}function h(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function c(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(y.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(y.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(y.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(y.arrayBuffer&&y.blob&&v(t))this._bodyArrayBuffer=h(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!b(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=h(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):y.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},y.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(a)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(l(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},y.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function p(t){var e=t.toUpperCase();return x.indexOf(e)>-1?e:t}function f(t,e){e=e||{};var n=e.body;if(t instanceof f){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new r(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new r(e.headers)),this.method=p(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function m(t){var e=new r;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e}function g(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new r(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var y={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(y.arrayBuffer)var _=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],v=function(t){return t&&DataView.prototype.isPrototypeOf(t)},b=ArrayBuffer.isView||function(t){return t&&_.indexOf(Object.prototype.toString.call(t))>-1};r.prototype.append=function(t,i){t=e(t),i=n(i);var r=this.map[t];this.map[t]=r?r+","+i:i},r.prototype.delete=function(t){delete this.map[e(t)]},r.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(t,i){this.map[e(t)]=n(i)},r.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},r.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),i(t)},r.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),i(t)},r.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),i(t)},y.iterable&&(r.prototype[Symbol.iterator]=r.prototype.entries);var x=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this,{body:this._bodyInit})},c.call(f.prototype),c.call(g.prototype),g.prototype.clone=function(){return new g(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new r(this.headers),url:this.url})},g.error=function(){var t=new g(null,{status:0,statusText:""});return t.type="error",t};var w=[301,302,303,307,308];g.redirect=function(t,e){if(-1===w.indexOf(e))throw new RangeError("Invalid status code");return new g(null,{status:e,headers:{location:t}})},t.Headers=r,t.Request=f,t.Response=g,t.fetch=function(t,e){return new Promise(function(n,i){var r=new f(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:m(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new g(e,t))},o.onerror=function(){i(new TypeError("Network request failed"))},o.ontimeout=function(){i(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials&&(o.withCredentials=!0),"responseType"in o&&y.blob&&(o.responseType="blob"),r.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"===typeof r._bodyInit?null:r._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(38),r=n.n(i),o=n(98),s=n.n(o),a=n(102),u=(n.n(a),n(103));s.a.render(r.a.createElement(u.a,null),document.getElementById("root"))},function(t,e,n){"use strict";function i(t,e,n,i,r,o,s,a){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,s,a],l=0;t=Error(e.replace(/%s/g,function(){return u[l++]})),t.name="Invariant Violation"}throw t.framesToPop=1,t}}function r(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);i(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function o(t,e,n){this.props=t,this.context=e,this.refs=F,this.updater=n||N}function s(){}function a(t,e,n){this.props=t,this.context=e,this.refs=F,this.updater=n||N}function u(t,e,n){var i=void 0,r={},o=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(o=""+e.key),e)G.call(e,i)&&!z.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];r.children=u}if(t&&t.defaultProps)for(i in a=t.defaultProps)void 0===r[i]&&(r[i]=a[i]);return{$$typeof:w,type:t,key:o,ref:s,props:r,_owner:D.current}}function l(t,e){return{$$typeof:w,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function h(t){return"object"===typeof t&&null!==t&&t.$$typeof===w}function c(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}function p(t,e,n,i){if(B.length){var r=B.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=i,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function f(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>B.length&&B.push(t)}function d(t,e,n,i){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var s=!1;if(null===t)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case w:case E:s=!0}}if(s)return n(i,t,""===e?"."+g(t,0):e),1;if(s=0,e=""===e?".":e+":",Array.isArray(t))for(var a=0;a<t.length;a++){o=t[a];var u=e+g(o,a);s+=d(o,u,n,i)}else if(null===t||"object"!==typeof t?u=null:(u=k&&t[k]||t["@@iterator"],u="function"===typeof u?u:null),"function"===typeof u)for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=e+g(o,a++),s+=d(o,u,n,i);else"object"===o&&(n=""+t,r("31","[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return s}function m(t,e,n){return null==t?0:d(t,"",e,n)}function g(t,e){return"object"===typeof t&&null!==t&&null!=t.key?c(t.key):e.toString(36)}function y(t,e){t.func.call(t.context,e,t.count++)}function _(t,e,n){var i=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?v(t,i,n,function(t){return t}):null!=t&&(h(t)&&(t=l(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(U,"$&/")+"/")+n)),i.push(t))}function v(t,e,n,i,r){var o="";null!=n&&(o=(""+n).replace(U,"$&/")+"/"),e=p(e,o,i,r),m(t,_,e),f(e)}var b=n(37),x="function"===typeof Symbol&&Symbol.for,w=x?Symbol.for("react.element"):60103,E=x?Symbol.for("react.portal"):60106,S=x?Symbol.for("react.fragment"):60107,T=x?Symbol.for("react.strict_mode"):60108,C=x?Symbol.for("react.profiler"):60114,M=x?Symbol.for("react.provider"):60109,L=x?Symbol.for("react.context"):60110,P=x?Symbol.for("react.concurrent_mode"):60111,O=x?Symbol.for("react.forward_ref"):60112,A=x?Symbol.for("react.suspense"):60113,R=x?Symbol.for("react.memo"):60115,I=x?Symbol.for("react.lazy"):60116,k="function"===typeof Symbol&&Symbol.iterator,N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F={};o.prototype.isReactComponent={},o.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&r("85"),this.updater.enqueueSetState(this,t,e,"setState")},o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},s.prototype=o.prototype;var j=a.prototype=new s;j.constructor=a,b(j,o.prototype),j.isPureReactComponent=!0;var D={current:null,currentDispatcher:null},G=Object.prototype.hasOwnProperty,z={key:!0,ref:!0,__self:!0,__source:!0},U=/\/+/g,B=[],Z={Children:{map:function(t,e,n){if(null==t)return t;var i=[];return v(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;e=p(null,null,e,n),m(t,y,e),f(e)},count:function(t){return m(t,function(){return null},null)},toArray:function(t){var e=[];return v(t,e,null,function(t){return t}),e},only:function(t){return h(t)||r("143"),t}},createRef:function(){return{current:null}},Component:o,PureComponent:a,createContext:function(t,e){return void 0===e&&(e=null),t={$$typeof:L,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:M,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:O,render:t}},lazy:function(t){return{$$typeof:I,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:R,type:t,compare:void 0===e?null:e}},Fragment:S,StrictMode:T,Suspense:A,createElement:u,cloneElement:function(t,e,n){(null===t||void 0===t)&&r("267",t);var i=void 0,o=b({},t.props),s=t.key,a=t.ref,u=t._owner;if(null!=e){void 0!==e.ref&&(a=e.ref,u=D.current),void 0!==e.key&&(s=""+e.key);var l=void 0;t.type&&t.type.defaultProps&&(l=t.type.defaultProps);for(i in e)G.call(e,i)&&!z.hasOwnProperty(i)&&(o[i]=void 0===e[i]&&void 0!==l?l[i]:e[i])}if(1===(i=arguments.length-2))o.children=n;else if(1<i){l=Array(i);for(var h=0;h<i;h++)l[h]=arguments[h+2];o.children=l}return{$$typeof:w,type:t.type,key:s,ref:a,props:o,_owner:u}},createFactory:function(t){var e=u.bind(null,t);return e.type=t,e},isValidElement:h,version:"16.7.0",unstable_ConcurrentMode:P,unstable_Profiler:C,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:D,assign:b}},W={default:Z},X=W&&Z||W;t.exports=X.default||X},function(t,e,n){"use strict";function i(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}i(),t.exports=n(99)},function(t,e,n){"use strict";function i(t,e,n,i,r,o,s,a){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,s,a],l=0;t=Error(e.replace(/%s/g,function(){return u[l++]})),t.name="Invariant Violation"}throw t.framesToPop=1,t}}function r(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);i(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function o(t,e,n,i,r,o,s,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(t){this.onError(t)}}function s(t,e,n,i,r,s,a,u,l){Gi=!1,zi=null,o.apply(Zi,arguments)}function a(t,e,n,i,o,a,u,l,h){if(s.apply(this,arguments),Gi){if(Gi){var c=zi;Gi=!1,zi=null}else r("198"),c=void 0;Ui||(Ui=!0,Bi=c)}}function u(){if(Wi)for(var t in Xi){var e=Xi[t],n=Wi.indexOf(t);if(-1<n||r("96",t),!Vi[n]){e.extractEvents||r("97",t),Vi[n]=e,n=e.eventTypes;for(var i in n){var o=void 0,s=n[i],a=e,u=i;Hi.hasOwnProperty(u)&&r("99",u),Hi[u]=s;var h=s.phasedRegistrationNames;if(h){for(o in h)h.hasOwnProperty(o)&&l(h[o],a,u);o=!0}else s.registrationName?(l(s.registrationName,a,u),o=!0):o=!1;o||r("98",i,t)}}}}function l(t,e,n){Yi[t]&&r("100",t),Yi[t]=e,qi[t]=e.eventTypes[n].dependencies}function h(t,e,n){var i=t.type||"unknown-event";t.currentTarget=Qi(n),a(i,e,void 0,t),t.currentTarget=null}function c(t,e){return null==e&&r("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function p(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}function f(t){if(t){var e=t._dispatchListeners,n=t._dispatchInstances;if(Array.isArray(e))for(var i=0;i<e.length&&!t.isPropagationStopped();i++)h(t,e[i],n[i]);else e&&h(t,e,n);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function d(t,e){var n=t.stateNode;if(!n)return null;var i=Ki(n);if(!i)return null;n=i[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(i=!i.disabled)||(t=t.type,i=!("button"===t||"input"===t||"select"===t||"textarea"===t)),t=!i;break t;default:t=!1}return t?null:(n&&"function"!==typeof n&&r("231",e,typeof n),n)}function m(t){if(null!==t&&($i=c($i,t)),t=$i,$i=null,t&&(p(t,f),$i&&r("95"),Ui))throw t=Bi,Ui=!1,Bi=null,t}function g(t){if(t[nr])return t[nr];for(;!t[nr];){if(!t.parentNode)return null;t=t.parentNode}return t=t[nr],5===t.tag||6===t.tag?t:null}function y(t){return t=t[nr],!t||5!==t.tag&&6!==t.tag?null:t}function _(t){if(5===t.tag||6===t.tag)return t.stateNode;r("33")}function v(t){return t[ir]||null}function b(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function x(t,e,n){(e=d(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=c(n._dispatchListeners,e),n._dispatchInstances=c(n._dispatchInstances,t))}function w(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=b(e);for(e=n.length;0<e--;)x(n[e],"captured",t);for(e=0;e<n.length;e++)x(n[e],"bubbled",t)}}function E(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=d(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=c(n._dispatchListeners,e),n._dispatchInstances=c(n._dispatchInstances,t))}function S(t){t&&t.dispatchConfig.registrationName&&E(t._targetInst,null,t)}function T(t){p(t,w)}function C(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}function M(t){if(sr[t])return sr[t];if(!or[t])return t;var e,n=or[t];for(e in n)if(n.hasOwnProperty(e)&&e in ar)return sr[t]=n[e];return t}function L(){if(mr)return mr;var t,e,n=dr,i=n.length,r="value"in fr?fr.value:fr.textContent,o=r.length;for(t=0;t<i&&n[t]===r[t];t++);var s=i-t;for(e=1;e<=s&&n[i-e]===r[o-e];e++);return mr=r.slice(t,1<e?1-e:void 0)}function P(){return!0}function O(){return!1}function A(t,e,n,i){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface;for(var r in t)t.hasOwnProperty(r)&&((e=t[r])?this[r]=e(n):"target"===r?this.target=i:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?P:O,this.isPropagationStopped=O,this}function R(t,e,n,i){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,t,e,n,i),r}return new this(t,e,n,i)}function I(t){t instanceof this||r("279"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function k(t){t.eventPool=[],t.getPooled=R,t.release=I}function N(t,e){switch(t){case"keyup":return-1!==_r.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function F(t){return t=t.detail,"object"===typeof t&&"data"in t?t.data:null}function j(t,e){switch(t){case"compositionend":return F(e);case"keypress":return 32!==e.which?null:(Tr=!0,Er);case"textInput":return t=e.data,t===Er&&Tr?null:t;default:return null}}function D(t,e){if(Cr)return"compositionend"===t||!vr&&N(t,e)?(t=L(),mr=dr=fr=null,Cr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wr&&"ko"!==e.locale?null:e.data;default:return null}}function G(t){if(t=Ji(t)){"function"!==typeof Lr&&r("280");var e=Ki(t.stateNode);Lr(t.stateNode,t.type,e)}}function z(t){Pr?Or?Or.push(t):Or=[t]:Pr=t}function U(){if(Pr){var t=Pr,e=Or;if(Or=Pr=null,G(t),e)for(t=0;t<e.length;t++)G(e[t])}}function B(t,e){return t(e)}function Z(t,e,n){return t(e,n)}function W(){}function X(t,e){if(Ar)return t(e);Ar=!0;try{return B(t,e)}finally{Ar=!1,(null!==Pr||null!==Or)&&(W(),U())}}function V(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Rr[t.type]:"textarea"===e}function H(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function Y(t){if(!rr)return!1;t="on"+t;var e=t in document;return e||(e=document.createElement("div"),e.setAttribute(t,"return;"),e="function"===typeof e[t]),e}function q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function K(t){var e=q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(t){i=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(t){i=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function J(t){t._valueTracker||(t._valueTracker=K(t))}function Q(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=q(t)?t.checked?"true":"false":t.value),(t=i)!==n&&(e.setValue(t),!0)}function $(t){return null===t||"object"!==typeof t?null:(t=Yr&&t[Yr]||t["@@iterator"],"function"===typeof t?t:null)}function tt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case Zr:return"ConcurrentMode";case Dr:return"Fragment";case jr:return"Portal";case zr:return"Profiler";case Gr:return"StrictMode";case Xr:return"Suspense"}if("object"===typeof t)switch(t.$$typeof){case Br:return"Context.Consumer";case Ur:return"Context.Provider";case Wr:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case Vr:return tt(t.type);case Hr:if(t=1===t._status?t._result:null)return tt(t)}return null}function et(t){var e="";do{t:switch(t.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break t;default:var i=t._debugOwner,r=t._debugSource,o=tt(t.type);n=null,i&&(n=tt(i.type)),i=o,o="",r?o=" (at "+r.fileName.replace(kr,"")+":"+r.lineNumber+")":n&&(o=" (created by "+n+")"),n="\n    in "+(i||"Unknown")+o}e+=n,t=t.return}while(t);return e}function nt(t){return!!Kr.call(Qr,t)||!Kr.call(Jr,t)&&(qr.test(t)?Qr[t]=!0:(Jr[t]=!0,!1))}function it(t,e,n,i){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}function rt(t,e,n,i){if(null===e||"undefined"===typeof e||it(t,e,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ot(t,e,n,i,r){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e}function st(t){return t[1].toUpperCase()}function at(t,e,n,i){var r=$r.hasOwnProperty(e)?$r[e]:null;(null!==r?0===r.type:!i&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(rt(e,n,r,i)&&(n=null),i||null===r?nt(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=null===n?3!==r.type&&"":n:(e=r.attributeName,i=r.attributeNamespace,null===n?t.removeAttribute(e):(r=r.type,n=3===r||4===r&&!0===n?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}function ut(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function lt(t,e){var n=e.checked;return ji({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function ht(t,e){var n=null==e.defaultValue?"":e.defaultValue,i=null!=e.checked?e.checked:e.defaultChecked;n=ut(null!=e.value?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function ct(t,e){null!=(e=e.checked)&&at(t,"checked",e,!1)}function pt(t,e){ct(t,e);var n=ut(e.value),i=e.type;if(null!=n)"number"===i?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===i||"reset"===i)return void t.removeAttribute("value");e.hasOwnProperty("value")?dt(t,e.type,n):e.hasOwnProperty("defaultValue")&&dt(t,e.type,ut(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function ft(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!("submit"!==i&&"reset"!==i||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,""!==n&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function dt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function mt(t,e,n){return t=A.getPooled(eo.change,t,e,n),t.type="change",z(n),T(t),t}function gt(t){m(t)}function yt(t){if(Q(_(t)))return t}function _t(t,e){if("change"===t)return e}function vt(){no&&(no.detachEvent("onpropertychange",bt),io=no=null)}function bt(t){"value"===t.propertyName&&yt(io)&&(t=mt(io,t,H(t)),X(gt,t))}function xt(t,e,n){"focus"===t?(vt(),no=e,io=n,no.attachEvent("onpropertychange",bt)):"blur"===t&&vt()}function wt(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return yt(io)}function Et(t,e){if("click"===t)return yt(e)}function St(t,e){if("input"===t||"change"===t)return yt(e)}function Tt(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=ao[t])&&!!e[t]}function Ct(){return Tt}function Mt(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function Lt(t,e){if(Mt(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++)if(!yo.call(e,n[i])||!Mt(t[n[i]],e[n[i]]))return!1;return!0}function Pt(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(e=e.return,0!==(2&e.effectTag))return 1}return 3===e.tag?2:3}function Ot(t){2!==Pt(t)&&r("188")}function At(t){var e=t.alternate;if(!e)return e=Pt(t),3===e&&r("188"),1===e?null:t;for(var n=t,i=e;;){var o=n.return,s=o?o.alternate:null;if(!o||!s)break;if(o.child===s.child){for(var a=o.child;a;){if(a===n)return Ot(o),t;if(a===i)return Ot(o),e;a=a.sibling}r("188")}if(n.return!==i.return)n=o,i=s;else{a=!1;for(var u=o.child;u;){if(u===n){a=!0,n=o,i=s;break}if(u===i){a=!0,i=o,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,i=o;break}if(u===i){a=!0,i=s,n=o;break}u=u.sibling}a||r("189")}}n.alternate!==i&&r("190")}return 3!==n.tag&&r("188"),n.stateNode.current===n?t:e}function Rt(t){if(!(t=At(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function It(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function kt(t,e){var n=t[0];t=t[1];var i="on"+(t[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:i,captured:i+"Capture"},dependencies:[n],isInteractive:e},Po[t]=e,Oo[n]=e}function Nt(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var i;for(i=n;i.return;)i=i.return;if(!(i=3!==i.tag?null:i.stateNode.containerInfo))break;t.ancestors.push(n),n=g(i)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var r=H(t.nativeEvent);i=t.topLevelType;for(var o=t.nativeEvent,s=null,a=0;a<Vi.length;a++){var u=Vi[a];u&&(u=u.extractEvents(i,e,o,r))&&(s=c(s,u))}m(s)}}function Ft(t,e){if(!e)return null;var n=(Ro(t)?Dt:Gt).bind(null,t);e.addEventListener(t,n,!1)}function jt(t,e){if(!e)return null;var n=(Ro(t)?Dt:Gt).bind(null,t);e.addEventListener(t,n,!0)}function Dt(t,e){Z(Gt,t,e)}function Gt(t,e){if(ko){var n=H(e);if(n=g(n),null===n||"number"!==typeof n.tag||2===Pt(n)||(n=null),Io.length){var i=Io.pop();i.topLevelType=t,i.nativeEvent=e,i.targetInst=n,t=i}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{X(Nt,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>Io.length&&Io.push(t)}}}function zt(t){return Object.prototype.hasOwnProperty.call(t,jo)||(t[jo]=Fo++,No[t[jo]]={}),No[t[jo]]}function Ut(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Bt(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Zt(t,e){var n=Bt(t);t=0;for(var i;n;){if(3===n.nodeType){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Bt(n)}}function Wt(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?Wt(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function Xt(){for(var t=window,e=Ut();e instanceof t.HTMLIFrameElement;){try{t=e.contentDocument.defaultView}catch(t){break}e=Ut(t.document)}return e}function Vt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function Ht(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Zo||null==zo||zo!==Ut(n)?null:(n=zo,"selectionStart"in n&&Vt(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Bo&&Lt(Bo,n)?null:(Bo=n,t=A.getPooled(Go.select,Uo,t,e),t.type="select",t.target=zo,T(t),t))}function Yt(t){var e="";return Fi.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}function qt(t,e){return t=ji({children:void 0},e),(e=Yt(e.children))&&(t.children=e),t}function Kt(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ut(n),e=null,r=0;r<t.length;r++){if(t[r].value===n)return t[r].selected=!0,void(i&&(t[r].defaultSelected=!0));null!==e||t[r].disabled||(e=t[r])}null!==e&&(e.selected=!0)}}function Jt(t,e){return null!=e.dangerouslySetInnerHTML&&r("91"),ji({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Qt(t,e){var n=e.value;null==n&&(n=e.defaultValue,e=e.children,null!=e&&(null!=n&&r("92"),Array.isArray(e)&&(1>=e.length||r("93"),e=e[0]),n=e),null==n&&(n="")),t._wrapperState={initialValue:ut(n)}}function $t(t,e){var n=ut(e.value),i=ut(e.defaultValue);null!=n&&(n=""+n,n!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=i&&(t.defaultValue=""+i)}function te(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}function ee(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ne(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ee(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}function ie(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function re(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||Yo.hasOwnProperty(t)&&Yo[t]?(""+e).trim():e+"px"}function oe(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=re(n,e[n],i);"float"===n&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}function se(t,e){e&&(Ko[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&r("137",t,""),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&r("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||r("61")),null!=e.style&&"object"!==typeof e.style&&r("62",""))}function ae(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ue(t,e){t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument;var n=zt(t);e=qi[e];for(var i=0;i<e.length;i++){var r=e[i];if(!n.hasOwnProperty(r)||!n[r]){switch(r){case"scroll":jt("scroll",t);break;case"focus":case"blur":jt("focus",t),jt("blur",t),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Y(r)&&jt(r,t);break;case"invalid":case"submit":case"reset":break;default:-1===pr.indexOf(r)&&Ft(r,t)}n[r]=!0}}}function le(){}function he(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function ce(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}function pe(t,e,n,i,r){t[ir]=r,"input"===n&&"radio"===r.type&&null!=r.name&&ct(t,r),ae(n,i),i=ae(n,r);for(var o=0;o<e.length;o+=2){var s=e[o],a=e[o+1];"style"===s?oe(t,a):"dangerouslySetInnerHTML"===s?Ho(t,a):"children"===s?ie(t,a):at(t,s,a,i)}switch(n){case"input":pt(t,r);break;case"textarea":$t(t,r);break;case"select":e=t._wrapperState.wasMultiple,t._wrapperState.wasMultiple=!!r.multiple,n=r.value,null!=n?Kt(t,!!r.multiple,n,!1):e!==!!r.multiple&&(null!=r.defaultValue?Kt(t,!!r.multiple,r.defaultValue,!0):Kt(t,!!r.multiple,r.multiple?[]:"",!1))}}function fe(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function de(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function me(t){0>ns||(t.current=es[ns],es[ns]=null,ns--)}function ge(t,e){ns++,es[ns]=t.current,t.current=e}function ye(t,e){var n=t.type.contextTypes;if(!n)return is;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=e[r];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function _e(t){return null!==(t=t.childContextTypes)&&void 0!==t}function ve(t){me(os,t),me(rs,t)}function be(t){me(os,t),me(rs,t)}function xe(t,e,n){rs.current!==is&&r("168"),ge(rs,e,t),ge(os,n,t)}function we(t,e,n){var i=t.stateNode;if(t=e.childContextTypes,"function"!==typeof i.getChildContext)return n;i=i.getChildContext();for(var o in i)o in t||r("108",tt(e)||"Unknown",o);return ji({},n,i)}function Ee(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||is,ss=rs.current,ge(rs,e,t),ge(os,os.current,t),!0}function Se(t,e,n){var i=t.stateNode;i||r("169"),n?(e=we(t,e,ss),i.__reactInternalMemoizedMergedChildContext=e,me(os,t),me(rs,t),ge(rs,e,t)):me(os,t),ge(os,n,t)}function Te(t){return function(e){try{return t(e)}catch(t){}}}function Ce(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);as=Te(function(t){return e.onCommitFiberRoot(n,t)}),us=Te(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}return!0}function Me(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Le(t,e,n,i){return new Me(t,e,n,i)}function Pe(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Oe(t){if("function"===typeof t)return Pe(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===Wr)return 11;if(t===Vr)return 14}return 2}function Ae(t,e){var n=t.alternate;return null===n?(n=Le(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.firstContextDependency=t.firstContextDependency,n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Re(t,e,n,i,o,s){var a=2;if(i=t,"function"===typeof t)Pe(t)&&(a=1);else if("string"===typeof t)a=5;else t:switch(t){case Dr:return Ie(n.children,o,s,e);case Zr:return ke(n,3|o,s,e);case Gr:return ke(n,2|o,s,e);case zr:return t=Le(12,n,e,4|o),t.elementType=zr,t.type=zr,t.expirationTime=s,t;case Xr:return t=Le(13,n,e,o),t.elementType=Xr,t.type=Xr,t.expirationTime=s,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case Ur:a=10;break t;case Br:a=9;break t;case Wr:a=11;break t;case Vr:a=14;break t;case Hr:a=16,i=null;break t}r("130",null==t?t:typeof t,"")}return e=Le(a,n,e,o),e.elementType=t,e.type=i,e.expirationTime=s,e}function Ie(t,e,n,i){return t=Le(7,t,i,e),t.expirationTime=n,t}function ke(t,e,n,i){return t=Le(8,t,i,e),e=0===(1&e)?Gr:Zr,t.elementType=e,t.type=e,t.expirationTime=n,t}function Ne(t,e,n){return t=Le(6,t,null,e),t.expirationTime=n,t}function Fe(t,e,n){return e=Le(4,null!==t.children?t.children:[],t.key,e),e.expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function je(t,e){t.didError=!1;var n=t.earliestPendingTime;0===n?t.earliestPendingTime=t.latestPendingTime=e:n<e?t.earliestPendingTime=e:t.latestPendingTime>e&&(t.latestPendingTime=e),ze(e,t)}function De(t,e){t.didError=!1,t.latestPingedTime>=e&&(t.latestPingedTime=0);var n=t.earliestPendingTime,i=t.latestPendingTime;n===e?t.earliestPendingTime=i===e?t.latestPendingTime=0:i:i===e&&(t.latestPendingTime=n),n=t.earliestSuspendedTime,i=t.latestSuspendedTime,0===n?t.earliestSuspendedTime=t.latestSuspendedTime=e:n<e?t.earliestSuspendedTime=e:i>e&&(t.latestSuspendedTime=e),ze(e,t)}function Ge(t,e){var n=t.earliestPendingTime;return t=t.earliestSuspendedTime,n>e&&(e=n),t>e&&(e=t),e}function ze(t,e){var n=e.earliestSuspendedTime,i=e.latestSuspendedTime,r=e.earliestPendingTime,o=e.latestPingedTime;r=0!==r?r:o,0===r&&(0===t||i<t)&&(r=i),t=r,0!==t&&n>t&&(t=n),e.nextExpirationTimeToWorkOn=r,e.expirationTime=t}function Ue(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Be(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ze(t){return{expirationTime:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function We(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function Xe(t,e){var n=t.alternate;if(null===n){var i=t.updateQueue,r=null;null===i&&(i=t.updateQueue=Ue(t.memoizedState))}else i=t.updateQueue,r=n.updateQueue,null===i?null===r?(i=t.updateQueue=Ue(t.memoizedState),r=n.updateQueue=Ue(n.memoizedState)):i=t.updateQueue=Be(r):null===r&&(r=n.updateQueue=Be(i));null===r||i===r?We(i,e):null===i.lastUpdate||null===r.lastUpdate?(We(i,e),We(r,e)):(We(i,e),r.lastUpdate=e)}function Ve(t,e){var n=t.updateQueue;n=null===n?t.updateQueue=Ue(t.memoizedState):He(t,n),null===n.lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function He(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=Be(e)),e}function Ye(t,e,n,i,r,o){switch(n.tag){case 1:return t=n.payload,"function"===typeof t?t.call(o,i,r):t;case 3:t.effectTag=-2049&t.effectTag|64;case 0:if(t=n.payload,null===(r="function"===typeof t?t.call(o,i,r):t)||void 0===r)break;return ji({},i,r);case 2:ls=!0}return i}function qe(t,e,n,i,r){ls=!1,e=He(t,e);for(var o=e.baseState,s=null,a=0,u=e.firstUpdate,l=o;null!==u;){var h=u.expirationTime;h<r?(null===s&&(s=u,o=l),a<h&&(a=h)):(l=Ye(t,e,u,l,n,i),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(h=null,u=e.firstCapturedUpdate;null!==u;){var c=u.expirationTime;c<r?(null===h&&(h=u,null===s&&(o=l)),a<c&&(a=c)):(l=Ye(t,e,u,l,n,i),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===s&&(e.lastUpdate=null),null===h?e.lastCapturedUpdate=null:t.effectTag|=32,null===s&&null===h&&(o=l),e.baseState=o,e.firstUpdate=s,e.firstCapturedUpdate=h,t.expirationTime=a,t.memoizedState=l}function Ke(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),Je(e.firstEffect,n),e.firstEffect=e.lastEffect=null,Je(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function Je(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var i=e;"function"!==typeof n&&r("191",n),n.call(i)}t=t.nextEffect}}function Qe(t,e){return{value:t,source:e,stack:et(e)}}function $e(t,e){var n=t.type._context;ge(hs,n._currentValue,t),n._currentValue=e}function tn(t){var e=hs.current;me(hs,t),t.type._context._currentValue=e}function en(t){cs=t,fs=ps=null,t.firstContextDependency=null}function nn(t,e){return fs!==t&&!1!==e&&0!==e&&("number"===typeof e&&1073741823!==e||(fs=t,e=1073741823),e={context:t,observedBits:e,next:null},null===ps?(null===cs&&r("293"),cs.firstContextDependency=ps=e):ps=ps.next=e),t._currentValue}function rn(t){return t===ds&&r("174"),t}function on(t,e){ge(ys,e,t),ge(gs,t,t),ge(ms,ds,t);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ne(null,"");break;default:n=8===n?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=ne(e,n)}me(ms,t),ge(ms,e,t)}function sn(t){me(ms,t),me(gs,t),me(ys,t)}function an(t){rn(ys.current);var e=rn(ms.current),n=ne(e,t.type);e!==n&&(ge(gs,t,t),ge(ms,n,t))}function un(t){gs.current===t&&(me(ms,t),me(gs,t))}function ln(t,e){if(t&&t.defaultProps){e=ji({},e),t=t.defaultProps;for(var n in t)void 0===e[n]&&(e[n]=t[n])}return e}function hn(t){var e=t._result;switch(t._status){case 1:return e;case 2:case 0:throw e;default:throw t._status=0,e=t._ctor,e=e(),e.then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)}),t._result=e,e}}function cn(t,e,n,i){e=t.memoizedState,n=n(i,e),n=null===n||void 0===n?e:ji({},e,n),t.memoizedState=n,null!==(i=t.updateQueue)&&0===t.expirationTime&&(i.baseState=n)}function pn(t,e,n,i,r,o,s){return t=t.stateNode,"function"===typeof t.shouldComponentUpdate?t.shouldComponentUpdate(i,o,s):!e.prototype||!e.prototype.isPureReactComponent||(!Lt(n,i)||!Lt(r,o))}function fn(t,e,n){var i=!1,r=is,o=e.contextType;return"object"===typeof o&&null!==o?o=_s.currentDispatcher.readContext(o):(r=_e(e)?ss:rs.current,i=e.contextTypes,o=(i=null!==i&&void 0!==i)?ye(t,r):is),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=bs,t.stateNode=e,e._reactInternalFiber=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=o),e}function dn(t,e,n,i){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,i),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&bs.enqueueReplaceState(e,e.state,null)}function mn(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs=vs;var o=e.contextType;"object"===typeof o&&null!==o?r.context=_s.currentDispatcher.readContext(o):(o=_e(e)?ss:rs.current,r.context=ye(t,o)),o=t.updateQueue,null!==o&&(qe(t,o,n,r,i),r.state=t.memoizedState),o=e.getDerivedStateFromProps,"function"===typeof o&&(cn(t,e,o,n),r.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(e=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),e!==r.state&&bs.enqueueReplaceState(r,r.state,null),null!==(o=t.updateQueue)&&(qe(t,o,n,r,i),r.state=t.memoizedState)),"function"===typeof r.componentDidMount&&(t.effectTag|=4)}function gn(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){n=n._owner;var i=void 0;n&&(1!==n.tag&&r("289"),i=n.stateNode),i||r("147",t);var o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=i.refs;e===vs&&(e=i.refs={}),null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}"string"!==typeof t&&r("284"),n._owner||r("290",t)}return t}function yn(t,e){"textarea"!==t.type&&r("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function _n(t){function e(e,n){if(t){var i=e.lastEffect;null!==i?(i.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,i){if(!t)return null;for(;null!==i;)e(n,i),i=i.sibling;return null}function i(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e,n){return t=Ae(t,e,n),t.index=0,t.sibling=null,t}function s(e,n,i){return e.index=i,t?null!==(i=e.alternate)?(i=i.index,i<n?(e.effectTag=2,n):i):(e.effectTag=2,n):n}function a(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,i){return null===e||6!==e.tag?(e=Ne(n,t.mode,i),e.return=t,e):(e=o(e,n,i),e.return=t,e)}function l(t,e,n,i){return null!==e&&e.elementType===n.type?(i=o(e,n.props,i),i.ref=gn(t,e,n),i.return=t,i):(i=Re(n.type,n.key,n.props,null,t.mode,i),i.ref=gn(t,e,n),i.return=t,i)}function h(t,e,n,i){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(e=Fe(n,t.mode,i),e.return=t,e):(e=o(e,n.children||[],i),e.return=t,e)}function c(t,e,n,i,r){return null===e||7!==e.tag?(e=Ie(n,t.mode,i,r),e.return=t,e):(e=o(e,n,i),e.return=t,e)}function p(t,e,n){if("string"===typeof e||"number"===typeof e)return e=Ne(""+e,t.mode,n),e.return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case Fr:return n=Re(e.type,e.key,e.props,null,t.mode,n),n.ref=gn(t,null,e),n.return=t,n;case jr:return e=Fe(e,t.mode,n),e.return=t,e}if(xs(e)||$(e))return e=Ie(e,t.mode,n,null),e.return=t,e;yn(t,e)}return null}function f(t,e,n,i){var r=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==r?null:u(t,e,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case Fr:return n.key===r?n.type===Dr?c(t,e,n.props.children,i,r):l(t,e,n,i):null;case jr:return n.key===r?h(t,e,n,i):null}if(xs(n)||$(n))return null!==r?null:c(t,e,n,i,null);yn(t,n)}return null}function d(t,e,n,i,r){if("string"===typeof i||"number"===typeof i)return t=t.get(n)||null,u(e,t,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case Fr:return t=t.get(null===i.key?n:i.key)||null,i.type===Dr?c(e,t,i.props.children,r,i.key):l(e,t,i,r);case jr:return t=t.get(null===i.key?n:i.key)||null,h(e,t,i,r)}if(xs(i)||$(i))return t=t.get(n)||null,c(e,t,i,r,null);yn(e,i)}return null}function m(r,o,a,u){for(var l=null,h=null,c=o,m=o=0,g=null;null!==c&&m<a.length;m++){c.index>m?(g=c,c=null):g=c.sibling;var y=f(r,c,a[m],u);if(null===y){null===c&&(c=g);break}t&&c&&null===y.alternate&&e(r,c),o=s(y,o,m),null===h?l=y:h.sibling=y,h=y,c=g}if(m===a.length)return n(r,c),l;if(null===c){for(;m<a.length;m++)(c=p(r,a[m],u))&&(o=s(c,o,m),null===h?l=c:h.sibling=c,h=c);return l}for(c=i(r,c);m<a.length;m++)(g=d(c,r,m,a[m],u))&&(t&&null!==g.alternate&&c.delete(null===g.key?m:g.key),o=s(g,o,m),null===h?l=g:h.sibling=g,h=g);return t&&c.forEach(function(t){return e(r,t)}),l}function g(o,a,u,l){var h=$(u);"function"!==typeof h&&r("150"),null==(u=h.call(u))&&r("151");for(var c=h=null,m=a,g=a=0,y=null,_=u.next();null!==m&&!_.done;g++,_=u.next()){m.index>g?(y=m,m=null):y=m.sibling;var v=f(o,m,_.value,l);if(null===v){m||(m=y);break}t&&m&&null===v.alternate&&e(o,m),a=s(v,a,g),null===c?h=v:c.sibling=v,c=v,m=y}if(_.done)return n(o,m),h;if(null===m){for(;!_.done;g++,_=u.next())null!==(_=p(o,_.value,l))&&(a=s(_,a,g),null===c?h=_:c.sibling=_,c=_);return h}for(m=i(o,m);!_.done;g++,_=u.next())null!==(_=d(m,o,g,_.value,l))&&(t&&null!==_.alternate&&m.delete(null===_.key?g:_.key),a=s(_,a,g),null===c?h=_:c.sibling=_,c=_);return t&&m.forEach(function(t){return e(o,t)}),h}return function(t,i,s,u){var l="object"===typeof s&&null!==s&&s.type===Dr&&null===s.key;l&&(s=s.props.children);var h="object"===typeof s&&null!==s;if(h)switch(s.$$typeof){case Fr:t:{for(h=s.key,l=i;null!==l;){if(l.key===h){if(7===l.tag?s.type===Dr:l.elementType===s.type){n(t,l.sibling),i=o(l,s.type===Dr?s.props.children:s.props,u),i.ref=gn(t,l,s),i.return=t,t=i;break t}n(t,l);break}e(t,l),l=l.sibling}s.type===Dr?(i=Ie(s.props.children,t.mode,u,s.key),i.return=t,t=i):(u=Re(s.type,s.key,s.props,null,t.mode,u),u.ref=gn(t,i,s),u.return=t,t=u)}return a(t);case jr:t:{for(l=s.key;null!==i;){if(i.key===l){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(t,i.sibling),i=o(i,s.children||[],u),i.return=t,t=i;break t}n(t,i);break}e(t,i),i=i.sibling}i=Fe(s,t.mode,u),i.return=t,t=i}return a(t)}if("string"===typeof s||"number"===typeof s)return s=""+s,null!==i&&6===i.tag?(n(t,i.sibling),i=o(i,s,u),i.return=t,t=i):(n(t,i),i=Ne(s,t.mode,u),i.return=t,t=i),a(t);if(xs(s))return m(t,i,s,u);if($(s))return g(t,i,s,u);if(h&&yn(t,s),"undefined"===typeof s&&!l)switch(t.tag){case 1:case 0:u=t.type,r("152",u.displayName||u.name||"Component")}return n(t,i)}}function vn(t,e){var n=Le(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function bn(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function xn(t){if(Cs){var e=Ts;if(e){var n=e;if(!bn(t,e)){if(!(e=fe(n))||!bn(t,e))return t.effectTag|=2,Cs=!1,void(Ss=t);vn(Ss,n)}Ss=t,Ts=de(e)}else t.effectTag|=2,Cs=!1,Ss=t}}function wn(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;Ss=t}function En(t){if(t!==Ss)return!1;if(!Cs)return wn(t),Cs=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!ce(e,t.memoizedProps))for(e=Ts;e;)vn(t,e),e=fe(e);return wn(t),Ts=Ss?fe(t.stateNode):null,!0}function Sn(){Ts=Ss=null,Cs=!1}function Tn(t,e,n,i){e.child=null===t?Es(e,null,n,i):ws(e,t.child,n,i)}function Cn(t,e,n,i,r){n=n.render;var o=e.ref;return en(e,r),i=n(i,o),e.effectTag|=1,Tn(t,e,i,r),e.child}function Mn(t,e,n,i,r,o){if(null===t){var s=n.type;return"function"!==typeof s||Pe(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?(t=Re(n.type,null,i,null,e.mode,o),t.ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=s,Ln(t,e,s,i,r,o))}return s=t.child,r<o&&(r=s.memoizedProps,n=n.compare,(n=null!==n?n:Lt)(r,i)&&t.ref===e.ref)?Nn(t,e,o):(e.effectTag|=1,t=Ae(s,i,o),t.ref=e.ref,t.return=e,e.child=t)}function Ln(t,e,n,i,r,o){return null!==t&&r<o&&Lt(t.memoizedProps,i)&&t.ref===e.ref?Nn(t,e,o):On(t,e,n,i,o)}function Pn(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function On(t,e,n,i,r){var o=_e(n)?ss:rs.current;return o=ye(e,o),en(e,r),n=n(i,o),e.effectTag|=1,Tn(t,e,n,r),e.child}function An(t,e,n,i,r){if(_e(n)){var o=!0;Ee(e)}else o=!1;if(en(e,r),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),fn(e,n,i,r),mn(e,n,i,r),i=!0;else if(null===t){var s=e.stateNode,a=e.memoizedProps;s.props=a;var u=s.context,l=n.contextType;"object"===typeof l&&null!==l?l=_s.currentDispatcher.readContext(l):(l=_e(n)?ss:rs.current,l=ye(e,l));var h=n.getDerivedStateFromProps,c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate;c||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||u!==l)&&dn(e,s,i,l),ls=!1;var p=e.memoizedState;u=s.state=p;var f=e.updateQueue;null!==f&&(qe(e,f,i,s,r),u=e.memoizedState),a!==i||p!==u||os.current||ls?("function"===typeof h&&(cn(e,n,h,i),u=e.memoizedState),(a=ls||pn(e,n,a,i,p,u,l))?(c||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(e.effectTag|=4)):("function"===typeof s.componentDidMount&&(e.effectTag|=4),e.memoizedProps=i,e.memoizedState=u),s.props=i,s.state=u,s.context=l,i=a):("function"===typeof s.componentDidMount&&(e.effectTag|=4),i=!1)}else s=e.stateNode,a=e.memoizedProps,s.props=e.type===e.elementType?a:ln(e.type,a),u=s.context,l=n.contextType,"object"===typeof l&&null!==l?l=_s.currentDispatcher.readContext(l):(l=_e(n)?ss:rs.current,l=ye(e,l)),h=n.getDerivedStateFromProps,(c="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==i||u!==l)&&dn(e,s,i,l),ls=!1,u=e.memoizedState,p=s.state=u,f=e.updateQueue,null!==f&&(qe(e,f,i,s,r),p=e.memoizedState),a!==i||u!==p||os.current||ls?("function"===typeof h&&(cn(e,n,h,i),p=e.memoizedState),(h=ls||pn(e,n,a,i,u,p,l))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(i,p,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof s.componentDidUpdate&&(e.effectTag|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=i,e.memoizedState=p),s.props=i,s.state=p,s.context=l,i=h):("function"!==typeof s.componentDidUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),i=!1);return Rn(t,e,n,i,o,r)}function Rn(t,e,n,i,r,o){Pn(t,e);var s=0!==(64&e.effectTag);if(!i&&!s)return r&&Se(e,n,!1),Nn(t,e,o);i=e.stateNode,Ms.current=e;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return e.effectTag|=1,null!==t&&s?(e.child=ws(e,t.child,null,o),e.child=ws(e,null,a,o)):Tn(t,e,a,o),e.memoizedState=i.state,r&&Se(e,n,!0),e.child}function In(t){var e=t.stateNode;e.pendingContext?xe(t,e.pendingContext,e.pendingContext!==e.context):e.context&&xe(t,e.context,!1),on(t,e.containerInfo)}function kn(t,e,n){var i=e.mode,r=e.pendingProps,o=e.memoizedState;if(0===(64&e.effectTag)){o=null;var s=!1}else o={timedOutAt:null!==o?o.timedOutAt:0},s=!0,e.effectTag&=-65;if(null===t)if(s){var a=r.fallback;t=Ie(null,i,0,null),0===(1&e.mode)&&(t.child=null!==e.memoizedState?e.child.child:e.child),i=Ie(a,i,n,null),t.sibling=i,n=t,n.return=i.return=e}else n=i=Es(e,null,r.children,n);else null!==t.memoizedState?(i=t.child,a=i.sibling,s?(n=r.fallback,r=Ae(i,i.pendingProps,0),0===(1&e.mode)&&(s=null!==e.memoizedState?e.child.child:e.child)!==i.child&&(r.child=s),i=r.sibling=Ae(a,n,a.expirationTime),n=r,r.childExpirationTime=0,n.return=i.return=e):n=i=ws(e,i.child,r.children,n)):(a=t.child,s?(s=r.fallback,r=Ie(null,i,0,null),r.child=a,0===(1&e.mode)&&(r.child=null!==e.memoizedState?e.child.child:e.child),i=r.sibling=Ie(s,i,n,null),i.effectTag|=2,n=r,r.childExpirationTime=0,n.return=i.return=e):i=n=ws(e,a,r.children,n)),e.stateNode=t.stateNode;return e.memoizedState=o,e.child=n,i}function Nn(t,e,n){if(null!==t&&(e.firstContextDependency=t.firstContextDependency),e.childExpirationTime<n)return null;if(null!==t&&e.child!==t.child&&r("153"),null!==e.child){for(t=e.child,n=Ae(t,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,n=n.sibling=Ae(t,t.pendingProps,t.expirationTime),n.return=e;n.sibling=null}return e.child}function Fn(t,e,n){var i=e.expirationTime;if(null!==t&&t.memoizedProps===e.pendingProps&&!os.current&&i<n){switch(e.tag){case 3:In(e),Sn();break;case 5:an(e);break;case 1:_e(e.type)&&Ee(e);break;case 4:on(e,e.stateNode.containerInfo);break;case 10:$e(e,e.memoizedProps.value);break;case 13:if(null!==e.memoizedState)return 0!==(i=e.child.childExpirationTime)&&i>=n?kn(t,e,n):(e=Nn(t,e,n),null!==e?e.sibling:null)}return Nn(t,e,n)}switch(e.expirationTime=0,e.tag){case 2:i=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps;var o=ye(e,rs.current);if(en(e,n),o=i(t,o),e.effectTag|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(e.tag=1,_e(i)){var s=!0;Ee(e)}else s=!1;e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var a=i.getDerivedStateFromProps;"function"===typeof a&&cn(e,i,a,t),o.updater=bs,e.stateNode=o,o._reactInternalFiber=e,mn(e,i,t,n),e=Rn(null,e,i,!0,s,n)}else e.tag=0,Tn(null,e,o,n),e=e.child;return e;case 16:switch(o=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),s=e.pendingProps,t=hn(o),e.type=t,o=e.tag=Oe(t),s=ln(t,s),a=void 0,o){case 0:a=On(null,e,t,s,n);break;case 1:a=An(null,e,t,s,n);break;case 11:a=Cn(null,e,t,s,n);break;case 14:a=Mn(null,e,t,ln(t.type,s),i,n);break;default:r("306",t,"")}return a;case 0:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ln(i,o),On(t,e,i,o,n);case 1:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ln(i,o),An(t,e,i,o,n);case 3:return In(e),i=e.updateQueue,null===i&&r("282"),o=e.memoizedState,o=null!==o?o.element:null,qe(e,i,e.pendingProps,null,n),i=e.memoizedState.element,i===o?(Sn(),e=Nn(t,e,n)):(o=e.stateNode,(o=(null===t||null===t.child)&&o.hydrate)&&(Ts=de(e.stateNode.containerInfo),Ss=e,o=Cs=!0),o?(e.effectTag|=2,e.child=Es(e,null,i,n)):(Tn(t,e,i,n),Sn()),e=e.child),e;case 5:return an(e),null===t&&xn(e),i=e.type,o=e.pendingProps,s=null!==t?t.memoizedProps:null,a=o.children,ce(i,o)?a=null:null!==s&&ce(i,s)&&(e.effectTag|=16),Pn(t,e),1!==n&&1&e.mode&&o.hidden?(e.expirationTime=1,e=null):(Tn(t,e,a,n),e=e.child),e;case 6:return null===t&&xn(e),null;case 13:return kn(t,e,n);case 4:return on(e,e.stateNode.containerInfo),i=e.pendingProps,null===t?e.child=ws(e,null,i,n):Tn(t,e,i,n),e.child;case 11:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ln(i,o),Cn(t,e,i,o,n);case 7:return Tn(t,e,e.pendingProps,n),e.child;case 8:case 12:return Tn(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(i=e.type._context,o=e.pendingProps,a=e.memoizedProps,s=o.value,$e(e,s),null!==a){var u=a.value;if(0===(s=u===s&&(0!==u||1/u===1/s)||u!==u&&s!==s?0:0|("function"===typeof i._calculateChangedBits?i._calculateChangedBits(u,s):1073741823))){if(a.children===o.children&&!os.current){e=Nn(t,e,n);break t}}else for(null!==(a=e.child)&&(a.return=e);null!==a;){if(null!==(u=a.firstContextDependency))do{if(u.context===i&&0!==(u.observedBits&s)){if(1===a.tag){var l=Ze(n);l.tag=2,Xe(a,l)}a.expirationTime<n&&(a.expirationTime=n),l=a.alternate,null!==l&&l.expirationTime<n&&(l.expirationTime=n);for(var h=a.return;null!==h;){if(l=h.alternate,h.childExpirationTime<n)h.childExpirationTime=n,null!==l&&l.childExpirationTime<n&&(l.childExpirationTime=n);else{if(!(null!==l&&l.childExpirationTime<n))break;l.childExpirationTime=n}h=h.return}}l=a.child,u=u.next}while(null!==u);else l=10===a.tag&&a.type===e.type?null:a.child;if(null!==l)l.return=a;else for(l=a;null!==l;){if(l===e){l=null;break}if(null!==(a=l.sibling)){a.return=l.return,l=a;break}l=l.return}a=l}}Tn(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,s=e.pendingProps,i=s.children,en(e,n),o=nn(o,s.unstable_observedBits),i=i(o),e.effectTag|=1,Tn(t,e,i,n),e.child;case 14:return o=e.type,s=ln(o,e.pendingProps),s=ln(o.type,s),Mn(t,e,o,s,i,n);case 15:return Ln(t,e,e.type,e.pendingProps,i,n);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:ln(i,o),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,_e(i)?(t=!0,Ee(e)):t=!1,en(e,n),fn(e,i,o,n),mn(e,i,o,n),Rn(null,e,i,!0,t,n);default:r("156")}}function jn(t){t.effectTag|=4}function Dn(t,e){var n=e.source,i=e.stack;null===i&&null!==n&&(i=et(n)),null!==n&&tt(n.type),e=e.value,null!==t&&1===t.tag&&tt(t.type);try{console.error(e)}catch(t){setTimeout(function(){throw t})}}function Gn(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(e){ti(t,e)}else e.current=null}function zn(t,e){for(var n=t;;){if(5===n.tag){var i=n.stateNode;if(e)i.style.display="none";else{i=n.stateNode;var r=n.memoizedProps.style;r=void 0!==r&&null!==r&&r.hasOwnProperty("display")?r.display:null,i.style.display=re("display",r)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){i=n.child.sibling,i.return=n,n=i;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function Un(t){switch("function"===typeof us&&us(t),t.tag){case 0:case 11:case 14:case 15:var e=t.updateQueue;if(null!==e&&null!==(e=e.lastEffect)){var n=e=e.next;do{var i=n.destroy;if(null!==i){var r=t;try{i()}catch(t){ti(r,t)}}n=n.next}while(n!==e)}break;case 1:if(Gn(t),e=t.stateNode,"function"===typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){ti(t,e)}break;case 5:Gn(t);break;case 4:Wn(t)}}function Bn(t){return 5===t.tag||3===t.tag||4===t.tag}function Zn(t){t:{for(var e=t.return;null!==e;){if(Bn(e)){var n=e;break t}e=e.return}r("160"),n=void 0}var i=e=void 0;switch(n.tag){case 5:e=n.stateNode,i=!1;break;case 3:case 4:e=n.stateNode.containerInfo,i=!0;break;default:r("161")}16&n.effectTag&&(ie(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||Bn(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var o=t;;){if(5===o.tag||6===o.tag)if(n)if(i){var s=e,a=o.stateNode,u=n;8===s.nodeType?s.parentNode.insertBefore(a,u):s.insertBefore(a,u)}else e.insertBefore(o.stateNode,n);else i?(a=e,u=o.stateNode,8===a.nodeType?(s=a.parentNode,s.insertBefore(u,a)):(s=a,s.appendChild(u)),null!==(a=a._reactRootContainer)&&void 0!==a||null!==s.onclick||(s.onclick=le)):e.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function Wn(t){for(var e=t,n=!1,i=void 0,o=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&r("160"),n.tag){case 5:i=n.stateNode,o=!1;break t;case 3:case 4:i=n.stateNode.containerInfo,o=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag){t:for(var s=e,a=s;;)if(Un(a),null!==a.child&&4!==a.tag)a.child.return=a,a=a.child;else{if(a===s)break;for(;null===a.sibling;){if(null===a.return||a.return===s)break t;a=a.return}a.sibling.return=a.return,a=a.sibling}o?(s=i,a=e.stateNode,8===s.nodeType?s.parentNode.removeChild(a):s.removeChild(a)):i.removeChild(e.stateNode)}else if(4===e.tag?(i=e.stateNode.containerInfo,o=!0):Un(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return,4===e.tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}function Xn(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 1:break;case 5:var n=e.stateNode;if(null!=n){var i=e.memoizedProps;t=null!==t?t.memoizedProps:i;var o=e.type,s=e.updateQueue;e.updateQueue=null,null!==s&&pe(n,s,o,t,i,e)}break;case 6:null===e.stateNode&&r("162"),e.stateNode.nodeValue=e.memoizedProps;break;case 3:case 12:break;case 13:if(n=e.memoizedState,i=void 0,t=e,null===n?i=!1:(i=!0,t=e.child,0===n.timedOutAt&&(n.timedOutAt=ci())),null!==t&&zn(t,i),null!==(n=e.updateQueue)){e.updateQueue=null;var a=e.stateNode;null===a&&(a=e.stateNode=new Rs),n.forEach(function(t){var n=ii.bind(null,e,t);a.has(t)||(a.add(t),t.then(n,n))})}break;case 17:break;default:r("163")}}function Vn(t,e,n){n=Ze(n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){bi(i),Dn(t,e)},n}function Hn(t,e,n){n=Ze(n),n.tag=3;var i=t.type.getDerivedStateFromError;if("function"===typeof i){var r=e.value;n.payload=function(){return i(r)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof i&&(null===Ys?Ys=new Set([this]):Ys.add(this));var n=e.value,r=e.stack;Dn(t,e),this.componentDidCatch(n,{componentStack:null!==r?r:""})}),n}function Yn(t){switch(t.tag){case 1:_e(t.type)&&ve(t);var e=t.effectTag;return 2048&e?(t.effectTag=-2049&e|64,t):null;case 3:return sn(t),be(t),e=t.effectTag,0!==(64&e)&&r("285"),t.effectTag=-2049&e|64,t;case 5:return un(t),null;case 13:return e=t.effectTag,2048&e?(t.effectTag=-2049&e|64,t):null;case 4:return sn(t),null;case 10:return tn(t),null;default:return null}}function qn(){if(null!==Gs)for(var t=Gs.return;null!==t;){var e=t;switch(e.tag){case 1:var n=e.type.childContextTypes;null!==n&&void 0!==n&&ve(e);break;case 3:sn(e),be(e);break;case 5:un(e);break;case 4:sn(e);break;case 10:tn(e)}t=t.return}zs=null,Us=0,Bs=-1,Zs=!1,Gs=null}function Kn(){null!==Hs&&(Di.unstable_cancelCallback(Vs),Hs())}function Jn(t){for(;;){var e=t.alternate,n=t.return,i=t.sibling;if(0===(1024&t.effectTag)){Gs=t;t:{var o=e;e=t;var s=Us,a=e.pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:_e(e.type)&&ve(e);break;case 3:sn(e),be(e),a=e.stateNode,a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==o&&null!==o.child||(En(e),e.effectTag&=-3),Ps(e);break;case 5:un(e);var u=rn(ys.current);if(s=e.type,null!==o&&null!=e.stateNode)Os(o,e,s,a,u),o.ref!==e.ref&&(e.effectTag|=128);else if(a){var l=rn(ms.current);if(En(e)){a=e,o=a.stateNode;var h=a.type,c=a.memoizedProps,p=u;switch(o[nr]=a,o[ir]=c,s=void 0,u=h){case"iframe":case"object":Ft("load",o);break;case"video":case"audio":for(h=0;h<pr.length;h++)Ft(pr[h],o);break;case"source":Ft("error",o);break;case"img":case"image":case"link":Ft("error",o),Ft("load",o);break;case"form":Ft("reset",o),Ft("submit",o);break;case"details":Ft("toggle",o);break;case"input":ht(o,c),Ft("invalid",o),ue(p,"onChange");break;case"select":o._wrapperState={wasMultiple:!!c.multiple},Ft("invalid",o),ue(p,"onChange");break;case"textarea":Qt(o,c),Ft("invalid",o),ue(p,"onChange")}se(u,c),h=null;for(s in c)c.hasOwnProperty(s)&&(l=c[s],"children"===s?"string"===typeof l?o.textContent!==l&&(h=["children",l]):"number"===typeof l&&o.textContent!==""+l&&(h=["children",""+l]):Yi.hasOwnProperty(s)&&null!=l&&ue(p,s));switch(u){case"input":J(o),ft(o,c,!0);break;case"textarea":J(o),te(o,c);break;case"select":case"option":break;default:"function"===typeof c.onClick&&(o.onclick=le)}s=h,a.updateQueue=s,a=null!==s,a&&jn(e)}else{c=e,o=s,p=a,h=9===u.nodeType?u:u.ownerDocument,l===Xo.html&&(l=ee(o)),l===Xo.html?"script"===o?(o=h.createElement("div"),o.innerHTML="<script><\/script>",h=o.removeChild(o.firstChild)):"string"===typeof p.is?h=h.createElement(o,{is:p.is}):(h=h.createElement(o),"select"===o&&p.multiple&&(h.multiple=!0)):h=h.createElementNS(l,o),o=h,o[nr]=c,o[ir]=a,Ls(o,e,!1,!1),p=o,h=s,c=a;var f=u,d=ae(h,c);switch(h){case"iframe":case"object":Ft("load",p),u=c;break;case"video":case"audio":for(u=0;u<pr.length;u++)Ft(pr[u],p);u=c;break;case"source":Ft("error",p),u=c;break;case"img":case"image":case"link":Ft("error",p),Ft("load",p),u=c;break;case"form":Ft("reset",p),Ft("submit",p),u=c;break;case"details":Ft("toggle",p),u=c;break;case"input":ht(p,c),u=lt(p,c),Ft("invalid",p),ue(f,"onChange");break;case"option":u=qt(p,c);break;case"select":p._wrapperState={wasMultiple:!!c.multiple},u=ji({},c,{value:void 0}),Ft("invalid",p),ue(f,"onChange");break;case"textarea":Qt(p,c),u=Jt(p,c),Ft("invalid",p),ue(f,"onChange");break;default:u=c}se(h,u),l=void 0;var m=h,g=p,y=u;for(l in y)if(y.hasOwnProperty(l)){var _=y[l];"style"===l?oe(g,_):"dangerouslySetInnerHTML"===l?null!=(_=_?_.__html:void 0)&&Ho(g,_):"children"===l?"string"===typeof _?("textarea"!==m||""!==_)&&ie(g,_):"number"===typeof _&&ie(g,""+_):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(Yi.hasOwnProperty(l)?null!=_&&ue(f,l):null!=_&&at(g,l,_,d))}switch(h){case"input":J(p),ft(p,c,!1);break;case"textarea":J(p),te(p,c);break;case"option":null!=c.value&&p.setAttribute("value",""+ut(c.value));break;case"select":u=p,u.multiple=!!c.multiple,p=c.value,null!=p?Kt(u,!!c.multiple,p,!1):null!=c.defaultValue&&Kt(u,!!c.multiple,c.defaultValue,!0);break;default:"function"===typeof u.onClick&&(p.onclick=le)}(a=he(s,a))&&jn(e),e.stateNode=o}null!==e.ref&&(e.effectTag|=128)}else null===e.stateNode&&r("166");break;case 6:o&&null!=e.stateNode?As(o,e,o.memoizedProps,a):("string"!==typeof a&&(null===e.stateNode&&r("166")),o=rn(ys.current),rn(ms.current),En(e)?(a=e,s=a.stateNode,o=a.memoizedProps,s[nr]=a,(a=s.nodeValue!==o)&&jn(e)):(s=e,a=(9===o.nodeType?o:o.ownerDocument).createTextNode(a),a[nr]=e,s.stateNode=a));break;case 11:break;case 13:if(a=e.memoizedState,0!==(64&e.effectTag)){e.expirationTime=s,Gs=e;break t}a=null!==a,s=null!==o&&null!==o.memoizedState,null!==o&&!a&&s&&null!==(o=o.child.sibling)&&(u=e.firstEffect,null!==u?(e.firstEffect=o,o.nextEffect=u):(e.firstEffect=e.lastEffect=o,o.nextEffect=null),o.effectTag=8),(a!==s||0===(1&e.effectTag)&&a)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:sn(e),Ps(e);break;case 10:tn(e);break;case 9:case 14:break;case 17:_e(e.type)&&ve(e);break;default:r("156")}Gs=null}if(e=t,1===Us||1!==e.childExpirationTime){for(a=0,s=e.child;null!==s;)o=s.expirationTime,u=s.childExpirationTime,o>a&&(a=o),u>a&&(a=u),s=s.sibling;e.childExpirationTime=a}if(null!==Gs)return Gs;null!==n&&0===(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t))}else{if(null!==(t=Yn(t,Us)))return t.effectTag&=1023,t;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==i)return i;if(null===n)break;t=n}return null}function Qn(t){var e=Fn(t.alternate,t,Us);return t.memoizedProps=t.pendingProps,null===e&&(e=Jn(t)),Ns.current=null,e}function $n(t,e){Ds&&r("243"),Kn(),Ds=!0,Ns.currentDispatcher=ks;var n=t.nextExpirationTimeToWorkOn;n===Us&&t===zs&&null!==Gs||(qn(),zs=t,Us=n,Gs=Ae(zs.current,null,Us),t.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(e)for(;null!==Gs&&!di();)Gs=Qn(Gs);else for(;null!==Gs;)Gs=Qn(Gs)}catch(e){if(fs=ps=cs=null,null===Gs)i=!0,bi(e);else{null===Gs&&r("271");var o=Gs,s=o.return;if(null!==s){t:{var a=t,u=s,l=o,h=e;if(s=Us,l.effectTag|=1024,l.firstEffect=l.lastEffect=null,null!==h&&"object"===typeof h&&"function"===typeof h.then){var c=h;h=u;var p=-1,f=-1;do{if(13===h.tag){var d=h.alternate;if(null!==d&&null!==(d=d.memoizedState)){f=10*(1073741822-d.timedOutAt);break}d=h.pendingProps.maxDuration,"number"===typeof d&&(0>=d?p=0:(-1===p||d<p)&&(p=d))}h=h.return}while(null!==h);h=u;do{if((d=13===h.tag)&&(d=void 0!==h.memoizedProps.fallback&&null===h.memoizedState),d){if(u=h.updateQueue,null===u?h.updateQueue=new Set([c]):u.add(c),0===(1&h.mode)){h.effectTag|=64,l.effectTag&=-1957,1===l.tag&&(null===l.alternate?l.tag=17:(s=Ze(1073741823),s.tag=2,Xe(l,s))),l.expirationTime=1073741823;break t}l=a.pingCache,null===l?(l=a.pingCache=new Is,u=new Set,l.set(c,u)):void 0===(u=l.get(c))&&(u=new Set,l.set(c,u)),u.has(s)||(u.add(s),l=ni.bind(null,a,c,s),c.then(l,l)),-1===p?a=1073741823:(-1===f&&(f=10*(1073741822-Ge(a,s))-5e3),a=f+p),0<=a&&Bs<a&&(Bs=a),h.effectTag|=2048,h.expirationTime=s;break t}h=h.return}while(null!==h);h=Error((tt(l.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+et(l))}Zs=!0,h=Qe(h,l),a=u;do{switch(a.tag){case 3:a.effectTag|=2048,a.expirationTime=s,s=Vn(a,h,s),Ve(a,s);break t;case 1:if(c=h,p=a.type,f=a.stateNode,0===(64&a.effectTag)&&("function"===typeof p.getDerivedStateFromError||null!==f&&"function"===typeof f.componentDidCatch&&(null===Ys||!Ys.has(f)))){a.effectTag|=2048,a.expirationTime=s,s=Hn(a,c,s),Ve(a,s);break t}}a=a.return}while(null!==a)}Gs=Jn(o);continue}i=!0,bi(e)}}break}if(Ds=!1,fs=ps=cs=Ns.currentDispatcher=null,i)zs=null,t.finishedWork=null;else if(null!==Gs)t.finishedWork=null;else{if(i=t.current.alternate,null===i&&r("281"),zs=null,Zs){if(o=t.latestPendingTime,s=t.latestSuspendedTime,a=t.latestPingedTime,0!==o&&o<n||0!==s&&s<n||0!==a&&a<n)return De(t,n),void li(t,i,n,t.expirationTime,-1);if(!t.didError&&e)return t.didError=!0,n=t.nextExpirationTimeToWorkOn=n,e=t.expirationTime=1073741823,void li(t,i,n,e,-1)}e&&-1!==Bs?(De(t,n),e=10*(1073741822-Ge(t,n)),e<Bs&&(Bs=e),e=10*(1073741822-ci()),e=Bs-e,li(t,i,n,t.expirationTime,0>e?0:e)):(t.pendingCommitExpirationTime=n,t.finishedWork=i)}}function ti(t,e){for(var n=t.return;null!==n;){switch(n.tag){case 1:var i=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Ys||!Ys.has(i)))return t=Qe(e,t),t=Hn(n,t,1073741823),Xe(n,t),void oi(n,1073741823);break;case 3:return t=Qe(e,t),t=Vn(n,t,1073741823),Xe(n,t),void oi(n,1073741823)}n=n.return}3===t.tag&&(n=Qe(e,t),n=Vn(t,n,1073741823),Xe(t,n),oi(t,1073741823))}function ei(t,e){return 0!==js?t=js:Ds?t=Xs?1073741823:Us:1&e.mode?(t=aa?1073741822-10*(1+((1073741822-t+15)/10|0)):1073741822-25*(1+((1073741822-t+500)/25|0)),null!==zs&&t===Us&&--t):t=1073741823,aa&&(0===na||t<na)&&(na=t),t}function ni(t,e,n){var i=t.pingCache;null!==i&&i.delete(e),null!==zs&&Us===n?zs=null:(e=t.earliestSuspendedTime,i=t.latestSuspendedTime,0!==e&&n<=e&&n>=i&&(t.didError=!1,e=t.latestPingedTime,(0===e||e>n)&&(t.latestPingedTime=n),ze(n,t),0!==(n=t.expirationTime)&&pi(t,n)))}function ii(t,e){var n=t.stateNode;null!==n&&n.delete(e),e=ci(),e=ei(e,t),null!==(t=ri(t,e))&&(je(t,e),0!==(e=t.expirationTime)&&pi(t,e))}function ri(t,e){t.expirationTime<e&&(t.expirationTime=e);var n=t.alternate;null!==n&&n.expirationTime<e&&(n.expirationTime=e);var i=t.return,r=null;if(null===i&&3===t.tag)r=t.stateNode;else for(;null!==i;){if(n=i.alternate,i.childExpirationTime<e&&(i.childExpirationTime=e),null!==n&&n.childExpirationTime<e&&(n.childExpirationTime=e),null===i.return&&3===i.tag){r=i.stateNode;break}i=i.return}return r}function oi(t,e){null!==(t=ri(t,e))&&(!Ds&&0!==Us&&e>Us&&qn(),je(t,e),Ds&&!Xs&&zs===t||pi(t,t.expirationTime),fa>pa&&(fa=0,r("185")))}function si(t,e,n,i,r){var o=js;js=1073741823;try{return t(e,n,i,r)}finally{js=o}}function ai(){ha=1073741822-((Di.unstable_now()-la)/10|0)}function ui(t,e){if(0!==Js){if(e<Js)return;null!==Qs&&Di.unstable_cancelCallback(Qs)}Js=e,t=Di.unstable_now()-la,Qs=Di.unstable_scheduleCallback(mi,{timeout:10*(1073741822-e)-t})}function li(t,e,n,i,r){t.expirationTime=i,0!==r||di()?0<r&&(t.timeoutHandle=$o(hi.bind(null,t,e,n),r)):(t.pendingCommitExpirationTime=n,t.finishedWork=e)}function hi(t,e,n){t.pendingCommitExpirationTime=n,t.finishedWork=e,ai(),ca=ha,yi(t,n)}function ci(){return $s?ca:(fi(),0!==ea&&1!==ea||(ai(),ca=ha),ca)}function pi(t,e){null===t.nextScheduledRoot?(t.expirationTime=e,null===Ks?(qs=Ks=t,t.nextScheduledRoot=t):(Ks=Ks.nextScheduledRoot=t,Ks.nextScheduledRoot=qs)):e>t.expirationTime&&(t.expirationTime=e),$s||(oa?sa&&(ta=t,ea=1073741823,_i(t,1073741823,!1)):1073741823===e?gi(1073741823,!1):ui(t,e))}function fi(){var t=0,e=null;if(null!==Ks)for(var n=Ks,i=qs;null!==i;){var o=i.expirationTime;if(0===o){if((null===n||null===Ks)&&r("244"),i===i.nextScheduledRoot){qs=Ks=i.nextScheduledRoot=null;break}if(i===qs)qs=o=i.nextScheduledRoot,Ks.nextScheduledRoot=o,i.nextScheduledRoot=null;else{if(i===Ks){Ks=n,Ks.nextScheduledRoot=qs,i.nextScheduledRoot=null;break}n.nextScheduledRoot=i.nextScheduledRoot,i.nextScheduledRoot=null}i=n.nextScheduledRoot}else{if(o>t&&(t=o,e=i),i===Ks)break;if(1073741823===t)break;n=i,i=i.nextScheduledRoot}}ta=e,ea=t}function di(){return!!ma||!!Di.unstable_shouldYield()&&(ma=!0)}function mi(){try{if(!di()&&null!==qs){ai();var t=qs;do{var e=t.expirationTime;0!==e&&ha<=e&&(t.nextExpirationTimeToWorkOn=ha),t=t.nextScheduledRoot}while(t!==qs)}gi(0,!0)}finally{ma=!1}}function gi(t,e){if(fi(),e)for(ai(),ca=ha;null!==ta&&0!==ea&&t<=ea&&!(ma&&ha>ea);)_i(ta,ea,ha>ea),fi(),ai(),ca=ha;else for(;null!==ta&&0!==ea&&t<=ea;)_i(ta,ea,!1),fi();if(e&&(Js=0,Qs=null),0!==ea&&ui(ta,ea),fa=0,da=null,null!==ua)for(t=ua,ua=null,e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(t){ia||(ia=!0,ra=t)}}if(ia)throw t=ra,ra=null,ia=!1,t}function yi(t,e){$s&&r("253"),ta=t,ea=e,_i(t,e,!1),gi(1073741823,!1)}function _i(t,e,n){if($s&&r("245"),$s=!0,n){var i=t.finishedWork;null!==i?vi(t,i,e):(t.finishedWork=null,i=t.timeoutHandle,-1!==i&&(t.timeoutHandle=-1,ts(i)),$n(t,n),null!==(i=t.finishedWork)&&(di()?t.finishedWork=i:vi(t,i,e)))}else i=t.finishedWork,null!==i?vi(t,i,e):(t.finishedWork=null,i=t.timeoutHandle,-1!==i&&(t.timeoutHandle=-1,ts(i)),$n(t,n),null!==(i=t.finishedWork)&&vi(t,i,e));$s=!1}function vi(t,e,n){var i=t.firstBatch;if(null!==i&&i._expirationTime>=n&&(null===ua?ua=[i]:ua.push(i),i._defer))return t.finishedWork=e,void(t.expirationTime=0);t.finishedWork=null,t===da?fa++:(da=t,fa=0),Xs=Ds=!0,t.current===e&&r("177"),n=t.pendingCommitExpirationTime,0===n&&r("261"),t.pendingCommitExpirationTime=0,i=e.expirationTime;var o=e.childExpirationTime;if(i=o>i?o:i,t.didError=!1,0===i?(t.earliestPendingTime=0,t.latestPendingTime=0,t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0):(i<t.latestPingedTime&&(t.latestPingedTime=0),o=t.latestPendingTime,0!==o&&(o>i?t.earliestPendingTime=t.latestPendingTime=0:t.earliestPendingTime>i&&(t.earliestPendingTime=t.latestPendingTime)),o=t.earliestSuspendedTime,0===o?je(t,i):i<t.latestSuspendedTime?(t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0,je(t,i)):i>o&&je(t,i)),ze(0,t),Ns.current=null,1<e.effectTag?null!==e.lastEffect?(e.lastEffect.nextEffect=e,i=e.firstEffect):i=e:i=e.firstEffect,Jo=ko,o=Xt(),Vt(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else t:{s=(s=o.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&0!==a.rangeCount){s=a.anchorNode;var u=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{s.nodeType,l.nodeType}catch(t){s=null;break t}var h=0,c=-1,p=-1,f=0,d=0,m=o,g=null;e:for(;;){for(var y;m!==s||0!==u&&3!==m.nodeType||(c=h+u),m!==l||0!==a&&3!==m.nodeType||(p=h+a),3===m.nodeType&&(h+=m.nodeValue.length),null!==(y=m.firstChild);)g=m,m=y;for(;;){if(m===o)break e;if(g===s&&++f===u&&(c=h),g===l&&++d===a&&(p=h),null!==(y=m.nextSibling))break;m=g,g=m.parentNode}m=y}s=-1===c||-1===p?null:{start:c,end:p}}else s=null}s=s||{start:0,end:0}}else s=null;for(Qo={focusedElem:o,selectionRange:s},ko=!1,Ws=i;null!==Ws;){o=!1,s=void 0;try{for(;null!==Ws;){if(256&Ws.effectTag)t:{var _=Ws.alternate;switch(u=Ws,u.tag){case 0:case 11:case 15:break t;case 1:if(256&u.effectTag&&null!==_){var v=_.memoizedProps,b=_.memoizedState,x=u.stateNode,w=x.getSnapshotBeforeUpdate(u.elementType===u.type?v:ln(u.type,v),b);x.__reactInternalSnapshotBeforeUpdate=w}break t;case 3:case 5:case 6:case 4:case 17:break t;default:r("163")}}Ws=Ws.nextEffect}}catch(t){o=!0,s=t}o&&(null===Ws&&r("178"),ti(Ws,s),null!==Ws&&(Ws=Ws.nextEffect))}for(Ws=i;null!==Ws;){_=!1,v=void 0;try{for(;null!==Ws;){var E=Ws.effectTag;if(16&E&&ie(Ws.stateNode,""),128&E){var S=Ws.alternate;if(null!==S){var T=S.ref;null!==T&&("function"===typeof T?T(null):T.current=null)}}switch(14&E){case 2:Zn(Ws),Ws.effectTag&=-3;break;case 6:Zn(Ws),Ws.effectTag&=-3,Xn(Ws.alternate,Ws);break;case 4:Xn(Ws.alternate,Ws);break;case 8:b=Ws,Wn(b),b.return=null,b.child=null,b.memoizedState=null,b.updateQueue=null;var C=b.alternate;null!==C&&(C.return=null,C.child=null,C.memoizedState=null,C.updateQueue=null)}Ws=Ws.nextEffect}}catch(t){_=!0,v=t}_&&(null===Ws&&r("178"),ti(Ws,v),null!==Ws&&(Ws=Ws.nextEffect))}if(T=Qo,S=Xt(),E=T.focusedElem,_=T.selectionRange,S!==E&&E&&E.ownerDocument&&Wt(E.ownerDocument.documentElement,E)){null!==_&&Vt(E)&&(S=_.start,T=_.end,void 0===T&&(T=S),"selectionStart"in E?(E.selectionStart=S,E.selectionEnd=Math.min(T,E.value.length)):(T=(S=E.ownerDocument||document)&&S.defaultView||window,T.getSelection&&(T=T.getSelection(),v=E.textContent.length,C=Math.min(_.start,v),_=void 0===_.end?C:Math.min(_.end,v),!T.extend&&C>_&&(v=_,_=C,C=v),v=Zt(E,C),b=Zt(E,_),v&&b&&(1!==T.rangeCount||T.anchorNode!==v.node||T.anchorOffset!==v.offset||T.focusNode!==b.node||T.focusOffset!==b.offset)&&(S=S.createRange(),S.setStart(v.node,v.offset),T.removeAllRanges(),C>_?(T.addRange(S),T.extend(b.node,b.offset)):(S.setEnd(b.node,b.offset),T.addRange(S)))))),S=[];for(T=E;T=T.parentNode;)1===T.nodeType&&S.push({element:T,left:T.scrollLeft,top:T.scrollTop});for("function"===typeof E.focus&&E.focus(),E=0;E<S.length;E++)T=S[E],T.element.scrollLeft=T.left,T.element.scrollTop=T.top}for(Qo=null,ko=!!Jo,Jo=null,t.current=e,Ws=i;null!==Ws;){i=!1,E=void 0;try{for(S=n;null!==Ws;){var M=Ws.effectTag;if(36&M){var L=Ws.alternate;switch(T=Ws,C=S,T.tag){case 0:case 11:case 15:break;case 1:var P=T.stateNode;if(4&T.effectTag)if(null===L)P.componentDidMount();else{var O=T.elementType===T.type?L.memoizedProps:ln(T.type,L.memoizedProps);P.componentDidUpdate(O,L.memoizedState,P.__reactInternalSnapshotBeforeUpdate)}var A=T.updateQueue;null!==A&&Ke(T,A,P,C);break;case 3:var R=T.updateQueue;if(null!==R){if(_=null,null!==T.child)switch(T.child.tag){case 5:_=T.child.stateNode;break;case 1:_=T.child.stateNode}Ke(T,R,_,C)}break;case 5:var I=T.stateNode;null===L&&4&T.effectTag&&he(T.type,T.memoizedProps)&&I.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:r("163")}}if(128&M){var k=Ws.ref;if(null!==k){var N=Ws.stateNode;switch(Ws.tag){case 5:var F=N;break;default:F=N}"function"===typeof k?k(F):k.current=F}}Ws=Ws.nextEffect}}catch(t){i=!0,E=t}i&&(null===Ws&&r("178"),ti(Ws,E),null!==Ws&&(Ws=Ws.nextEffect))}Ds=Xs=!1,"function"===typeof as&&as(e.stateNode),M=e.expirationTime,e=e.childExpirationTime,e=e>M?e:M,0===e&&(Ys=null),t.expirationTime=e,t.finishedWork=null}function bi(t){null===ta&&r("246"),ta.expirationTime=0,ia||(ia=!0,ra=t)}function xi(t,e){var n=oa;oa=!0;try{return t(e)}finally{(oa=n)||$s||gi(1073741823,!1)}}function wi(t,e){if(oa&&!sa){sa=!0;try{return t(e)}finally{sa=!1}}return t(e)}function Ei(t,e,n){if(aa)return t(e,n);oa||$s||0===na||(gi(na,!1),na=0);var i=aa,r=oa;oa=aa=!0;try{return t(e,n)}finally{aa=i,(oa=r)||$s||gi(1073741823,!1)}}function Si(t,e,n,i,o){var s=e.current;t:if(n){n=n._reactInternalFiber;e:{2===Pt(n)&&1===n.tag||r("170");var a=n;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(_e(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(null!==a);r("171"),a=void 0}if(1===n.tag){var u=n.type;if(_e(u)){n=we(n,u,a);break t}}n=a}else n=is;return null===e.context?e.context=n:e.pendingContext=n,e=o,o=Ze(i),o.payload={element:t},e=void 0===e?null:e,null!==e&&(o.callback=e),Kn(),Xe(s,o),oi(s,i),i}function Ti(t,e,n,i){var r=e.current;return r=ei(ci(),r),Si(t,e,n,r,i)}function Ci(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Mi(t,e,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:jr,key:null==i?null:""+i,children:t,containerInfo:e,implementation:n}}function Li(t){var e=1073741822-25*(1+((1073741822-ci()+500)/25|0));e>=Fs&&(e=Fs-1),this._expirationTime=Fs=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Pi(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Oi(t,e,n){e=Le(3,null,null,e?3:0),t={current:e,containerInfo:t,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=e.stateNode=t}function Ai(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function Ri(t,e){if(e||(e=t?9===t.nodeType?t.documentElement:t.firstChild:null,e=!(!e||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Oi(t,!1,e)}function Ii(t,e,n,i,o){Ai(n)||r("200");var s=n._reactRootContainer;if(s){if("function"===typeof o){var a=o;o=function(){var t=Ci(s._internalRoot);a.call(t)}}null!=t?s.legacy_renderSubtreeIntoContainer(t,e,o):s.render(e,o)}else{if(s=n._reactRootContainer=Ri(n,i),"function"===typeof o){var u=o;o=function(){var t=Ci(s._internalRoot);u.call(t)}}wi(function(){null!=t?s.legacy_renderSubtreeIntoContainer(t,e,o):s.render(e,o)})}return Ci(s._internalRoot)}function ki(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Ai(e)||r("200"),Mi(t,e,null,n)}function Ni(t,e){return Ai(t)||r("299","unstable_createRoot"),new Oi(t,!0,null!=e&&!0===e.hydrate)}var Fi=n(38),ji=n(37),Di=n(100);Fi||r("227");var Gi=!1,zi=null,Ui=!1,Bi=null,Zi={onError:function(t){Gi=!0,zi=t}},Wi=null,Xi={},Vi=[],Hi={},Yi={},qi={},Ki=null,Ji=null,Qi=null,$i=null,tr={injectEventPluginOrder:function(t){Wi&&r("101"),Wi=Array.prototype.slice.call(t),u()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var i=t[e];Xi.hasOwnProperty(e)&&Xi[e]===i||(Xi[e]&&r("102",e),Xi[e]=i,n=!0)}n&&u()}},er=Math.random().toString(36).slice(2),nr="__reactInternalInstance$"+er,ir="__reactEventHandlers$"+er,rr=!("undefined"===typeof window||!window.document||!window.document.createElement),or={animationend:C("Animation","AnimationEnd"),animationiteration:C("Animation","AnimationIteration"),animationstart:C("Animation","AnimationStart"),transitionend:C("Transition","TransitionEnd")},sr={},ar={};rr&&(ar=document.createElement("div").style,"AnimationEvent"in window||(delete or.animationend.animation,delete or.animationiteration.animation,delete or.animationstart.animation),"TransitionEvent"in window||delete or.transitionend.transition);var ur=M("animationend"),lr=M("animationiteration"),hr=M("animationstart"),cr=M("transitionend"),pr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fr=null,dr=null,mr=null;ji(A.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=P)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=P)},persist:function(){this.isPersistent=P},isPersistent:O,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=O,this._dispatchInstances=this._dispatchListeners=null}}),A.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},A.extend=function(t){function e(){}function n(){return i.apply(this,arguments)}var i=this;e.prototype=i.prototype;var r=new e;return ji(r,n.prototype),n.prototype=r,n.prototype.constructor=n,n.Interface=ji({},i.Interface,t),n.extend=i.extend,k(n),n},k(A);var gr=A.extend({data:null}),yr=A.extend({data:null}),_r=[9,13,27,32],vr=rr&&"CompositionEvent"in window,br=null;rr&&"documentMode"in document&&(br=document.documentMode);var xr=rr&&"TextEvent"in window&&!br,wr=rr&&(!vr||br&&8<br&&11>=br),Er=String.fromCharCode(32),Sr={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Tr=!1,Cr=!1,Mr={eventTypes:Sr,extractEvents:function(t,e,n,i){var r=void 0,o=void 0;if(vr)t:{switch(t){case"compositionstart":r=Sr.compositionStart;break t;case"compositionend":r=Sr.compositionEnd;break t;case"compositionupdate":r=Sr.compositionUpdate;break t}r=void 0}else Cr?N(t,n)&&(r=Sr.compositionEnd):"keydown"===t&&229===n.keyCode&&(r=Sr.compositionStart);return r?(wr&&"ko"!==n.locale&&(Cr||r!==Sr.compositionStart?r===Sr.compositionEnd&&Cr&&(o=L()):(fr=i,dr="value"in fr?fr.value:fr.textContent,Cr=!0)),r=gr.getPooled(r,e,n,i),o?r.data=o:null!==(o=F(n))&&(r.data=o),T(r),o=r):o=null,(t=xr?j(t,n):D(t,n))?(e=yr.getPooled(Sr.beforeInput,e,n,i),e.data=t,T(e)):e=null,null===o?e:null===e?o:[o,e]}},Lr=null,Pr=null,Or=null,Ar=!1,Rr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},Ir=Fi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kr=/^(.*)[\\\/]/,Nr="function"===typeof Symbol&&Symbol.for,Fr=Nr?Symbol.for("react.element"):60103,jr=Nr?Symbol.for("react.portal"):60106,Dr=Nr?Symbol.for("react.fragment"):60107,Gr=Nr?Symbol.for("react.strict_mode"):60108,zr=Nr?Symbol.for("react.profiler"):60114,Ur=Nr?Symbol.for("react.provider"):60109,Br=Nr?Symbol.for("react.context"):60110,Zr=Nr?Symbol.for("react.concurrent_mode"):60111,Wr=Nr?Symbol.for("react.forward_ref"):60112,Xr=Nr?Symbol.for("react.suspense"):60113,Vr=Nr?Symbol.for("react.memo"):60115,Hr=Nr?Symbol.for("react.lazy"):60116,Yr="function"===typeof Symbol&&Symbol.iterator,qr=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kr=Object.prototype.hasOwnProperty,Jr={},Qr={},$r={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){$r[t]=new ot(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];$r[e]=new ot(e,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){$r[t]=new ot(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){$r[t]=new ot(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){$r[t]=new ot(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){$r[t]=new ot(t,3,!0,t,null)}),["capture","download"].forEach(function(t){$r[t]=new ot(t,4,!1,t,null)}),["cols","rows","size","span"].forEach(function(t){$r[t]=new ot(t,6,!1,t,null)}),["rowSpan","start"].forEach(function(t){$r[t]=new ot(t,5,!1,t.toLowerCase(),null)});var to=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(to,st);$r[e]=new ot(e,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(to,st);$r[e]=new ot(e,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(to,st);$r[e]=new ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),$r.tabIndex=new ot("tabIndex",1,!1,"tabindex",null);var eo={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},no=null,io=null,ro=!1;rr&&(ro=Y("input")&&(!document.documentMode||9<document.documentMode));var oo={eventTypes:eo,_isInputEventSupported:ro,extractEvents:function(t,e,n,i){var r=e?_(e):window,o=void 0,s=void 0,a=r.nodeName&&r.nodeName.toLowerCase();if("select"===a||"input"===a&&"file"===r.type?o=_t:V(r)?ro?o=St:(o=wt,s=xt):(a=r.nodeName)&&"input"===a.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=Et),o&&(o=o(t,e)))return mt(o,n,i);s&&s(t,r,e),"blur"===t&&(t=r._wrapperState)&&t.controlled&&"number"===r.type&&dt(r,"number",r.value)}},so=A.extend({view:null,detail:null}),ao={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},uo=0,lo=0,ho=!1,co=!1,po=so.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ct,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=uo;return uo=t.screenX,ho?"mousemove"===t.type?t.screenX-e:0:(ho=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=lo;return lo=t.screenY,co?"mousemove"===t.type?t.screenY-e:0:(co=!0,0)}}),fo=po.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),mo={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},go={eventTypes:mo,extractEvents:function(t,e,n,i){var r="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(r&&(n.relatedTarget||n.fromElement)||!o&&!r)return null;if(r=i.window===i?i:(r=i.ownerDocument)?r.defaultView||r.parentWindow:window,o?(o=e,e=(e=n.relatedTarget||n.toElement)?g(e):null):o=null,o===e)return null;var s=void 0,a=void 0,u=void 0,l=void 0;"mouseout"===t||"mouseover"===t?(s=po,a=mo.mouseLeave,u=mo.mouseEnter,l="mouse"):"pointerout"!==t&&"pointerover"!==t||(s=fo,a=mo.pointerLeave,u=mo.pointerEnter,l="pointer");var h=null==o?r:_(o);if(r=null==e?r:_(e),t=s.getPooled(a,o,n,i),t.type=l+"leave",t.target=h,t.relatedTarget=r,n=s.getPooled(u,e,n,i),n.type=l+"enter",n.target=r,n.relatedTarget=h,i=e,o&&i)t:{for(e=o,r=i,l=0,s=e;s;s=b(s))l++;for(s=0,u=r;u;u=b(u))s++;for(;0<l-s;)e=b(e),l--;for(;0<s-l;)r=b(r),s--;for(;l--;){if(e===r||e===r.alternate)break t;e=b(e),r=b(r)}e=null}else e=null;for(r=e,e=[];o&&o!==r&&(null===(l=o.alternate)||l!==r);)e.push(o),o=b(o);for(o=[];i&&i!==r&&(null===(l=i.alternate)||l!==r);)o.push(i),i=b(i);for(i=0;i<e.length;i++)E(e[i],"bubbled",t);for(i=o.length;0<i--;)E(o[i],"captured",n);return[t,n]}},yo=Object.prototype.hasOwnProperty,_o=A.extend({animationName:null,elapsedTime:null,pseudoElement:null}),vo=A.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),bo=so.extend({relatedTarget:null}),xo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wo={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eo=so.extend({key:function(t){if(t.key){var e=xo[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?(t=It(t),13===t?"Enter":String.fromCharCode(t)):"keydown"===t.type||"keyup"===t.type?wo[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ct,charCode:function(t){return"keypress"===t.type?It(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?It(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),So=po.extend({dataTransfer:null}),To=so.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ct}),Co=A.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),Mo=po.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),Lo=[["abort","abort"],[ur,"animationEnd"],[lr,"animationIteration"],[hr,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[cr,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Po={},Oo={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(t){kt(t,!0)}),Lo.forEach(function(t){kt(t,!1)});var Ao={eventTypes:Po,isInteractiveTopLevelEventType:function(t){return void 0!==(t=Oo[t])&&!0===t.isInteractive},extractEvents:function(t,e,n,i){var r=Oo[t];if(!r)return null;switch(t){case"keypress":if(0===It(n))return null;case"keydown":case"keyup":t=Eo;break;case"blur":case"focus":t=bo;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=So;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=To;break;case ur:case lr:case hr:t=_o;break;case cr:t=Co;break;case"scroll":t=so;break;case"wheel":t=Mo;break;case"copy":case"cut":case"paste":t=vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=fo;break;default:t=A}return e=t.getPooled(r,e,n,i),T(e),e}},Ro=Ao.isInteractiveTopLevelEventType,Io=[],ko=!0,No={},Fo=0,jo="_reactListenersID"+(""+Math.random()).slice(2),Do=rr&&"documentMode"in document&&11>=document.documentMode,Go={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},zo=null,Uo=null,Bo=null,Zo=!1,Wo={eventTypes:Go,extractEvents:function(t,e,n,i){var r,o=i.window===i?i.document:9===i.nodeType?i:i.ownerDocument;if(!(r=!o)){t:{o=zt(o),r=qi.onSelect;for(var s=0;s<r.length;s++){var a=r[s];if(!o.hasOwnProperty(a)||!o[a]){o=!1;break t}}o=!0}r=!o}if(r)return null;switch(o=e?_(e):window,t){case"focus":(V(o)||"true"===o.contentEditable)&&(zo=o,Uo=e,Bo=null);break;case"blur":Bo=Uo=zo=null;break;case"mousedown":Zo=!0;break;case"contextmenu":case"mouseup":case"dragend":return Zo=!1,Ht(n,i);case"selectionchange":if(Do)break;case"keydown":case"keyup":return Ht(n,i)}return null}};tr.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Ki=v,Ji=y,Qi=_,tr.injectEventPluginsByName({SimpleEventPlugin:Ao,EnterLeaveEventPlugin:go,ChangeEventPlugin:oo,SelectEventPlugin:Wo,BeforeInputEventPlugin:Mr});var Xo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Vo=void 0,Ho=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if(t.namespaceURI!==Xo.svg||"innerHTML"in t)t.innerHTML=e;else{for(Vo=Vo||document.createElement("div"),Vo.innerHTML="<svg>"+e+"</svg>",e=Vo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}),Yo={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qo=["Webkit","ms","Moz","O"];Object.keys(Yo).forEach(function(t){qo.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Yo[e]=Yo[t]})});var Ko=ji({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Jo=null,Qo=null,$o="function"===typeof setTimeout?setTimeout:void 0,ts="function"===typeof clearTimeout?clearTimeout:void 0;new Set;var es=[],ns=-1,is={},rs={current:is},os={current:!1},ss=is,as=null,us=null,ls=!1,hs={current:null},cs=null,ps=null,fs=null,ds={},ms={current:ds},gs={current:ds},ys={current:ds},_s=Ir.ReactCurrentOwner,vs=(new Fi.Component).refs,bs={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===Pt(t)},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var i=ci();i=ei(i,t);var r=Ze(i);r.payload=e,void 0!==n&&null!==n&&(r.callback=n),Kn(),Xe(t,r),oi(t,i)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var i=ci();i=ei(i,t);var r=Ze(i);r.tag=1,r.payload=e,void 0!==n&&null!==n&&(r.callback=n),Kn(),Xe(t,r),oi(t,i)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=ci();n=ei(n,t);var i=Ze(n);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),Kn(),Xe(t,i),oi(t,n)}},xs=Array.isArray,ws=_n(!0),Es=_n(!1),Ss=null,Ts=null,Cs=!1,Ms=Ir.ReactCurrentOwner,Ls=void 0,Ps=void 0,Os=void 0,As=void 0;Ls=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ps=function(){},Os=function(t,e,n,i,r){var o=t.memoizedProps;if(o!==i){var s=e.stateNode;switch(rn(ms.current),t=null,n){case"input":o=lt(s,o),i=lt(s,i),t=[];break;case"option":o=qt(s,o),i=qt(s,i),t=[];break;case"select":o=ji({},o,{value:void 0}),i=ji({},i,{value:void 0}),t=[];break;case"textarea":o=Jt(s,o),i=Jt(s,i),t=[];break;default:"function"!==typeof o.onClick&&"function"===typeof i.onClick&&(s.onclick=le)}se(n,i),s=n=void 0;var a=null;for(n in o)if(!i.hasOwnProperty(n)&&o.hasOwnProperty(n)&&null!=o[n])if("style"===n){var u=o[n];for(s in u)u.hasOwnProperty(s)&&(a||(a={}),a[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(Yi.hasOwnProperty(n)?t||(t=[]):(t=t||[]).push(n,null));for(n in i){var l=i[n];if(u=null!=o?o[n]:void 0,i.hasOwnProperty(n)&&l!==u&&(null!=l||null!=u))if("style"===n)if(u){for(s in u)!u.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(a||(a={}),a[s]="");for(s in l)l.hasOwnProperty(s)&&u[s]!==l[s]&&(a||(a={}),a[s]=l[s])}else a||(t||(t=[]),t.push(n,a)),a=l;else"dangerouslySetInnerHTML"===n?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(t=t||[]).push(n,""+l)):"children"===n?u===l||"string"!==typeof l&&"number"!==typeof l||(t=t||[]).push(n,""+l):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(Yi.hasOwnProperty(n)?(null!=l&&ue(r,n),t||u===l||(t=[])):(t=t||[]).push(n,l))}a&&(t=t||[]).push("style",a),r=t,(e.updateQueue=r)&&jn(e)}},As=function(t,e,n,i){n!==i&&jn(e)};var Rs="function"===typeof WeakSet?WeakSet:Set,Is="function"===typeof WeakMap?WeakMap:Map,ks={readContext:nn},Ns=Ir.ReactCurrentOwner,Fs=1073741822,js=0,Ds=!1,Gs=null,zs=null,Us=0,Bs=-1,Zs=!1,Ws=null,Xs=!1,Vs=null,Hs=null,Ys=null,qs=null,Ks=null,Js=0,Qs=void 0,$s=!1,ta=null,ea=0,na=0,ia=!1,ra=null,oa=!1,sa=!1,aa=!1,ua=null,la=Di.unstable_now(),ha=1073741822-(la/10|0),ca=ha,pa=50,fa=0,da=null,ma=!1;Lr=function(t,e,n){switch(e){case"input":if(pt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=v(i);o||r("90"),Q(i),pt(i,o)}}}break;case"textarea":$t(t,n);break;case"select":null!=(e=n.value)&&Kt(t,!!n.multiple,e,!1)}},Li.prototype.render=function(t){this._defer||r("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,i=new Pi;return Si(t,e,null,n,i._onCommit),i},Li.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Li.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||r("251"),this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var i=null,o=e;o!==this;)i=o,o=o._next;null===i&&r("251"),i._next=o._next,this._next=e,t.firstBatch=this}this._defer=!1,yi(t,n),e=this._next,this._next=null,e=t.firstBatch=e,null!==e&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},Li.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},Pi.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Pi.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];"function"!==typeof n&&r("191",n),n()}}},Oi.prototype.render=function(t,e){var n=this._internalRoot,i=new Pi;return e=void 0===e?null:e,null!==e&&i.then(e),Ti(t,n,null,i._onCommit),i},Oi.prototype.unmount=function(t){var e=this._internalRoot,n=new Pi;return t=void 0===t?null:t,null!==t&&n.then(t),Ti(null,e,null,n._onCommit),n},Oi.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var i=this._internalRoot,r=new Pi;return n=void 0===n?null:n,null!==n&&r.then(n),Ti(e,i,t,r._onCommit),r},Oi.prototype.createBatch=function(){var t=new Li(this),e=t._expirationTime,n=this._internalRoot,i=n.firstBatch;if(null===i)n.firstBatch=t,t._next=null;else{for(n=null;null!==i&&i._expirationTime>=e;)n=i,i=i._next;t._next=i,null!==n&&(n._next=t)}return t},B=xi,Z=Ei,W=function(){$s||0===na||(gi(na,!1),na=0)};var ga={createPortal:ki,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;return void 0===e&&("function"===typeof t.render?r("188"):r("268",Object.keys(t))),t=Rt(e),t=null===t?null:t.stateNode},hydrate:function(t,e,n){return Ii(null,t,e,!0,n)},render:function(t,e,n){return Ii(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,i){return(null==t||void 0===t._reactInternalFiber)&&r("38"),Ii(t,e,n,!1,i)},unmountComponentAtNode:function(t){return Ai(t)||r("40"),!!t._reactRootContainer&&(wi(function(){Ii(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return ki.apply(void 0,arguments)},unstable_batchedUpdates:xi,unstable_interactiveUpdates:Ei,flushSync:function(t,e){$s&&r("187");var n=oa;oa=!0;try{return si(t,e)}finally{oa=n,gi(1073741823,!1)}},unstable_createRoot:Ni,unstable_flushControlled:function(t){var e=oa;oa=!0;try{si(t)}finally{(oa=e)||$s||gi(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[y,_,v,tr.injectEventPluginsByName,Hi,T,function(t){p(t,S)},z,U,Gt,m]}};!function(t){var e=t.findFiberByHostInstance;Ce(ji({},t,{overrideProps:null,findHostInstanceByFiber:function(t){return t=Rt(t),null===t?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}({findFiberByHostInstance:g,bundleType:0,version:"16.7.0",rendererPackageName:"react-dom"});var ya={default:ga},_a=ya&&ga||ya;t.exports=_a.default||_a},function(t,e,n){"use strict";t.exports=n(101)},function(t,e,n){"use strict";(function(t){function n(){if(!d){var t=l.expirationTime;m?E():m=!0,w(o,t)}}function i(){var t=l,e=l.next;if(l===e)l=null;else{var i=l.previous;l=i.next=e,e.previous=i}t.next=t.previous=null,i=t.callback,e=t.expirationTime,t=t.priorityLevel;var r=c,o=f;c=t,f=e;try{var s=i()}finally{c=r,f=o}if("function"===typeof s)if(s={callback:s,priorityLevel:t,expirationTime:e,next:null,previous:null},null===l)l=s.next=s.previous=s;else{i=null,t=l;do{if(t.expirationTime>=e){i=t;break}t=t.next}while(t!==l);null===i?i=l:i===l&&(l=s,n()),e=i.previous,e.next=i.previous=s,s.next=i,s.previous=e}}function r(){if(-1===p&&null!==l&&1===l.priorityLevel){d=!0;try{do{i()}while(null!==l&&1===l.priorityLevel)}finally{d=!1,null!==l?n():m=!1}}}function o(t){d=!0;var o=h;h=t;try{if(t)for(;null!==l;){var s=e.unstable_now();if(!(l.expirationTime<=s))break;do{i()}while(null!==l&&l.expirationTime<=s)}else if(null!==l)do{i()}while(null!==l&&!S())}finally{d=!1,h=o,null!==l?n():m=!1,r()}}function s(t){a=v(function(e){_(u),t(e)}),u=y(function(){b(a),t(e.unstable_now())},100)}Object.defineProperty(e,"__esModule",{value:!0});var a,u,l=null,h=!1,c=3,p=-1,f=-1,d=!1,m=!1,g=Date,y="function"===typeof setTimeout?setTimeout:void 0,_="function"===typeof clearTimeout?clearTimeout:void 0,v="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;if("object"===typeof performance&&"function"===typeof performance.now){var x=performance;e.unstable_now=function(){return x.now()}}else e.unstable_now=function(){return g.now()};var w,E,S,T=null;if("undefined"!==typeof window?T=window:"undefined"!==typeof t&&(T=t),T&&T._schedMock){var C=T._schedMock;w=C[0],E=C[1],S=C[2],e.unstable_now=C[3]}else if("undefined"===typeof window||"function"!==typeof MessageChannel){var M=null,L=function(t){if(null!==M)try{M(t)}finally{M=null}};w=function(t){null!==M?setTimeout(w,0,t):(M=t,setTimeout(L,0,!1))},E=function(){M=null},S=function(){return!1}}else{"undefined"!==typeof console&&("function"!==typeof v&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var P=null,O=!1,A=-1,R=!1,I=!1,k=0,N=33,F=33;S=function(){return k<=e.unstable_now()};var j=new MessageChannel,D=j.port2;j.port1.onmessage=function(){O=!1;var t=P,n=A;P=null,A=-1;var i=e.unstable_now(),r=!1;if(0>=k-i){if(!(-1!==n&&n<=i))return R||(R=!0,s(G)),P=t,void(A=n);r=!0}if(null!==t){I=!0;try{t(r)}finally{I=!1}}};var G=function(t){if(null!==P){s(G);var e=t-k+F;e<F&&N<F?(8>e&&(e=8),F=e<N?N:e):N=e,k=t+F,O||(O=!0,D.postMessage(void 0))}else R=!1};w=function(t,e){P=t,A=e,I||0>e?D.postMessage(void 0):R||(R=!0,s(G))},E=function(){P=null,O=!1,A=-1}}e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=5,e.unstable_LowPriority=4,e.unstable_runWithPriority=function(t,n){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var i=c,o=p;c=t,p=e.unstable_now();try{return n()}finally{c=i,p=o,r()}},e.unstable_scheduleCallback=function(t,i){var r=-1!==p?p:e.unstable_now();if("object"===typeof i&&null!==i&&"number"===typeof i.timeout)i=r+i.timeout;else switch(c){case 1:i=r+-1;break;case 2:i=r+250;break;case 5:i=r+1073741823;break;case 4:i=r+1e4;break;default:i=r+5e3}if(t={callback:t,priorityLevel:c,expirationTime:i,next:null,previous:null},null===l)l=t.next=t.previous=t,n();else{r=null;var o=l;do{if(o.expirationTime>i){r=o;break}o=o.next}while(o!==l);null===r?r=l:r===l&&(l=t,n()),i=r.previous,i.next=r.previous=t,t.next=r,t.previous=i}return t},e.unstable_cancelCallback=function(t){var e=t.next;if(null!==e){if(e===t)l=null;else{t===l&&(l=e);var n=t.previous;n.next=e,e.previous=n}t.next=t.previous=null}},e.unstable_wrapCallback=function(t){var n=c;return function(){var i=c,o=p;c=n,p=e.unstable_now();try{return t.apply(this,arguments)}finally{c=i,p=o,r()}}},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_shouldYield=function(){return!h&&(null!==l&&l.expirationTime<f||S())},e.unstable_continueExecution=function(){null!==l&&n()},e.unstable_pauseExecution=function(){},e.unstable_getFirstCallbackNode=function(){return l}}).call(e,n(18))},function(t,e){},function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(38),a=n.n(s),u=n(104),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),h=function(t){function e(){return i(this,e),r(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"render",value:function(){return a.a.createElement(u.a,{type:"leaflet"})}}]),e}(s.Component);e.a=h},function(t,e,n){"use strict";(function(t){function i(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!==typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}function r(t){for(var e in t)delete t[e]}function o(t){var e=[];for(var n in t)e.push(t[n]);return e}function s(t){var e;for(e in t)return!1;return!e}function a(t){var e=function(e){var n=t.listener,i=t.bindTo||t.target;return t.callOnce&&g(t),n.call(i,e)};return t.boundListener=e,e}function u(t,e,n,i){for(var r,o=0,s=t.length;o<s;++o)if(r=t[o],r.listener===e&&r.bindTo===n)return i&&(r.deleteIndex=o),r}function l(t,e){var n=h(t);return n?n[e]:void 0}function h(t,e){var n=t.ol_lm;return!n&&e&&(n=t.ol_lm={}),n}function c(t){delete t.ol_lm}function p(t,e){var n=l(t,e);if(n){for(var i=0,o=n.length;i<o;++i)t.removeEventListener(e,n[i].boundListener),r(n[i]);n.length=0;var s=h(t);s&&(delete s[e],0===Object.keys(s).length&&c(t))}}function f(t,e,n,i,r){var o=h(t,!0),s=o[e];s||(s=o[e]=[]);var l=u(s,n,i,!1);return l?r||(l.callOnce=!1):(l={bindTo:i,callOnce:!!r,listener:n,target:t,type:e},t.addEventListener(e,a(l)),s.push(l)),l}function d(t,e,n,i){return f(t,e,n,i,!0)}function m(t,e,n,i){var r=l(t,e);if(r){var o=u(r,n,i,!0);o&&g(o)}}function g(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var e=l(t.target,t.type);if(e){var n="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==n&&e.splice(n,1),0===e.length&&p(t.target,t.type)}r(t)}}function y(t){var e=h(t);if(e)for(var n in e)p(t,n)}function _(){return function(){throw new Error("Unimplemented abstract method.")}()}function v(t){return t.ol_uid||(t.ol_uid=String(++ch))}function b(){return!0}function x(){return!1}function w(){}function E(t){t.stopPropagation()}function S(t){return bh.hasOwnProperty(t)?bh[t]:bh[t]="change:"+t}function T(t,e){if(!t)throw new wh(e)}function C(t,e,n){return Math.min(Math.max(t,e),n)}function M(t,e,n,i,r,o){var s=r-n,a=o-i;if(0!==s||0!==a){var u=((t-n)*s+(e-i)*a)/(s*s+a*a);u>1?(n=r,i=o):u>0&&(n+=s*u,i+=a*u)}return P(t,e,n,i)}function P(t,e,n,i){var r=n-t,o=i-e;return r*r+o*o}function O(t){for(var e=t.length,n=0;n<e;n++){for(var i=n,r=Math.abs(t[n][n]),o=n+1;o<e;o++){var s=Math.abs(t[o][n]);s>r&&(r=s,i=o)}if(0===r)return null;var a=t[i];t[i]=t[n],t[n]=a;for(var u=n+1;u<e;u++)for(var l=-t[u][n]/t[n][n],h=n;h<e+1;h++)n==h?t[u][h]=0:t[u][h]+=l*t[n][h]}for(var c=new Array(e),p=e-1;p>=0;p--){c[p]=t[p][e]/t[p][p];for(var f=p-1;f>=0;f--)t[f][e]-=t[f][p]*c[p]}return c}function A(t){return t*Math.PI/180}function R(t,e){var n=t%e;return n*e<0?n+e:n}function I(t,e,n){return t+n*(e-t)}function k(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}function N(t){for(var e=W(),n=0,i=t.length;n<i;++n)Q(e,t[n]);return e}function F(t,e,n){return X(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),n)}function j(t,e,n){return n?(n[0]=t[0]-e,n[1]=t[1]-e,n[2]=t[2]+e,n[3]=t[3]+e,n):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function D(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function G(t,e,n){var i,r;return i=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0,r=n<t[1]?t[1]-n:t[3]<n?n-t[3]:0,i*i+r*r}function z(t,e){return B(t,e[0],e[1])}function U(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function B(t,e,n){return t[0]<=e&&e<=t[2]&&t[1]<=n&&n<=t[3]}function Z(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=e[0],a=e[1],u=Ih.UNKNOWN;return s<n?u|=Ih.LEFT:s>r&&(u|=Ih.RIGHT),a<i?u|=Ih.BELOW:a>o&&(u|=Ih.ABOVE),u===Ih.UNKNOWN&&(u=Ih.INTERSECTING),u}function W(){return[1/0,1/0,-1/0,-1/0]}function X(t,e,n,i,r){return r?(r[0]=t,r[1]=e,r[2]=n,r[3]=i,r):[t,e,n,i]}function V(t){return X(1/0,1/0,-1/0,-1/0,t)}function H(t,e){var n=t[0],i=t[1];return X(n,i,n,i,e)}function Y(t,e){return $(V(e),t)}function q(t,e,n,i,r){return tt(V(r),t,e,n,i)}function K(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function J(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function Q(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function $(t,e){for(var n=0,i=e.length;n<i;++n)Q(t,e[n]);return t}function tt(t,e,n,i,r){for(;n<i;n+=r)et(t,e[n],e[n+1]);return t}function et(t,e,n){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],n),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],n)}function nt(t,e,n){var i;return(i=e.call(n,rt(t)))?i:(i=e.call(n,ot(t)))?i:(i=e.call(n,pt(t)))?i:(i=e.call(n,ct(t)))||!1}function it(t){var e=0;return mt(t)||(e=ft(t)*lt(t)),e}function rt(t){return[t[0],t[1]]}function ot(t){return[t[2],t[1]]}function st(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function at(t,e){var n;return e===Rh.BOTTOM_LEFT?n=rt(t):e===Rh.BOTTOM_RIGHT?n=ot(t):e===Rh.TOP_LEFT?n=ct(t):e===Rh.TOP_RIGHT?n=pt(t):T(!1,13),n}function ut(t,e,n,i,r){var o=e*i[0]/2,s=e*i[1]/2,a=Math.cos(n),u=Math.sin(n),l=o*a,h=o*u,c=s*a,p=s*u,f=t[0],d=t[1],m=f-l+p,g=f-l-p,y=f+l-p,_=f+l+p,v=d-h-c,b=d-h+c,x=d+h+c,w=d+h-c;return X(Math.min(m,g,y,_),Math.min(v,b,x,w),Math.max(m,g,y,_),Math.max(v,b,x,w),r)}function lt(t){return t[3]-t[1]}function ht(t,e,n){var i=n||W();return dt(t,e)?(t[0]>e[0]?i[0]=t[0]:i[0]=e[0],t[1]>e[1]?i[1]=t[1]:i[1]=e[1],t[2]<e[2]?i[2]=t[2]:i[2]=e[2],t[3]<e[3]?i[3]=t[3]:i[3]=e[3]):V(i),i}function ct(t){return[t[0],t[3]]}function pt(t){return[t[2],t[3]]}function ft(t){return t[2]-t[0]}function dt(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function mt(t){return t[2]<t[0]||t[3]<t[1]}function gt(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function yt(t,e){var n=(t[2]-t[0])/2*(e-1),i=(t[3]-t[1])/2*(e-1);t[0]-=n,t[2]+=n,t[1]-=i,t[3]+=i}function _t(t,e,n){var i=!1,r=Z(t,e),o=Z(t,n);if(r===Ih.INTERSECTING||o===Ih.INTERSECTING)i=!0;else{var s,a,u=t[0],l=t[1],h=t[2],c=t[3],p=e[0],f=e[1],d=n[0],m=n[1],g=(m-f)/(d-p);o&Ih.ABOVE&&!(r&Ih.ABOVE)&&(s=d-(m-c)/g,i=s>=u&&s<=h),i||!(o&Ih.RIGHT)||r&Ih.RIGHT||(a=m-(d-h)*g,i=a>=l&&a<=c),i||!(o&Ih.BELOW)||r&Ih.BELOW||(s=d-(m-l)/g,i=s>=u&&s<=h),i||!(o&Ih.LEFT)||r&Ih.LEFT||(a=m-(d-u)*g,i=a>=l&&a<=c)}return i}function vt(t,e,n){var i=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(i,i,2),F([i[0],i[2],i[4],i[6]],[i[1],i[3],i[5],i[7]],n)}function bt(t,e,n){var i=n||Fh,r=A(t[1]),o=A(e[1]),s=(o-r)/2,a=A(e[0]-t[0])/2,u=Math.sin(s)*Math.sin(s)+Math.sin(a)*Math.sin(a)*Math.cos(r)*Math.cos(o);return 2*i*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}function xt(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=Uh,a=0;a<i;a+=r){o[a]=s*t[a]/180;var u=zh*Math.log(Math.tan(Math.PI*(t[a+1]+90)/360));u>s?u=s:u<-s&&(u=-s),o[a+1]=u}return o}function wt(t,e,n){var i=t.length,r=n>1?n:2,o=e;void 0===o&&(o=r>2?t.slice():new Array(i));for(var s=0;s<i;s+=r)o[s]=180*t[s]/Uh,o[s+1]=360*Math.atan(Math.exp(t[s+1]/zh))/Math.PI-90;return o}function Et(t){return Kh[t]||null}function St(t,e){Kh[t]=e}function Tt(t,e,n){var i=t.getCode(),r=e.getCode();i in Jh||(Jh[i]={}),Jh[i][r]=n}function Ct(t,e){var n;return t in Jh&&e in Jh[t]&&(n=Jh[t][e]),n}function Mt(t,e,n){var i;if(void 0!==e){for(var r=0,o=t.length;r<o;++r)e[r]=t[r];i=e}else i=t.slice();return i}function Lt(t,e,n){if(void 0!==e&&t!==e){for(var i=0,r=t.length;i<r;++i)e[i]=t[i];t=e}return t}function Pt(t){St(t.getCode(),t),Tt(t,t,Mt)}function Ot(t){t.forEach(Pt)}function At(t){return"string"===typeof t?Et(t):t||null}function Rt(t,e,n,i){t=At(t);var r,o=t.getPointResolutionFunc();if(o)r=o(e,n);else{if(t.getUnits()==jh.DEGREES&&!i||i==jh.DEGREES)r=e;else{var s=jt(t,At("EPSG:4326")),a=[n[0]-e/2,n[1],n[0]+e/2,n[1],n[0],n[1]-e/2,n[0],n[1]+e/2];a=s(a,a,2);r=(bt(a.slice(0,2),a.slice(2,4))+bt(a.slice(4,6),a.slice(6,8)))/2;var u=i?Dh[i]:t.getMetersPerUnit();void 0!==u&&(r/=u)}}return r}function It(t){Ot(t),t.forEach(function(e){t.forEach(function(t){e!==t&&Tt(e,t,Mt)})})}function kt(t,e,n,i){t.forEach(function(t){e.forEach(function(e){Tt(t,e,n),Tt(e,t,i)})})}function Nt(t,e){return t?"string"===typeof t?At(t):t:At(e)}function Ft(t,e){if(t===e)return!0;var n=t.getUnits()===e.getUnits();return t.getCode()===e.getCode()?n:jt(t,e)===Mt&&n}function jt(t,e){var n=t.getCode(),i=e.getCode(),r=Ct(n,i);return r||(r=Lt),r}function Dt(t,e){return jt(At(t),At(e))}function Gt(t,e,n){return Dt(e,n)(t,void 0,t.length)}function zt(t,e,n){return vt(t,Dt(e,n))}function Ut(t,e){var n=document.createElement("canvas");return t&&(n.width=t),e&&(n.height=e),n.getContext("2d")}function Bt(t){var e=t.offsetWidth,n=getComputedStyle(t);return e+=parseInt(n.marginLeft,10)+parseInt(n.marginRight,10)}function Zt(t){var e=t.offsetHeight,n=getComputedStyle(t);return e+=parseInt(n.marginTop,10)+parseInt(n.marginBottom,10)}function Wt(t,e){var n=e.parentNode;n&&n.replaceChild(t,e)}function Xt(t){return t&&t.parentNode?t.parentNode.removeChild(t):null}function Vt(t){for(;t.lastChild;)t.removeChild(t.lastChild)}function Ht(t,e,n,i){var r=Gt(n,e,t),o=Rt(e,i,n),s=e.getMetersPerUnit();void 0!==s&&(o*=s);var a=t.getMetersPerUnit();void 0!==a&&(o/=a);var u=t.getExtent();if(!u||z(u,r)){var l=Rt(t,o,r)/o;isFinite(l)&&l>0&&(o/=l)}return o}function Yt(t,e,n,i){var r=n-t,o=i-e,s=Math.sqrt(r*r+o*o);return[Math.round(n+r/s),Math.round(i+o/s)]}function qt(t,e,n,i,r,o,s,a,u,l,h){var c=Ut(Math.round(n*t),Math.round(n*e));if(0===u.length)return c.canvas;c.scale(n,n);var p=W();u.forEach(function(t,e,n){J(p,t.extent)});var f=ft(p),d=lt(p),m=Ut(Math.round(n*f/i),Math.round(n*d/i)),g=n/i;u.forEach(function(t,e,n){var i=t.extent[0]-p[0],r=-(t.extent[3]-p[3]),o=ft(t.extent),s=lt(t.extent);m.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,i*g,r*g,o*g,s*g)});var y=ct(s);return a.getTriangles().forEach(function(t,e,r){var s=t.source,a=t.target,u=s[0][0],l=s[0][1],h=s[1][0],f=s[1][1],d=s[2][0],g=s[2][1],_=(a[0][0]-y[0])/o,v=-(a[0][1]-y[1])/o,b=(a[1][0]-y[0])/o,x=-(a[1][1]-y[1])/o,w=(a[2][0]-y[0])/o,E=-(a[2][1]-y[1])/o,S=u,T=l;u=0,l=0,h-=S,f-=T,d-=S,g-=T;var C=[[h,f,0,0,b-_],[d,g,0,0,w-_],[0,0,h,f,x-v],[0,0,d,g,E-v]],M=O(C);if(M){c.save(),c.beginPath();var L=(_+b+w)/3,P=(v+x+E)/3,A=Yt(L,P,_,v),R=Yt(L,P,b,x),I=Yt(L,P,w,E);c.moveTo(R[0],R[1]),c.lineTo(A[0],A[1]),c.lineTo(I[0],I[1]),c.clip(),c.transform(M[0],M[2],M[1],M[3],_,v),c.translate(p[0]-S,p[3]-T),c.scale(i/n,-i/n),c.drawImage(m.canvas,0,0),c.restore()}}),h&&(c.save(),c.strokeStyle="black",c.lineWidth=1,a.getTriangles().forEach(function(t,e,n){var i=t.target,r=(i[0][0]-y[0])/o,s=-(i[0][1]-y[1])/o,a=(i[1][0]-y[0])/o,u=-(i[1][1]-y[1])/o,l=(i[2][0]-y[0])/o,h=-(i[2][1]-y[1])/o;c.beginPath(),c.moveTo(a,u),c.lineTo(r,s),c.lineTo(l,h),c.closePath(),c.stroke()}),c.restore()),c.canvas}function Kt(t,e,n){for(var i,r,o=n||Jt,s=0,a=t.length,u=!1;s<a;)i=s+(a-s>>1),r=+o(t[i],e),r<0?s=i+1:(a=i,u=!r);return u?s:~s}function Jt(t,e){return t>e?1:t<e?-1:0}function Qt(t,e){return t.indexOf(e)>=0}function $t(t,e,n){var i=t.length;if(t[0]<=e)return 0;if(e<=t[i-1])return i-1;var r;if(n>0){for(r=1;r<i;++r)if(t[r]<e)return r-1}else if(n<0){for(r=1;r<i;++r)if(t[r]<=e)return r}else for(r=1;r<i;++r){if(t[r]==e)return r;if(t[r]<e)return t[r-1]-e<e-t[r]?r-1:r}return i-1}function te(t,e,n){for(;e<n;){var i=t[e];t[e]=t[n],t[n]=i,++e,--n}}function ee(t,e){for(var n=Array.isArray(e)?e:[e],i=n.length,r=0;r<i;r++)t[t.length]=n[r]}function ne(t,e){var n=t.indexOf(e),i=n>-1;return i&&t.splice(n,1),i}function ie(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}function re(t,e){var n,i=t.length,r=Array(t.length);for(n=0;n<i;n++)r[n]={index:n,value:t[n]};for(r.sort(function(t,n){return e(t.value,n.value)||t.index-n.index}),n=0;n<t.length;n++)t[n]=r[n].value}function oe(t,e,n){var i=e||Jt;return t.every(function(e,r){if(0===r)return!0;var o=i(t[r-1],e);return!(o>0||n&&0===o)})}function se(t){return t?Array.isArray(t)?function(e){return t}:"function"===typeof t?t:function(e){return[t]}:null}function ae(t,e){t.getImage().src=e}function ue(t,e){for(var n=(""+t).split("."),i=(""+e).split("."),r=0;r<Math.max(n.length,i.length);r++){var o=parseInt(n[r]||"0",10),s=parseInt(i[r]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}function le(t,e){var n=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))});var i=n.join("&");return t=t.replace(/[?&]$/,""),(t=-1===t.indexOf("?")?t+"?":t+"&")+i}function he(t,e,n,i){return function(r,o,s){var a=new XMLHttpRequest;a.open("GET","function"===typeof t?t(r,o,s):t,!0),e.getType()==yc.ARRAY_BUFFER&&(a.responseType="arraybuffer"),a.onload=function(t){if(!a.status||a.status>=200&&a.status<300){var r,o=e.getType();o==yc.JSON||o==yc.TEXT?r=a.responseText:o==yc.XML?(r=a.responseXML)||(r=(new DOMParser).parseFromString(a.responseText,"application/xml")):o==yc.ARRAY_BUFFER&&(r=a.response),r?n.call(this,e.readFeatures(r,{featureProjection:s}),e.readProjection(r),e.getLastExtent()):i.call(this)}else i.call(this)}.bind(this),a.onerror=function(){i.call(this)}.bind(this),a.send()}}function ce(t,e){return he(t,e,function(t,e){var n=this;"function"===typeof n.addFeatures&&n.addFeatures(t)},w)}function pe(t,e){return[[-1/0,-1/0,1/0,1/0]]}function fe(t,e){return e={exports:{}},t(e,e.exports),e.exports}function de(t,e){if(!(this instanceof de))return new de(t,e);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),e&&this._initFormat(e),this.clear()}function me(t,e,n){if(!n)return e.indexOf(t);for(var i=0;i<e.length;i++)if(n(t,e[i]))return i;return-1}function ge(t,e){ye(t,0,t.children.length,e,t)}function ye(t,e,n,i,r){r||(r=Me(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o,s=e;s<n;s++)o=t.children[s],_e(r,t.leaf?i(o):o);return r}function _e(t,e){return t.minX=Math.min(t.minX,e.minX),t.minY=Math.min(t.minY,e.minY),t.maxX=Math.max(t.maxX,e.maxX),t.maxY=Math.max(t.maxY,e.maxY),t}function ve(t,e){return t.minX-e.minX}function be(t,e){return t.minY-e.minY}function xe(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function we(t){return t.maxX-t.minX+(t.maxY-t.minY)}function Ee(t,e){return(Math.max(e.maxX,t.maxX)-Math.min(e.minX,t.minX))*(Math.max(e.maxY,t.maxY)-Math.min(e.minY,t.minY))}function Se(t,e){var n=Math.max(t.minX,e.minX),i=Math.max(t.minY,e.minY),r=Math.min(t.maxX,e.maxX),o=Math.min(t.maxY,e.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}function Te(t,e){return t.minX<=e.minX&&t.minY<=e.minY&&e.maxX<=t.maxX&&e.maxY<=t.maxY}function Ce(t,e){return e.minX<=t.maxX&&e.minY<=t.maxY&&e.maxX>=t.minX&&e.maxY>=t.minY}function Me(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Le(t,e,n,i,r){for(var o,s=[e,n];s.length;)n=s.pop(),e=s.pop(),n-e<=i||(o=e+Math.ceil((n-e)/i/2)*i,vc(t,o,e,n,r),s.push(e,o,o,n))}function Pe(t){return"string"===typeof t?t:ke(t)}function Oe(t){var e=document.createElement("div");if(e.style.color=t,""!==e.style.color){document.body.appendChild(e);var n=getComputedStyle(e).color;return document.body.removeChild(e),n}return""}function Ae(t){return Array.isArray(t)?t:Lc(t)}function Re(t){var e,n,i,r,o;if(Mc.exec(t)&&(t=Oe(t)),Cc.exec(t)){var s,a=t.length-1;s=a<=4?1:2;var u=4===a||8===a;e=parseInt(t.substr(1+0*s,s),16),n=parseInt(t.substr(1+1*s,s),16),i=parseInt(t.substr(1+2*s,s),16),r=u?parseInt(t.substr(1+3*s,s),16):255,1==s&&(e=(e<<4)+e,n=(n<<4)+n,i=(i<<4)+i,u&&(r=(r<<4)+r)),o=[e,n,i,r/255]}else 0==t.indexOf("rgba(")?(o=t.slice(5,-1).split(",").map(Number),Ie(o)):0==t.indexOf("rgb(")?(o=t.slice(4,-1).split(",").map(Number),o.push(1),Ie(o)):T(!1,14);return o}function Ie(t){return t[0]=C(t[0]+.5|0,0,255),t[1]=C(t[1]+.5|0,0,255),t[2]=C(t[2]+.5|0,0,255),t[3]=C(t[3],0,1),t}function ke(t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var n=t[1];n!=(0|n)&&(n=n+.5|0);var i=t[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+e+","+n+","+i+","+(void 0===t[3]?1:t[3])+")"}function Ne(t){return Array.isArray(t)?ke(t):t}function Fe(){return[1,0,0,1,0,0]}function je(t){return Ge(t,1,0,0,1,0,0)}function De(t,e){var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5],u=e[0],l=e[1],h=e[2],c=e[3],p=e[4],f=e[5];return t[0]=n*u+r*l,t[1]=i*u+o*l,t[2]=n*h+r*c,t[3]=i*h+o*c,t[4]=n*p+r*f+s,t[5]=i*p+o*f+a,t}function Ge(t,e,n,i,r,o,s){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t[4]=o,t[5]=s,t}function ze(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Ue(t,e){var n=e[0],i=e[1];return e[0]=t[0]*n+t[2]*i+t[4],e[1]=t[1]*n+t[3]*i+t[5],e}function Be(t,e,n){return De(t,Ge(qc,e,0,0,n,0,0))}function Ze(t,e,n){return De(t,Ge(qc,1,0,0,1,e,n))}function We(t,e,n,i,r,o,s,a){var u=Math.sin(o),l=Math.cos(o);return t[0]=i*l,t[1]=r*u,t[2]=-i*u,t[3]=r*l,t[4]=s*i*l-a*i*u+e,t[5]=s*r*u+a*r*l+n,t}function Xe(t){var e=Ve(t);T(0!==e,32);var n=t[0],i=t[1],r=t[2],o=t[3],s=t[4],a=t[5];return t[0]=o/e,t[1]=-i/e,t[2]=-r/e,t[3]=n/e,t[4]=(r*a-o*s)/e,t[5]=-(n*a-i*s)/e,t}function Ve(t){return t[0]*t[3]-t[1]*t[2]}function He(){return np||(np=Ut(1,1)),np}function Ye(t,e){var n=He();return t!=n.font&&(n.font=t),n.measureText(e).width}function qe(t,e,n,i){0!==e&&(t.translate(n,i),t.rotate(e),t.translate(-n,-i))}function Ke(t,e,n,i,r,o,s,a,u,l,h){var c;1!=n&&(c=t.globalAlpha,t.globalAlpha=c*n),e&&t.setTransform.apply(t,e),t.drawImage(i,r,o,s,a,u,l,s*h,a*h),c&&(t.globalAlpha=c),e&&t.setTransform.apply(t,sp)}function Je(t){var e;if("function"===typeof t)e=t;else{var n;if(Array.isArray(t))n=t;else{T("function"===typeof t.getZIndex,41);n=[t]}e=function(){return n}}return e}function Qe(t,e){if(!fp){var n=new hp({color:"rgba(255,255,255,0.4)"}),i=new cp({color:"#3399CC",width:1.25});fp=[new pp({image:new lp({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return fp}function $e(t){return t.getGeometry()}function tn(t){if("function"===typeof t)return t;var e;if(Array.isArray(t))e=t;else{T("function"===typeof t.getZIndex,41);e=[t]}return function(){return e}}function en(t,e,n,i,r,o){for(var s=o||[],a=0,u=e;u<n;u+=i){var l=t[u],h=t[u+1];s[a++]=r[0]*l+r[2]*h+r[4],s[a++]=r[1]*l+r[3]*h+r[5]}return o&&s.length!=a&&(s.length=a),s}function nn(t,e,n,i,r,o,s){for(var a=s||[],u=Math.cos(r),l=Math.sin(r),h=o[0],c=o[1],p=0,f=e;f<n;f+=i){var d=t[f]-h,m=t[f+1]-c;a[p++]=h+d*u-m*l,a[p++]=c+d*l+m*u;for(var g=f+2;g<f+i;++g)a[p++]=t[g]}return s&&a.length!=p&&(a.length=p),a}function rn(t,e,n,i,r,o,s,a){for(var u=a||[],l=s[0],h=s[1],c=0,p=e;p<n;p+=i){var f=t[p]-l,d=t[p+1]-h;u[c++]=l+r*f,u[c++]=h+o*d;for(var m=p+2;m<p+i;++m)u[c++]=t[m]}return a&&u.length!=c&&(u.length=c),u}function on(t,e,n,i,r,o,s){for(var a=s||[],u=0,l=e;l<n;l+=i){a[u++]=t[l]+r,a[u++]=t[l+1]+o;for(var h=l+2;h<l+i;++h)a[u++]=t[h]}return s&&a.length!=u&&(a.length=u),a}function sn(t){var e;return 2==t?e=bp.XY:3==t?e=bp.XYZ:4==t&&(e=bp.XYZM),e}function an(t){var e;return t==bp.XY?e=2:t==bp.XYZ||t==bp.XYM?e=3:t==bp.XYZM&&(e=4),e}function un(t,e,n){var i=t.getFlatCoordinates();if(i){var r=t.getStride();return en(i,0,i.length,r,e,n)}return null}function ln(t,e,n,i){for(var r=0,o=n.length;r<o;++r)t[e++]=n[r];return e}function hn(t,e,n,i){for(var r=0,o=n.length;r<o;++r)for(var s=n[r],a=0;a<i;++a)t[e++]=s[a];return e}function cn(t,e,n,i,r){for(var o=r||[],s=0,a=0,u=n.length;a<u;++a){var l=hn(t,e,n[a],i);o[s++]=l,e=l}return o.length=s,o}function pn(t,e,n,i,r){for(var o=r||[],s=0,a=0,u=n.length;a<u;++a){var l=cn(t,e,n[a],i,o[s]);o[s++]=l,e=l[l.length-1]}return o.length=s,o}function fn(t,e,n){return e+":"+t+":"+(n?Pe(n):"null")}function dn(t,e,n,i,r,o){var s=Tp.get(e,i,o);return s||(s=new Cp(t,e,n,i,r,o),Tp.set(e,i,o,s)),s}function mn(t,e,n,i,r,o,s){var a,u=t[e],l=t[e+1],h=t[n]-u,c=t[n+1]-l;if(0===h&&0===c)a=e;else{var p=((r-u)*h+(o-l)*c)/(h*h+c*c);if(p>1)a=n;else{if(p>0){for(var f=0;f<i;++f)s[f]=I(t[e+f],t[n+f],p);return void(s.length=i)}a=e}}for(var d=0;d<i;++d)s[d]=t[a+d];s.length=i}function gn(t,e,n,i,r){var o=t[e],s=t[e+1];for(e+=i;e<n;e+=i){var a=t[e],u=t[e+1],l=P(o,s,a,u);l>r&&(r=l),o=a,s=u}return r}function yn(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];r=gn(t,e,a,i,r),e=a}return r}function _n(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];r=yn(t,e,a,i,r),e=a[a.length-1]}return r}function vn(t,e,n,i,r,o,s,a,u,l,h){if(e==n)return l;var c,p;if(0===r){if((p=P(s,a,t[e],t[e+1]))<l){for(c=0;c<i;++c)u[c]=t[e+c];return u.length=i,p}return l}for(var f=h||[NaN,NaN],d=e+i;d<n;)if(mn(t,d-i,d,i,s,a,f),(p=P(s,a,f[0],f[1]))<l){for(l=p,c=0;c<i;++c)u[c]=f[c];u.length=i,d+=i}else d+=i*Math.max((Math.sqrt(p)-Math.sqrt(l))/r|0,1);if(o&&(mn(t,n-i,e,i,s,a,f),(p=P(s,a,f[0],f[1]))<l)){for(l=p,c=0;c<i;++c)u[c]=f[c];u.length=i}return l}function bn(t,e,n,i,r,o,s,a,u,l,h){for(var c=h||[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];l=vn(t,e,d,i,r,o,s,a,u,l,c),e=d}return l}function xn(t,e,n,i,r,o,s,a,u,l,h){for(var c=h||[NaN,NaN],p=0,f=n.length;p<f;++p){var d=n[p];l=bn(t,e,d,i,r,o,s,a,u,l,c),e=d[d.length-1]}return l}function wn(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=e;a<n;a+=i)o[s++]=t.slice(a,a+i);return o.length=s,o}function En(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=0,u=n.length;a<u;++a){var l=n[a];o[s++]=wn(t,e,l,i,o[s]),e=l}return o.length=s,o}function Sn(t,e,n,i,r){for(var o=void 0!==r?r:[],s=0,a=0,u=n.length;a<u;++a){var l=n[a];o[s++]=En(t,e,l,i,o[s]),e=l[l.length-1]}return o.length=s,o}function Tn(t,e,n,i,r,o){var s=NaN,a=NaN,u=(n-e)/i;if(1===u)s=t[e],a=t[e+1];else if(2==u)s=(1-r)*t[e]+r*t[e+i],a=(1-r)*t[e+1]+r*t[e+i+1];else if(0!==u){for(var l=t[e],h=t[e+1],c=0,p=[0],f=e+i;f<n;f+=i){var d=t[f],m=t[f+1];c+=Math.sqrt((d-l)*(d-l)+(m-h)*(m-h)),p.push(c),l=d,h=m}var g=r*c,y=Kt(p,g);if(y<0){var _=(g-p[-y-2])/(p[-y-1]-p[-y-2]),v=e+(-y-2)*i;s=I(t[v],t[v+i],_),a=I(t[v+1],t[v+i+1],_)}else s=t[e+y*i],a=t[e+y*i+1]}return o?(o[0]=s,o[1]=a,o):[s,a]}function Cn(t,e,n,i,r,o){if(n==e)return null;var s;if(r<t[e+i-1])return o?(s=t.slice(e,e+i),s[i-1]=r,s):null;if(t[n-1]<r)return o?(s=t.slice(n-i,n),s[i-1]=r,s):null;if(r==t[e+i-1])return t.slice(e,e+i);for(var a=e/i,u=n/i;a<u;){var l=a+u>>1;r<t[(l+1)*i-1]?u=l:a=l+1}var h=t[a*i-1];if(r==h)return t.slice((a-1)*i,(a-1)*i+i);var c=t[(a+1)*i-1],p=(r-h)/(c-h);s=[];for(var f=0;f<i-1;++f)s.push(I(t[(a-1)*i+f],t[a*i+f],p));return s.push(r),s}function Mn(t,e,n,i,r,o,s){if(s)return Cn(t,e,n[n.length-1],i,r,o);var a;if(r<t[i-1])return o?(a=t.slice(0,i),a[i-1]=r,a):null;if(t[t.length-1]<r)return o?(a=t.slice(t.length-i),a[i-1]=r,a):null;for(var u=0,l=n.length;u<l;++u){var h=n[u];if(e!=h){if(r<t[e+i-1])return null;if(r<=t[h-1])return Cn(t,e,h,i,r,!1);e=h}}return null}function Ln(t,e,n,i,r){return!nt(r,function(r){return!Pn(t,e,n,i,r[0],r[1])})}function Pn(t,e,n,i,r,o){for(var s=0,a=t[n-i],u=t[n-i+1];e<n;e+=i){var l=t[e],h=t[e+1];u<=o?h>o&&(l-a)*(o-u)-(r-a)*(h-u)>0&&s++:h<=o&&(l-a)*(o-u)-(r-a)*(h-u)<0&&s--,a=l,u=h}return 0!==s}function On(t,e,n,i,r,o){if(0===n.length)return!1;if(!Pn(t,e,n[0],i,r,o))return!1;for(var s=1,a=n.length;s<a;++s)if(Pn(t,n[s-1],n[s],i,r,o))return!1;return!0}function An(t,e,n,i,r,o){if(0===n.length)return!1;for(var s=0,a=n.length;s<a;++s){var u=n[s];if(On(t,e,u,i,r,o))return!0;e=u[u.length-1]}return!1}function Rn(t,e,n,i,r,o){for(var s,a=[t[e],t[e+1]],u=[];e+i<n;e+=i){if(u[0]=t[e+i],u[1]=t[e+i+1],s=r.call(o,a,u))return s;a[0]=u[0],a[1]=u[1]}return!1}function In(t,e,n,i,r){var o=tt(W(),t,e,n,i);return!!dt(r,o)&&(!!U(r,o)||(o[0]>=r[0]&&o[2]<=r[2]||(o[1]>=r[1]&&o[3]<=r[3]||Rn(t,e,n,i,function(t,e){return _t(r,t,e)}))))}function kn(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){if(In(t,e,n[o],i,r))return!0;e=n[o]}return!1}function Nn(t,e,n,i,r){return!!In(t,e,n,i,r)||(!!Pn(t,e,n,i,r[0],r[1])||(!!Pn(t,e,n,i,r[0],r[3])||(!!Pn(t,e,n,i,r[2],r[1])||!!Pn(t,e,n,i,r[2],r[3]))))}function Fn(t,e,n,i,r){if(!Nn(t,e,n[0],i,r))return!1;if(1===n.length)return!0;for(var o=1,s=n.length;o<s;++o)if(Ln(t,n[o-1],n[o],i,r)&&!In(t,n[o-1],n[o],i,r))return!1;return!0}function jn(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o];if(Fn(t,e,a,i,r))return!0;e=a[a.length-1]}return!1}function Dn(t,e,n,i){for(var r=t[e],o=t[e+1],s=0,a=e+i;a<n;a+=i){var u=t[a],l=t[a+1];s+=Math.sqrt((u-r)*(u-r)+(l-o)*(l-o)),r=u,o=l}return s}function Gn(t,e,n,i,r,o,s){var a=(n-e)/i;if(a<3){for(;e<n;e+=i)o[s++]=t[e],o[s++]=t[e+1];return s}var u=new Array(a);u[0]=1,u[a-1]=1;for(var l=[e,n-i],h=0;l.length>0;){for(var c=l.pop(),p=l.pop(),f=0,d=t[p],m=t[p+1],g=t[c],y=t[c+1],_=p+i;_<c;_+=i){var v=t[_],b=t[_+1],x=M(v,b,d,m,g,y);x>f&&(h=_,f=x)}f>r&&(u[(h-e)/i]=1,p+i<h&&l.push(p,h),h+i<c&&l.push(h,c))}for(var w=0;w<a;++w)u[w]&&(o[s++]=t[e+w*i],o[s++]=t[e+w*i+1]);return s}function zn(t,e,n,i,r,o,s,a){for(var u=0,l=n.length;u<l;++u){var h=n[u];s=Gn(t,e,h,i,r,o,s),a.push(s),e=h}return s}function Un(t,e){return e*Math.round(t/e)}function Bn(t,e,n,i,r,o,s){if(e==n)return s;var a=Un(t[e],r),u=Un(t[e+1],r);e+=i,o[s++]=a,o[s++]=u;var l,h;do{if(l=Un(t[e],r),h=Un(t[e+1],r),(e+=i)==n)return o[s++]=l,o[s++]=h,s}while(l==a&&h==u);for(;e<n;){var c=Un(t[e],r),p=Un(t[e+1],r);if(e+=i,c!=l||p!=h){var f=l-a,d=h-u,m=c-a,g=p-u;f*g==d*m&&(f<0&&m<f||f==m||f>0&&m>f)&&(d<0&&g<d||d==g||d>0&&g>d)?(l=c,h=p):(o[s++]=l,o[s++]=h,a=l,u=h,l=c,h=p)}}return o[s++]=l,o[s++]=h,s}function Zn(t,e,n,i,r,o,s,a){for(var u=0,l=n.length;u<l;++u){var h=n[u];s=Bn(t,e,h,i,r,o,s),a.push(s),e=h}return s}function Wn(t,e,n,i,r,o,s,a){for(var u=0,l=n.length;u<l;++u){var h=n[u],c=[];s=Zn(t,e,h,i,r,o,s,c),a.push(c),e=h[h.length-1]}return s}function Xn(t,e,n){var i,r=n?At(n.featureProjection):null,o=n?At(n.dataProjection):null;if(i=r&&o&&!Ft(r,o)?Array.isArray(t)?zt(t,o,r):(e?t.clone():t).transform(e?r:o,e?o:r):t,e&&n&&void 0!==n.decimals&&!Array.isArray(i)){var s=Math.pow(10,n.decimals),a=function(t){for(var e=0,n=t.length;e<n;++e)t[e]=Math.round(t[e]*s)/s;return t};i===t&&(i=t.clone()),i.applyTransform(a)}return i}function Vn(t){if("string"===typeof t){var e=JSON.parse(t);return e||null}return null!==t?t:null}function Hn(t){for(var e=[],n=0,i=t.length;n<i;++n)e.push(t[n].clone());return e}function Yn(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],u=t[e+1];r+=s*a-o*u,o=a,s=u}return r/2}function qn(t,e,n,i){for(var r=0,o=0,s=n.length;o<s;++o){var a=n[o];r+=Yn(t,e,a,i),e=a}return r}function Kn(t,e,n,i){for(var r=0,o=0,s=n.length;o<s;++o){var a=n[o];r+=qn(t,e,a,i),e=a[a.length-1]}return r}function Jn(t,e,n,i,r,o,s){for(var a,u,l,h,c,p,f,d=r[o+1],m=[],g=0,y=n.length;g<y;++g){var _=n[g];for(h=t[_-i],p=t[_-i+1],a=e;a<_;a+=i)c=t[a],f=t[a+1],(d<=p&&f<=d||p<=d&&d<=f)&&(l=(d-p)/(f-p)*(c-h)+h,m.push(l)),h=c,p=f}var v=NaN,b=-1/0;for(m.sort(Jt),h=m[0],a=1,u=m.length;a<u;++a){c=m[a];var x=Math.abs(c-h);x>b&&(l=(h+c)/2,On(t,e,n,i,l,d)&&(v=l,b=x)),h=c}return isNaN(v)&&(v=r[o]),s?(s.push(v,d,b),s):[v,d,b]}function Qn(t,e,n,i,r){for(var o=[],s=0,a=n.length;s<a;++s){var u=n[s];o=Jn(t,e,u,i,r,2*s,o),e=u[u.length-1]}return o}function $n(t,e,n,i){for(;e<n-i;){for(var r=0;r<i;++r){var o=t[e+r];t[e+r]=t[n-i+r],t[n-i+r]=o}e+=i,n-=i}}function ti(t,e,n,i){for(var r=0,o=t[n-i],s=t[n-i+1];e<n;e+=i){var a=t[e],u=t[e+1];r+=(a-o)*(u+s),o=a,s=u}return r>0}function ei(t,e,n,i,r){for(var o=void 0!==r&&r,s=0,a=n.length;s<a;++s){var u=n[s],l=ti(t,e,u,i);if(0===s){if(o&&l||!o&&!l)return!1}else if(o&&!l||!o&&l)return!1;e=u}return!0}function ni(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o)if(!ei(t,e,n[o],i,r))return!1;return!0}function ii(t,e,n,i,r){for(var o=void 0!==r&&r,s=0,a=n.length;s<a;++s){var u=n[s],l=ti(t,e,u,i);(0===s?o&&l||!o&&!l:o&&!l||!o&&l)&&$n(t,e,u,i),e=u}return e}function ri(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o)e=ii(t,e,n[o],i,r);return e}function oi(t){var e=t[0],n=t[1],i=t[2],r=t[3],o=[e,n,e,r,i,r,i,n,e,n];return new pf(o,bp.XY,[o.length])}function si(t,e,n,i){for(var r=[],o=W(),s=0,a=n.length;s<a;++s){var u=n[s];o=q(t,e,u[0],i),r.push((o[0]+o[2])/2,(o[1]+o[3])/2),e=u[u.length-1]}return r}function ai(t,e){if(!t)return null;var n;switch(t.type){case Nh.POINT:n=li(t);break;case Nh.LINE_STRING:n=hi(t);break;case Nh.POLYGON:n=di(t);break;case Nh.MULTI_POINT:n=pi(t);break;case Nh.MULTI_LINE_STRING:n=ci(t);break;case Nh.MULTI_POLYGON:n=fi(t);break;case Nh.GEOMETRY_COLLECTION:n=ui(t);break;default:throw new Error("Unsupported GeoJSON type: "+t.type)}return Xn(n,!1,e)}function ui(t,e){var n=t.geometries.map(function(t){return ai(t,e)});return new uf(n)}function li(t){return new wp(t.coordinates)}function hi(t){return new Pp(t.coordinates)}function ci(t){return new lf(t.coordinates)}function pi(t){return new hf(t.coordinates)}function fi(t){return new ff(t.coordinates)}function di(t){return new pf(t.coordinates)}function mi(t,e){t=Xn(t,!0,e);var n,i=t.getType();switch(i){case Nh.POINT:n=xi(t,e);break;case Nh.LINE_STRING:n=yi(t,e);break;case Nh.POLYGON:n=wi(t,e);break;case Nh.MULTI_POINT:n=vi(t,e);break;case Nh.MULTI_LINE_STRING:n=_i(t,e);break;case Nh.MULTI_POLYGON:n=bi(t,e);break;case Nh.GEOMETRY_COLLECTION:n=gi(t,e);break;case Nh.CIRCLE:n={type:"GeometryCollection",geometries:[]};break;default:throw new Error("Unsupported geometry type: "+i)}return n}function gi(t,e){return{type:"GeometryCollection",geometries:t.getGeometriesArray().map(function(t){var n=lh({},e);return delete n.featureProjection,mi(t,n)})}}function yi(t,e){return{type:"LineString",coordinates:t.getCoordinates()}}function _i(t,e){return{type:"MultiLineString",coordinates:t.getCoordinates()}}function vi(t,e){return{type:"MultiPoint",coordinates:t.getCoordinates()}}function bi(t,e){var n;return e&&(n=e.rightHanded),{type:"MultiPolygon",coordinates:t.getCoordinates(n)}}function xi(t,e){return{type:"Point",coordinates:t.getCoordinates()}}function wi(t,e){var n;return e&&(n=e.rightHanded),{type:"Polygon",coordinates:t.getCoordinates(n)}}function Ei(t,e){return mf.createElementNS(t,e)}function Si(t,e){return Ti(t,e,[]).join("")}function Ti(t,e,n){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?n.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):n.push(t.nodeValue);else{var i;for(i=t.firstChild;i;i=i.nextSibling)Ti(i,e,n)}return n}function Ci(t){return"documentElement"in t}function Mi(t,e,n){return t.getAttributeNS(e,n)||""}function Li(t){return(new DOMParser).parseFromString(t,"application/xml")}function Pi(t,e){return function(n,i){var r=t.call(void 0!==e?e:this,n,i);if(void 0!==r){i[i.length-1].push(r)}}}function Oi(t,e){return function(n,i){var r=t.call(void 0!==e?e:this,n,i);void 0!==r&&(i[i.length-1]=r)}}function Ai(t,e,n){return function(i,r){var o=t.call(void 0!==n?n:this,i,r);if(void 0!==o){r[r.length-1][void 0!==e?e:i.localName]=o}}}function Ri(t,e){return function(n,i,r){t.call(void 0!==e?e:this,n,i,r),r[r.length-1].node.appendChild(n)}}function Ii(t,e){var n=t;return function(t,i,r){var o=i[i.length-1],s=o.node,a=n;return void 0===a&&(a=r),Ei(void 0!==e?e:s.namespaceURI,a)}}function ki(t,e,n,i){var r;for(r=e.firstElementChild;r;r=r.nextElementSibling){var o=t[r.namespaceURI];if(void 0!==o){var s=o[r.localName];void 0!==s&&s.call(i,r,n)}}}function Ni(t,e,n,i,r){return i.push(t),ki(e,n,i,r),i.pop()}function Fi(t,e,n,i,r,o){for(var s,a,u=(void 0!==r?r:n).length,l=0;l<u;++l)void 0!==(s=n[l])&&void 0!==(a=e.call(void 0!==o?o:this,s,i,void 0!==r?r[l]:void 0))&&t[a.namespaceURI][a.localName].call(o,a,s,i)}function ji(t,e,n,i,r,o,s){return r.push(t),Fi(e,n,i,r,o,s),r.pop()}function Di(t){return Gi(Si(t,!1))}function Gi(t){var e=/^\s*(\d+)\s*$/.exec(t);return e?parseInt(e[1],10):void 0}function zi(t,e){t.appendChild(mf.createTextNode(e))}function Ui(t){var e=[null].concat(Array.prototype.slice.call(arguments));return new(Function.prototype.bind.apply(Pf,e))}function Bi(t,e,n){return new Of(t,e,n)}function Zi(t,e){return Ni({},Rf,t,e)}function Wi(t,e){ki(Wf,t,e)}function Xi(t,e){return Ni([],Xf,t,e)}function Vi(t,e,n){var i=n[n.length-1],r=i.featureType,o=i.featureNS,s=i.gmlVersion,a=Ei(o,r);t.appendChild(a),2===s?Ef.prototype.writeFeatureElement(a,e,n):Cf.prototype.writeFeatureElement(a,e,n)}function Hi(t,e,n){var i=Ei(Df,"Filter"),r=Ei(Df,"FeatureId");i.appendChild(r),r.setAttribute("fid",e),t.appendChild(i)}function Yi(t,e){t=t||Ff;var n=t+":";return 0===e.indexOf(n)?e:n+e}function qi(t,e,n){var i=n[n.length-1];T(void 0!==e.getId(),26);var r=i.featureType,o=i.featurePrefix,s=i.featureNS,a=Yi(o,r);t.setAttribute("typeName",a),t.setAttributeNS(jf,"xmlns:"+o,s);var u=e.getId();void 0!==u&&Hi(t,u,n)}function Ki(t,e,n){var i=n[n.length-1];T(void 0!==e.getId(),27);var r=i.featureType,o=i.featurePrefix,s=i.featureNS,a=Yi(o,r),u=e.getGeometryName();t.setAttribute("typeName",a),t.setAttributeNS(jf,"xmlns:"+o,s);var l=e.getId();if(void 0!==l){for(var h=e.getKeys(),c=[],p=0,f=h.length;p<f;p++){var d=e.get(h[p]);if(void 0!==d){var m=h[p];d&&"function"===typeof d.getSimplifiedGeometry&&(m=u),c.push({name:m,value:d})}}ji({gmlVersion:i.gmlVersion,node:t,hasZ:i.hasZ,srsName:i.srsName},Nf,Ii("Property"),c,n),Hi(t,l,n)}}function Ji(t,e,n){var i=Ei(Gf,"Name"),r=n[n.length-1],o=r.gmlVersion;if(t.appendChild(i),zi(i,e.name),void 0!==e.value&&null!==e.value){var s=Ei(Gf,"Value");t.appendChild(s),e.value&&"function"===typeof e.value.getSimplifiedGeometry?2===o?Ef.prototype.writeGeometryElement(s,e.value,n):Cf.prototype.writeGeometryElement(s,e.value,n):zi(s,e.value)}}function Qi(t,e,n){e.vendorId&&t.setAttribute("vendorId",e.vendorId),void 0!==e.safeToIgnore&&t.setAttribute("safeToIgnore",String(e.safeToIgnore)),void 0!==e.value&&zi(t,e.value)}function $i(t,e,n){var i,r=n[n.length-1],o=r.featurePrefix,s=r.featureNS,a=r.propertyNames,u=r.srsName;i=o?Yi(o,e):e,t.setAttribute("typeName",i),u&&t.setAttribute("srsName",u),s&&t.setAttributeNS(jf,"xmlns:"+o,s);var l=lh({},r);l.node=t,ji(l,kf,Ii("PropertyName"),a,n);var h=r.filter;if(h){var c=Ei(Df,"Filter");t.appendChild(c),tr(c,h,n)}}function tr(t,e,n){ji({node:t},Vf,Ii(e.getTagName()),[e],n)}function er(t,e,n){n[n.length-1].srsName=e.srsName,fr(t,e.geometryName),Cf.prototype.writeGeometryElement(t,e.extent,n)}function nr(t,e,n){n[n.length-1].srsName=e.srsName,fr(t,e.geometryName),Cf.prototype.writeGeometryElement(t,e.geometry,n)}function ir(t,e,n){n[n.length-1].srsName=e.srsName,fr(t,e.geometryName),Cf.prototype.writeGeometryElement(t,e.geometry,n)}function rr(t,e,n){n[n.length-1].srsName=e.srsName,fr(t,e.geometryName),Cf.prototype.writeGeometryElement(t,e.geometry,n)}function or(t,e,n){var i=Ei(zf,"ValueReference");zi(i,e.propertyName),t.appendChild(i);var r=Ei(_f,"TimePeriod");t.appendChild(r);var o=Ei(_f,"begin");r.appendChild(o),mr(o,e.begin);var s=Ei(_f,"end");r.appendChild(s),mr(s,e.end)}function sr(t,e,n){for(var i={node:t},r=e.conditions,o=0,s=r.length;o<s;++o){var a=r[o];ji(i,Vf,Ii(a.getTagName()),[a],n)}}function ar(t,e,n){var i={node:t},r=e.condition;ji(i,Vf,Ii(r.getTagName()),[r],n)}function ur(t,e,n){void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),fr(t,e.propertyName),dr(t,""+e.expression)}function lr(t,e,n){fr(t,e.propertyName)}function hr(t,e,n){fr(t,e.propertyName);var i=Ei(Df,"LowerBoundary");t.appendChild(i),dr(i,""+e.lowerBoundary);var r=Ei(Df,"UpperBoundary");t.appendChild(r),dr(r,""+e.upperBoundary)}function cr(t,e,n){t.setAttribute("wildCard",e.wildCard),t.setAttribute("singleChar",e.singleChar),t.setAttribute("escapeChar",e.escapeChar),void 0!==e.matchCase&&t.setAttribute("matchCase",e.matchCase.toString()),fr(t,e.propertyName),dr(t,""+e.pattern)}function pr(t,e,n){var i=Ei(Df,t);zi(i,n),e.appendChild(i)}function fr(t,e){pr("PropertyName",t,e)}function dr(t,e){pr("Literal",t,e)}function mr(t,e){var n=Ei(_f,"TimeInstant");t.appendChild(n);var i=Ei(_f,"timePosition");n.appendChild(i),zi(i,e)}function gr(t,e,n){var i=n[n.length-1],r=lh({},i);r.node=t,ji(r,Vf,Ii("Query"),e,n)}function yr(t){return function(e){return e?[C(e[0],t[0],t[2]),C(e[1],t[1],t[3])]:void 0}}function _r(t){return t}function vr(t){return function(e,n,i){if(void 0!==e){var r=$t(t,e,i);r=C(r+n,0,t.length-1);var o=Math.floor(r);if(r!=o&&o<t.length-1){var s=t[o]/t[o+1];return t[o]/Math.pow(s,r-o)}return t[o]}}}function br(t,e,n){return function(i,r,o){if(void 0!==i){var s=-o/2+.5,a=Math.floor(Math.log(e/i)/Math.log(t)+s),u=Math.max(a+r,0);return void 0!==n&&(u=Math.min(u,n)),e/Math.pow(t,u)}}}function xr(t,e){return void 0!==t?0:void 0}function wr(t,e){return void 0!==t?t+e:void 0}function Er(t){var e=2*Math.PI/t;return function(t,n){return void 0!==t?t=Math.floor((t+n)/e+.5)*e:void 0}}function Sr(t){var e=t||A(5);return function(t,n){return void 0!==t?Math.abs(t+n)<=e?0:t+n:void 0}}function Tr(t,e){return t[0]+=e[0],t[1]+=e[1],t}function Cr(t,e){for(var n=!0,i=t.length-1;i>=0;--i)if(t[i]!=e[i]){n=!1;break}return n}function Mr(t,e){var n=Math.cos(e),i=Math.sin(e),r=t[0]*n-t[1]*i,o=t[1]*n+t[0]*i;return t[0]=r,t[1]=o,t}function Lr(t,e){return t[0]*=e,t[1]*=e,t}function Pr(t,e){var n=t[0]-e[0],i=t[1]-e[1];return n*n+i*i}function Or(t){return Math.pow(t,3)}function Ar(t){return 1-Or(1-t)}function Rr(t){return 3*t*t-2*t*t*t}function Ir(t){return t}function kr(t,e){setTimeout(function(){t(e)},0)}function Nr(t){return void 0!==t.extent?yr(t.extent):_r}function Fr(t){var e,n,i,r=void 0!==t.minZoom?t.minZoom:Qf,o=void 0!==t.maxZoom?t.maxZoom:28,s=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions){var a=t.resolutions;n=a[r],i=void 0!==a[o]?a[o]:a[a.length-1],e=vr(a)}else{var u=Nt(t.projection,"EPSG:3857"),l=u.getExtent(),h=l?Math.max(ft(l),lt(l)):360*Dh[jh.DEGREES]/u.getMetersPerUnit(),c=h/qf/Math.pow(2,Qf),p=c/Math.pow(2,28-Qf);n=t.maxResolution,void 0!==n?r=0:n=c/Math.pow(s,r),i=t.minResolution,void 0===i&&(i=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(s,o):c/Math.pow(s,o):p),o=r+Math.floor(Math.log(n/i)/Math.log(s)),i=n/Math.pow(s,o-r),e=br(s,n,o-r)}return{constraint:e,maxResolution:n,minResolution:i,minZoom:r,zoomFactor:s}}function jr(t){if(void 0===t.enableRotation||t.enableRotation){var e=t.constrainRotation;return void 0===e||!0===e?Sr():!1===e?wr:"number"===typeof e?Er(e):wr}return xr}function Dr(t){return!(t.sourceCenter&&t.targetCenter&&!Cr(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}function Gr(t){if(!this.isEventSimulatedFromTouch_(t)){cd.toString()in this.pointerMap&&this.cancel(t);var e=Wr(t,this.dispatcher);this.pointerMap[cd.toString()]=t,this.dispatcher.down(e,t)}}function zr(t){if(!this.isEventSimulatedFromTouch_(t)){var e=Wr(t,this.dispatcher);this.dispatcher.move(e,t)}}function Ur(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[cd.toString()];if(e&&e.button===t.button){var n=Wr(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}}function Br(t){if(!this.isEventSimulatedFromTouch_(t)){var e=Wr(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function Zr(t){if(!this.isEventSimulatedFromTouch_(t)){var e=Wr(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}function Wr(t,e){var n=e.cloneEvent(t,t),i=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),i()},n.pointerId=cd,n.isPrimary=!0,n.pointerType=pd,n}function Xr(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function Vr(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function Hr(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function Yr(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function qr(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function Kr(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function Jr(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function Qr(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function $r(t){this.dispatcher.fireNativeEvent(t)}function to(t){this.dispatcher.fireNativeEvent(t)}function eo(t){this.dispatcher.fireNativeEvent(t)}function no(t){this.dispatcher.fireNativeEvent(t)}function io(t){this.dispatcher.fireNativeEvent(t)}function ro(t){this.dispatcher.fireNativeEvent(t)}function oo(t){this.dispatcher.fireNativeEvent(t)}function so(t){this.dispatcher.fireNativeEvent(t)}function ao(t){var e;if(t.buttons||yd)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}function uo(t,e){return t.pressure?t.pressure:e?.5:0}function lo(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function ho(t){this.processTouches_(t,this.moveOverOut_)}function co(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function po(t){this.processTouches_(t,this.cancelOut_)}function fo(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]+2*e,n[1]=t[1]+2*e,n}function mo(t){return t[0]>0&&t[1]>0}function go(t,e,n){return void 0===n&&(n=[0,0]),n[0]=t[0]*e+.5|0,n[1]=t[1]*e+.5|0,n}function yo(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function _o(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"===typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var n={},i=t.layers&&"function"===typeof t.layers.getLayers?t.layers:new Ld({layers:t.layers});n[Ed.LAYERGROUP]=i,n[Ed.TARGET]=t.target,n[Ed.VIEW]=void 0!==t.view?t.view:new $f;var r;void 0!==t.controls&&(Array.isArray(t.controls)?r=new gc(t.controls.slice()):(T("function"===typeof t.controls.getArray,47),r=t.controls));var o;void 0!==t.interactions&&(Array.isArray(t.interactions)?o=new gc(t.interactions.slice()):(T("function"===typeof t.interactions.getArray,48),o=t.interactions));var s;return void 0!==t.overlays?Array.isArray(t.overlays)?s=new gc(t.overlays.slice()):(T("function"===typeof t.overlays.getArray,49),s=t.overlays):s=new gc,{controls:r,interactions:o,keyboardEventTarget:e,overlays:s,values:n}}function vo(t){for(var e=0,n=t.length;e<n;++e){var i=t[e];if("function"===typeof i.getLayers)return vo(i.getLayers().getArray());var r=i.getSource();if(r&&r.loading)return!0}return!1}function bo(t){this.updateElement_(t.frameState)}function xo(t){var e=t.frameState;if(e){var n=e.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(Bc);r||0!==n?r&&0!==n&&this.element.classList.remove(Bc):this.element.classList.add(Bc)}this.label_.style.msTransform=i,this.label_.style.webkitTransform=i,this.label_.style.transform=i}this.rotation_=n}}function wo(t){var e=t||{},n=new gc;return(void 0===e.zoom||e.zoom)&&n.push(new Id(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&n.push(new Rd(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&n.push(new Ad(e.attributionOptions)),n}function Eo(t,e,n){var i=t.getCenter();if(i){var r=t.constrainCenter([i[0]+e[0],i[1]+e[1]]);n?t.animate({duration:n,easing:Ir,center:r}):t.setCenter(r)}}function So(t,e,n,i){e=t.constrainRotation(e,0),To(t,e,n,i)}function To(t,e,n,i){if(void 0!==e){var r=t.getRotation(),o=t.getCenter();void 0!==r&&o&&i>0?t.animate({rotation:e,anchor:n,duration:i,easing:Ar}):t.rotate(e,n)}}function Co(t,e,n,i,r){e=t.constrainResolution(e,0,r),Lo(t,e,n,i)}function Mo(t,e,n,i){var r=t.getResolution(),o=t.constrainResolution(r,e,0);if(void 0!==o){var s=t.getResolutions();o=C(o,t.getMinResolution()||s[s.length-1],t.getMaxResolution()||s[0])}if(n&&void 0!==o&&o!==r){var a=t.getCenter(),u=t.calculateCenterZoom(o,n);u=t.constrainCenter(u),n=[(o*a[0]-r*u[0])/(o-r),(o*a[1]-r*u[1])/(o-r)]}Lo(t,o,n,i)}function Lo(t,e,n,i){if(e){var r=t.getResolution(),o=t.getCenter();if(void 0!==r&&o&&e!==r&&i)t.animate({resolution:e,anchor:n,duration:i,easing:Ar});else{if(n){var s=t.calculateCenterZoom(e,n);t.setCenter(s)}t.setResolution(e)}}}function Po(t){var e=!1;if(t.type==ad.DBLCLICK){var n=t.originalEvent,i=t.map,r=t.coordinate,o=n.shiftKey?-this.delta_:this.delta_;Mo(i.getView(),o,r,this.duration_),t.preventDefault(),e=!0}return!e}function Oo(t){for(var e=t.length,n=0,i=0,r=0;r<e;r++)n+=t[r].clientX,i+=t[r].clientY;return[n/e,i/e]}function Ao(t){var e=t.type;return e===ad.POINTERDOWN||e===ad.POINTERDRAG||e===ad.POINTERUP}function Ro(){var t=this.getMap(),e=t.getView(),n=t.getSize(),i=this.getGeometry().getExtent();if(this.out_){var r=e.calculateExtent(n),o=Y([t.getPixelFromCoordinate(rt(i)),t.getPixelFromCoordinate(pt(i))]);yt(r,1/e.getResolutionForExtent(o,n)),i=r}var s=e.constrainResolution(e.getResolutionForExtent(i,n)),a=st(i);a=e.constrainCenter(a),e.animate({resolution:s,center:a,duration:this.duration_,easing:Ar})}function Io(t){var e=!1;if(t.type==hh.KEYDOWN){var n=t.originalEvent,i=n.keyCode;if(this.condition_(t)&&(i==tm.DOWN||i==tm.LEFT||i==tm.RIGHT||i==tm.UP)){var r=t.map,o=r.getView(),s=o.getResolution()*this.pixelDelta_,a=0,u=0;i==tm.DOWN?u=-s:i==tm.LEFT?a=-s:i==tm.RIGHT?a=s:u=s;var l=[a,u];Mr(l,o.getRotation()),Eo(o,l,this.duration_),t.preventDefault(),e=!0}}return!e}function ko(t){var e=!1;if(t.type==hh.KEYDOWN||t.type==hh.KEYPRESS){var n=t.originalEvent,i=n.charCode;if(this.condition_(t)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var r=t.map,o=i=="+".charCodeAt(0)?this.delta_:-this.delta_;Mo(r.getView(),o,void 0,this.duration_),t.preventDefault(),e=!0}}return!e}function No(t){var e=t||{},n=new gc,i=new kd(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&n.push(new Yd),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&n.push(new jd({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&n.push(new Hd({condition:e.onFocusOnly?Gd:void 0,kinetic:i})),(void 0===e.pinchRotate||e.pinchRotate)&&n.push(new om),(void 0===e.pinchZoom||e.pinchZoom)&&n.push(new sm({constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(n.push(new em),n.push(new nm({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&n.push(new rm({condition:e.onFocusOnly?Gd:void 0,constrainResolution:e.constrainResolution,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&n.push(new $d({duration:e.zoomDuration})),n}function Fo(t,e){Tp.expire()}function jo(t,e){return t.zIndex-e.zIndex}function Do(t,e,n,i,r){return void 0!==r?(r.minX=t,r.maxX=e,r.minY=n,r.maxY=i,r):new vm(t,e,n,i)}function Go(t,e,n,i,r,o,s,a){var u=[],l=t[e]>t[n-i],h=r.length,c=t[e],p=t[e+1];e+=i;for(var f,d,m,g=t[e],y=t[e+1],_=0,v=Math.sqrt(Math.pow(g-c,2)+Math.pow(y-p,2)),b="",x=0,w=0;w<h;++w){d=l?h-w-1:w;var E=r.charAt(d);b=l?E+b:b+E;var S=o(b)-x;x+=S;for(var T=s+S/2;e<n-i&&_+v<T;)c=g,p=y,e+=i,g=t[e],y=t[e+1],_+=v,v=Math.sqrt(Math.pow(g-c,2)+Math.pow(y-p,2));var C=T-_,M=Math.atan2(y-p,g-c);if(l&&(M+=M>0?-Math.PI:Math.PI),void 0!==m){var L=M-m;if(L+=L>Math.PI?-2*Math.PI:L<-Math.PI?2*Math.PI:0,Math.abs(L)>a)return null}var P=C/v,O=I(c,g,P),A=I(p,y,P);m==M?(l&&(f[0]=O,f[1]=A,f[2]=S/2),f[4]=b):(b=E,x=S,f=[O,A,S/2,M,b],l?u.unshift(f):u.push(f),m=M),s+=S}return u}function zo(t,e,n,i,r){var o,s,a,u,l,h,c,p,f,d=n,m=n,g=0,y=0,_=n;for(o=n;o<i;o+=r){var v=e[o],b=e[o+1];void 0!==u&&(p=v-u,f=b-l,a=Math.sqrt(p*p+f*f),void 0!==h&&(y+=s,Math.acos((h*p+c*f)/(s*a))>t&&(y>g&&(g=y,d=_,m=o),y=0,_=o-r)),s=a,h=p,c=f),u=v,l=b}return y+=a,y>g?[_,o]:[d,m]}function Uo(t,e,n){for(var i=e.length,r=0,o=0;o<i;++o){var s=Ye(t,e[o]);r=Math.max(r,s),n.push(s)}return r}function Bo(t,e,n){var i,r=Math.floor(t.length/2);if(e>=r)for(i=r;i<e;i++)t[i][n]=!0;else if(e<r)for(i=e+1;i<r;i++)t[i][n]=!0}function Zo(t){if(void 0!==zm[t])return zm[t];for(var e=2*t+1,n=new Array(e),i=0;i<e;i++)n[i]=new Array(e);for(var r=t,o=0,s=0;r>=o;)Bo(n,t+r,t+o),Bo(n,t+o,t+r),Bo(n,t-o,t+r),Bo(n,t-r,t+o),Bo(n,t-r,t-o),Bo(n,t-o,t-r),Bo(n,t+o,t-r),Bo(n,t+r,t-o),o++,2*((s+=1+2*o)-r)+1>0&&(r-=1,s+=1-2*r);return zm[t]=n,n}function Wo(t,e,n,i){for(var r=Object.keys(t).map(Number).sort(Jt),o={},s=0,a=r.length;s<a;++s)for(var u=t[r[s].toString()],l=0,h=u.length;l<h;){var c=u[l++],p=u[l++];c.replay(e,p,n,o,i)}}function Xo(t,e){return parseInt(v(t),10)-parseInt(v(e),10)}function Vo(t,e){var n=Ho(t,e);return n*n}function Ho(t,e){return Um*t/e}function Yo(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var s=t.getReplay(n.getZIndex(),wm.CIRCLE);s.setFillStrokeStyle(r,o),s.drawCircle(e,i)}var a=n.getText();if(a){var u=t.getReplay(n.getZIndex(),wm.TEXT);u.setTextStyle(a,t.addDeclutter(!1)),u.drawText(e,i)}}function qo(t,e,n,i,r,o){var s=!1,a=n.getImage();if(a){var u=a.getImageState();u==Ah.LOADED||u==Ah.ERROR?a.unlistenImageChange(r,o):(u==Ah.IDLE&&a.load(),u=a.getImageState(),a.listenImageChange(r,o),s=!0)}return Ko(t,e,n,i),s}function Ko(t,e,n,i){var r=n.getGeometryFunction()(e);if(r){var o=r.getSimplifiedGeometry(i);if(n.getRenderer())Jo(t,o,n,e);else{(0,Bm[o.getType()])(t,o,n,e)}}}function Jo(t,e,n,i){if(e.getType()!=Nh.GEOMETRY_COLLECTION){t.getReplay(n.getZIndex(),wm.DEFAULT).drawCustom(e,i,n.getRenderer())}else for(var r=e.getGeometries(),o=0,s=r.length;o<s;++o)Jo(t,r[o],n,i)}function Qo(t,e,n,i){var r,o,s=e.getGeometriesArray();for(r=0,o=s.length;r<o;++r){(0,Bm[s[r].getType()])(t,s[r],n,i)}}function $o(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),wm.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawLineString(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),wm.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,i)}}function ts(t,e,n,i){var r=n.getStroke();if(r){var o=t.getReplay(n.getZIndex(),wm.LINE_STRING);o.setFillStrokeStyle(null,r),o.drawMultiLineString(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),wm.TEXT);a.setTextStyle(s,t.addDeclutter(!1)),a.drawText(e,i)}}function es(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(o||r){var s=t.getReplay(n.getZIndex(),wm.POLYGON);s.setFillStrokeStyle(r,o),s.drawMultiPolygon(e,i)}var a=n.getText();if(a){var u=t.getReplay(n.getZIndex(),wm.TEXT);u.setTextStyle(a,t.addDeclutter(!1)),u.drawText(e,i)}}function ns(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=Ah.LOADED)return;var o=t.getReplay(n.getZIndex(),wm.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawPoint(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),wm.TEXT);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,i)}}function is(t,e,n,i){var r=n.getImage();if(r){if(r.getImageState()!=Ah.LOADED)return;var o=t.getReplay(n.getZIndex(),wm.IMAGE);o.setImageStyle(r,t.addDeclutter(!1)),o.drawMultiPoint(e,i)}var s=n.getText();if(s){var a=t.getReplay(n.getZIndex(),wm.TEXT);a.setTextStyle(s,t.addDeclutter(!!r)),a.drawText(e,i)}}function rs(t,e,n,i){var r=n.getFill(),o=n.getStroke();if(r||o){var s=t.getReplay(n.getZIndex(),wm.POLYGON);s.setFillStrokeStyle(r,o),s.drawPolygon(e,i)}var a=n.getText();if(a){var u=t.getReplay(n.getZIndex(),wm.TEXT);u.setTextStyle(a,t.addDeclutter(!1)),u.drawText(e,i)}}function os(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function ss(t,e,n){return t+"/"+e+"/"+n}function as(t){return ss(t[0],t[1],t[2])}function us(t){return t.split("/").map(Number)}function ls(t){return(t[1]<<t[0])+t[2]}function hs(t,e){var n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;var o,s=e.getExtent();return!(o=s?e.getTileRangeForExtentAndZ(s,n):e.getFullTileRange(n))||o.containsXY(i,r)}function cs(t,e){var n=/\{z\}/g,i=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(s,a,u){return s?t.replace(n,s[0].toString()).replace(i,s[1].toString()).replace(r,function(){return(-s[2]-1).toString()}).replace(o,function(){var t=s[0],n=e.getFullTileRange(t);return T(n,55),(n.getHeight()+s[2]).toString()}):void 0}}function ps(t,e){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=cs(t[r],e);return fs(i)}function fs(t){return 1===t.length?t[0]:function(e,n,i){if(e){var r=ls(e),o=R(r,t.length);return t[o](e,n,i)}}}function ds(t,e,n){}function ms(t){var e=[],n=/\{([a-z])-([a-z])\}/.exec(t);if(n){var i,r=n[1].charCodeAt(0),o=n[2].charCodeAt(0);for(i=r;i<=o;++i)e.push(t.replace(n[0],String.fromCharCode(i)));return e}if(n=n=/\{(\d+)-(\d+)\}/.exec(t)){for(var s=parseInt(n[2],10),a=parseInt(n[1],10);a<=s;a++)e.push(t.replace(n[0],a.toString()));return e}return e.push(t),e}function gs(){var t=Ut(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}function ys(t){var e=t.getDefaultTileGrid();return e||(e=ws(t),t.setDefaultTileGrid(e)),e}function _s(t,e,n){var i=e[0],r=t.getTileCoordCenter(e),o=Es(n);if(z(o,r))return e;var s=ft(o),a=Math.ceil((o[0]-r[0])/s);return r[0]+=s*a,t.getTileCoordForCoordAndZ(r,i)}function vs(t,e,n,i){var r=void 0!==i?i:Rh.TOP_LEFT,o=xs(t,e,n);return new ig({extent:t,origin:at(t,r),resolutions:o,tileSize:n})}function bs(t){var e=t||{},n=e.extent||At("EPSG:3857").getExtent(),i={extent:n,minZoom:e.minZoom,tileSize:e.tileSize,resolutions:xs(n,e.maxZoom,e.tileSize)};return new ig(i)}function xs(t,e,n){for(var i=void 0!==e?e:Yf,r=lt(t),o=ft(t),s=yo(void 0!==n?n:qf),a=Math.max(o/s[0],r/s[1]),u=i+1,l=new Array(u),h=0;h<u;++h)l[h]=a/Math.pow(2,h);return l}function ws(t,e,n,i){return vs(Es(t),e,n,i)}function Es(t){t=At(t);var e=t.getExtent();if(!e){var n=180*Dh[jh.DEGREES]/t.getMetersPerUnit();e=X(-n,-n,n,n)}return e}function Ss(t,e){t.getImage().src=e}function Ts(t){var e=this.requestEncoding_,n={layer:this.layer_,style:this.style_,tilematrixset:this.matrixSet_};e==lg.KVP&&lh(n,{Service:"WMTS",Request:"GetTile",Version:this.version_,Format:this.format_}),t=e==lg.KVP?le(t,n):t.replace(/\{(\w+?)\}/g,function(t,e){return e.toLowerCase()in n?n[e.toLowerCase()]:t});var i=this.tileGrid,r=this.dimensions_;return function(n,o,s){if(n){var a={TileMatrix:i.getMatrixId(n[0]),TileCol:n[1],TileRow:-n[2]-1};lh(a,r);var u=t;return u=e==lg.KVP?le(u,a):u.replace(/\{(\w+?)\}/g,function(t,e){return a[e]})}}}function Cs(t,e,n){var i=this.getTileGrid();if(i||(i=this.getTileGridForProjection(n)),!(i.getResolutions().length<=t[0])){1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);var r=i.getResolution(t[0]),o=i.getTileCoordExtent(t,this.tmpExtent_),s=yo(i.getTileSize(t[0]),this.tmpSize),a=this.gutter_;0!==a&&(s=fo(s,a,this.tmpSize),o=j(o,r*a,o)),1!=e&&(s=go(s,e,this.tmpSize));var u={SERVICE:"WMS",VERSION:Ph,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};return lh(u,this.params_),this.getRequestUrl_(t,s,o,e,n,u)}}function Ms(t,e){if(t[e])return t[e];for(var n,i=Object.keys(t),r=e.toLowerCase().replace(ay,""),o=-1;++o<i.length;)if(n=i[o],n.toLowerCase().replace(ay,"")===r)return t[n]}function Ls(t){var e,n,i,r={},o=t.split("+").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,e){var n=e.split("=");return n.push(!0),t[n[0].toLowerCase()]=n[1],t},{}),s={proj:"projName",datum:"datumCode",rf:function(t){r.rf=parseFloat(t)},lat_0:function(t){r.lat0=t*ty},lat_1:function(t){r.lat1=t*ty},lat_2:function(t){r.lat2=t*ty},lat_ts:function(t){r.lat_ts=t*ty},lon_0:function(t){r.long0=t*ty},lon_1:function(t){r.long1=t*ty},lon_2:function(t){r.long2=t*ty},alpha:function(t){r.alpha=parseFloat(t)*ty},lonc:function(t){r.longc=t*ty},x_0:function(t){r.x0=parseFloat(t)},y_0:function(t){r.y0=parseFloat(t)},k_0:function(t){r.k0=parseFloat(t)},k:function(t){r.k0=parseFloat(t)},a:function(t){r.a=parseFloat(t)},b:function(t){r.b=parseFloat(t)},r_a:function(){r.R_A=!0},zone:function(t){r.zone=parseInt(t,10)},south:function(){r.utmSouth=!0},towgs84:function(t){r.datum_params=t.split(",").map(function(t){return parseFloat(t)})},to_meter:function(t){r.to_meter=parseFloat(t)},units:function(t){r.units=t;var e=Ms(sy,t);e&&(r.to_meter=e.to_meter)},from_greenwich:function(t){r.from_greenwich=t*ty},pm:function(t){var e=Ms(oy,t);r.from_greenwich=(e||parseFloat(t))*ty},nadgrids:function(t){"@null"===t?r.datumCode="none":r.nadgrids=t},axis:function(t){var e="ewnsud";3===t.length&&-1!==e.indexOf(t.substr(0,1))&&-1!==e.indexOf(t.substr(1,1))&&-1!==e.indexOf(t.substr(2,1))&&(r.axis=t)}};for(e in o)n=o[e],e in s?(i=s[e],"function"===typeof i?i(n):r[i]=n):r[e]=n;return"string"===typeof r.datumCode&&"WGS84"!==r.datumCode&&(r.datumCode=r.datumCode.toLowerCase()),r}function Ps(t){if("string"!==typeof t)throw new Error("not a string");this.text=t.trim(),this.level=0,this.place=0,this.root=null,this.stack=[],this.currentObject=null,this.state=uy}function Os(t){return new Ps(t).output()}function As(t,e,n){Array.isArray(e)&&(n.unshift(e),e=null);var i=e?{}:t,r=n.reduce(function(t,e){return Rs(e,t),t},i);e&&(t[e]=r)}function Rs(t,e){if(!Array.isArray(t))return void(e[t]=!0);var n=t.shift();if("PARAMETER"===n&&(n=t.shift()),1===t.length)return Array.isArray(t[0])?(e[n]={},void Rs(t[0],e[n])):void(e[n]=t[0]);if(!t.length)return void(e[n]=!0);if("TOWGS84"===n)return void(e[n]=t);Array.isArray(n)||(e[n]={});var i;switch(n){case"UNIT":case"PRIMEM":case"VERT_DATUM":return e[n]={name:t[0].toLowerCase(),convert:t[1]},void(3===t.length&&Rs(t[2],e[n]));case"SPHEROID":case"ELLIPSOID":return e[n]={name:t[0],a:t[1],rf:t[2]},void(4===t.length&&Rs(t[3],e[n]));case"PROJECTEDCRS":case"PROJCRS":case"GEOGCS":case"GEOCCS":case"PROJCS":case"LOCAL_CS":case"GEODCRS":case"GEODETICCRS":case"GEODETICDATUM":case"EDATUM":case"ENGINEERINGDATUM":case"VERT_CS":case"VERTCRS":case"VERTICALCRS":case"COMPD_CS":case"COMPOUNDCRS":case"ENGINEERINGCRS":case"ENGCRS":case"FITTED_CS":case"LOCAL_DATUM":case"DATUM":return t[0]=["name",t[0]],void As(e,n,t);default:for(i=-1;++i<t.length;)if(!Array.isArray(t[i]))return Rs(t,e[n]);return As(e,n,t)}}function Is(t,e){var n=e[0],i=e[1];!(n in t)&&i in t&&(t[n]=t[i],3===e.length&&(t[n]=e[2](t[n])))}function ks(t){return t*dy}function Ns(t){function e(e){return e*(t.to_meter||1)}"GEOGCS"===t.type?t.projName="longlat":"LOCAL_CS"===t.type?(t.projName="identity",t.local=!0):"object"===typeof t.PROJECTION?t.projName=Object.keys(t.PROJECTION)[0]:t.projName=t.PROJECTION,t.UNIT&&(t.units=t.UNIT.name.toLowerCase(),"metre"===t.units&&(t.units="meter"),t.UNIT.convert&&("GEOGCS"===t.type?t.DATUM&&t.DATUM.SPHEROID&&(t.to_meter=t.UNIT.convert*t.DATUM.SPHEROID.a):t.to_meter=t.UNIT.convert));var n=t.GEOGCS;"GEOGCS"===t.type&&(n=t),n&&(n.DATUM?t.datumCode=n.DATUM.name.toLowerCase():t.datumCode=n.name.toLowerCase(),"d_"===t.datumCode.slice(0,2)&&(t.datumCode=t.datumCode.slice(2)),"new_zealand_geodetic_datum_1949"!==t.datumCode&&"new_zealand_1949"!==t.datumCode||(t.datumCode="nzgd49"),"wgs_1984"===t.datumCode&&("Mercator_Auxiliary_Sphere"===t.PROJECTION&&(t.sphere=!0),t.datumCode="wgs84"),"_ferro"===t.datumCode.slice(-6)&&(t.datumCode=t.datumCode.slice(0,-6)),"_jakarta"===t.datumCode.slice(-8)&&(t.datumCode=t.datumCode.slice(0,-8)),~t.datumCode.indexOf("belge")&&(t.datumCode="rnb72"),n.DATUM&&n.DATUM.SPHEROID&&(t.ellps=n.DATUM.SPHEROID.name.replace("_19","").replace(/[Cc]larke\_18/,"clrk"),"international"===t.ellps.toLowerCase().slice(0,13)&&(t.ellps="intl"),t.a=n.DATUM.SPHEROID.a,t.rf=parseFloat(n.DATUM.SPHEROID.rf,10)),n.DATUM&&n.DATUM.TOWGS84&&(t.datum_params=n.DATUM.TOWGS84),~t.datumCode.indexOf("osgb_1936")&&(t.datumCode="osgb36"),~t.datumCode.indexOf("osni_1952")&&(t.datumCode="osni52"),(~t.datumCode.indexOf("tm65")||~t.datumCode.indexOf("geodetic_datum_of_1965"))&&(t.datumCode="ire65"),"ch1903+"===t.datumCode&&(t.datumCode="ch1903"),~t.datumCode.indexOf("israel")&&(t.datumCode="isr93")),t.b&&!isFinite(t.b)&&(t.b=t.a),[["standard_parallel_1","Standard_Parallel_1"],["standard_parallel_2","Standard_Parallel_2"],["false_easting","False_Easting"],["false_northing","False_Northing"],["central_meridian","Central_Meridian"],["latitude_of_origin","Latitude_Of_Origin"],["latitude_of_origin","Central_Parallel"],["scale_factor","Scale_Factor"],["k0","scale_factor"],["latitude_of_center","Latitude_Of_Center"],["latitude_of_center","Latitude_of_center"],["lat0","latitude_of_center",ks],["longitude_of_center","Longitude_Of_Center"],["longitude_of_center","Longitude_of_center"],["longc","longitude_of_center",ks],["x0","false_easting",e],["y0","false_northing",e],["long0","central_meridian",ks],["lat0","latitude_of_origin",ks],["lat0","standard_parallel_1",ks],["lat1","standard_parallel_1",ks],["lat2","standard_parallel_2",ks],["azimuth","Azimuth"],["alpha","azimuth",ks],["srsCode","name"]].forEach(function(e){return Is(t,e)}),t.long0||!t.longc||"Albers_Conic_Equal_Area"!==t.projName&&"Lambert_Azimuthal_Equal_Area"!==t.projName||(t.long0=t.longc),t.lat_ts||!t.lat1||"Stereographic_South_Pole"!==t.projName&&"Polar Stereographic (variant B)"!==t.projName||(t.lat0=ks(t.lat1>0?90:-90),t.lat_ts=t.lat1)}function Fs(t){var e=Os(t),n=e.shift(),i=e.shift();e.unshift(["name",i]),e.unshift(["type",n]);var r={};return Rs(e,r),Ns(r),r}function js(t){var e=this;if(2===arguments.length){var n=arguments[1];"string"===typeof n?"+"===n.charAt(0)?js[t]=Ls(arguments[1]):js[t]=Fs(arguments[1]):js[t]=n}else if(1===arguments.length){if(Array.isArray(t))return t.map(function(t){Array.isArray(t)?js.apply(e,t):js(t)});if("string"===typeof t){if(t in js)return js[t]}else"EPSG"in t?js["EPSG:"+t.EPSG]=t:"ESRI"in t?js["ESRI:"+t.ESRI]=t:"IAU2000"in t?js["IAU2000:"+t.IAU2000]=t:console.log(t);return}}function Ds(t){return"string"===typeof t}function Gs(t){return t in js}function zs(t){return my.some(function(e){return t.indexOf(e)>-1})}function Us(t){var e=Ms(t,"authority");if(e){var n=Ms(e,"epsg");return n&&gy.indexOf(n)>-1}}function Bs(t){var e=Ms(t,"extension");if(e)return Ms(e,"proj4")}function Zs(t){return"+"===t[0]}function Ws(t){if(!Ds(t))return t;if(Gs(t))return js[t];if(zs(t)){var e=Fs(t);if(Us(e))return js["EPSG:3857"];var n=Bs(e);return n?Ls(n):e}return Zs(t)?Ls(t):void 0}function Xs(t,e){t=t||{};var n,i;if(!e)return t;for(i in e)void 0!==(n=e[i])&&(t[i]=n);return t}function Vs(t,e,n){var i=t*e;return n/Math.sqrt(1-i*i)}function Hs(t){return t<0?-1:1}function Ys(t){return Math.abs(t)<=ry?t:t-Hs(t)*iy}function qs(t,e,n){var i=t*n,r=.5*t;return i=Math.pow((1-i)/(1+i),r),Math.tan(.5*(qg-e))/i}function Ks(t,e){for(var n,i,r=.5*t,o=qg-2*Math.atan(e),s=0;s<=15;s++)if(n=t*Math.sin(o),i=qg-2*Math.atan(e*Math.pow((1-n)/(1+n),r))-o,o+=i,Math.abs(i)<=1e-10)return o;return-9999}function Js(){var t=this.b/this.a;this.es=1-t*t,"x0"in this||(this.x0=0),"y0"in this||(this.y0=0),this.e=Math.sqrt(this.es),this.lat_ts?this.sphere?this.k0=Math.cos(this.lat_ts):this.k0=Vs(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)):this.k0||(this.k?this.k0=this.k:this.k0=1)}function Qs(t){var e=t.x,n=t.y;if(n*ey>90&&n*ey<-90&&e*ey>180&&e*ey<-180)return null;var i,r;if(Math.abs(Math.abs(n)-qg)<=$g)return null;if(this.sphere)i=this.x0+this.a*this.k0*Ys(e-this.long0),r=this.y0+this.a*this.k0*Math.log(Math.tan(ny+.5*n));else{var o=Math.sin(n),s=qs(this.e,n,o);i=this.x0+this.a*this.k0*Ys(e-this.long0),r=this.y0-this.a*this.k0*Math.log(s)}return t.x=i,t.y=r,t}function $s(t){var e,n,i=t.x-this.x0,r=t.y-this.y0;if(this.sphere)n=qg-2*Math.atan(Math.exp(-r/(this.a*this.k0)));else{var o=Math.exp(-r/(this.a*this.k0));if(-9999===(n=Ks(this.e,o)))return null}return e=Ys(this.long0+i/(this.a*this.k0)),t.x=e,t.y=n,t}function ta(){}function ea(t){return t}function na(t,e){var n=Ey.length;return t.names?(Ey[n]=t,t.names.forEach(function(t){wy[t.toLowerCase()]=n}),this):(console.log(e),!0)}function ia(t){if(!t)return!1;var e=t.toLowerCase();return"undefined"!==typeof wy[e]&&Ey[wy[e]]?Ey[wy[e]]:void 0}function ra(){xy.forEach(na)}function oa(t,e,n,i){var r=t*t,o=e*e,s=(r-o)/r,a=0;return i?(t*=1-s*(Kg+s*(Jg+s*Qg)),r=t*t,s=0):a=Math.sqrt(s),{es:s,e:a,ep2:(r-o)/o}}function sa(t,e,n,i,r){if(!t){var o=Ms(Ty,i);o||(o=Cy),t=o.a,e=o.b,n=o.rf}return n&&!e&&(e=(1-1/n)*t),(0===n||Math.abs(t-e)<$g)&&(r=!0,e=t),{a:t,b:e,rf:n,sphere:r}}function aa(t,e,n,i,r,o){var s={};return s.datum_type=void 0===t||"none"===t?Hg:Vg,e&&(s.datum_params=e.map(parseFloat),0===s.datum_params[0]&&0===s.datum_params[1]&&0===s.datum_params[2]||(s.datum_type=Wg),s.datum_params.length>3&&(0===s.datum_params[3]&&0===s.datum_params[4]&&0===s.datum_params[5]&&0===s.datum_params[6]||(s.datum_type=Xg,s.datum_params[3]*=Yg,s.datum_params[4]*=Yg,s.datum_params[5]*=Yg,s.datum_params[6]=s.datum_params[6]/1e6+1))),s.a=n,s.b=i,s.es=r,s.ep2=o,s}function ua(t,e){if(!(this instanceof ua))return new ua(t);e=e||function(t){if(t)throw t};var n=Ws(t);if("object"!==typeof n)return void e(t);var i=ua.projections.get(n.projName);if(!i)return void e(t);if(n.datumCode&&"none"!==n.datumCode){var r=Ms(My,n.datumCode);r&&(n.datum_params=r.towgs84?r.towgs84.split(","):null,n.ellps=r.ellipse,n.datumName=r.datumName?r.datumName:n.datumCode)}n.k0=n.k0||1,n.axis=n.axis||"enu",n.ellps=n.ellps||"wgs84";var o=sa(n.a,n.b,n.rf,n.ellps,n.sphere),s=oa(o.a,o.b,o.rf,n.R_A),a=n.datum||aa(n.datumCode,n.datum_params,o.a,o.b,s.es,s.ep2);Xs(this,n),Xs(this,i),this.a=o.a,this.b=o.b,this.rf=o.rf,this.sphere=o.sphere,this.es=s.es,this.e=s.e,this.ep2=s.ep2,this.datum=a,this.init(),e(null,this)}function la(t,e){return t.datum_type===e.datum_type&&(!(t.a!==e.a||Math.abs(t.es-e.es)>5e-11)&&(t.datum_type===Wg?t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]:t.datum_type!==Xg||t.datum_params[0]===e.datum_params[0]&&t.datum_params[1]===e.datum_params[1]&&t.datum_params[2]===e.datum_params[2]&&t.datum_params[3]===e.datum_params[3]&&t.datum_params[4]===e.datum_params[4]&&t.datum_params[5]===e.datum_params[5]&&t.datum_params[6]===e.datum_params[6]))}function ha(t,e,n){var i,r,o,s,a=t.x,u=t.y,l=t.z?t.z:0;if(u<-qg&&u>-1.001*qg)u=-qg;else if(u>qg&&u<1.001*qg)u=qg;else{if(u<-qg)return{x:-1/0,y:-1/0,z:t.z};if(u>qg)return{x:1/0,y:1/0,z:t.z}}return a>Math.PI&&(a-=2*Math.PI),r=Math.sin(u),s=Math.cos(u),o=r*r,i=n/Math.sqrt(1-e*o),{x:(i+l)*s*Math.cos(a),y:(i+l)*s*Math.sin(a),z:(i*(1-e)+l)*r}}function ca(t,e,n,i){var r,o,s,a,u,l,h,c,p,f,d,m,g,y,_,v,b=t.x,x=t.y,w=t.z?t.z:0;if(r=Math.sqrt(b*b+x*x),o=Math.sqrt(b*b+x*x+w*w),r/n<1e-12){if(y=0,o/n<1e-12)return _=qg,v=-i,{x:t.x,y:t.y,z:t.z}}else y=Math.atan2(x,b);s=w/o,a=r/o,u=1/Math.sqrt(1-e*(2-e)*a*a),c=a*(1-e)*u,p=s*u,g=0;do{g++,h=n/Math.sqrt(1-e*p*p),v=r*c+w*p-h*(1-e*p*p),l=e*h/(h+v),u=1/Math.sqrt(1-l*(2-l)*a*a),f=a*(1-l)*u,d=s*u,m=d*c-f*p,c=f,p=d}while(m*m>1e-24&&g<30);return _=Math.atan(d/Math.abs(f)),{x:y,y:_,z:v}}function pa(t,e,n){if(e===Wg)return{x:t.x+n[0],y:t.y+n[1],z:t.z+n[2]};if(e===Xg){var i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],u=n[5],l=n[6];return{x:l*(t.x-u*t.y+a*t.z)+i,y:l*(u*t.x+t.y-s*t.z)+r,z:l*(-a*t.x+s*t.y+t.z)+o}}}function fa(t,e,n){if(e===Wg)return{x:t.x-n[0],y:t.y-n[1],z:t.z-n[2]};if(e===Xg){var i=n[0],r=n[1],o=n[2],s=n[3],a=n[4],u=n[5],l=n[6],h=(t.x-i)/l,c=(t.y-r)/l,p=(t.z-o)/l;return{x:h+u*c-a*p,y:-u*h+c+s*p,z:a*h-s*c+p}}}function da(t){return t===Wg||t===Xg}function ma(t,e,n){return la(t,e)?n:t.datum_type===Hg||e.datum_type===Hg?n:t.es!==e.es||t.a!==e.a||da(t.datum_type)||da(e.datum_type)?(n=ha(n,t.es,t.a),da(t.datum_type)&&(n=pa(n,t.datum_type,t.datum_params)),da(e.datum_type)&&(n=fa(n,e.datum_type,e.datum_params)),ca(n,e.es,e.a,e.b)):n}function ga(t,e,n){var i,r,o,s=n.x,a=n.y,u=n.z||0,l={};for(o=0;o<3;o++)if(!e||2!==o||void 0!==n.z)switch(0===o?(i=s,r="x"):1===o?(i=a,r="y"):(i=u,r="z"),t.axis[o]){case"e":l[r]=i;break;case"w":l[r]=-i;break;case"n":l[r]=i;break;case"s":l[r]=-i;break;case"u":void 0!==n[r]&&(l.z=i);break;case"d":void 0!==n[r]&&(l.z=-i);break;default:return null}return l}function ya(t){var e={x:t[0],y:t[1]};return t.length>2&&(e.z=t[2]),t.length>3&&(e.m=t[3]),e}function _a(t){va(t.x),va(t.y)}function va(t){if("function"===typeof Number.isFinite){if(Number.isFinite(t))return;throw new TypeError("coordinates must be finite numbers")}if("number"!==typeof t||t!==t||!isFinite(t))throw new TypeError("coordinates must be finite numbers")}function ba(t,e){return(t.datum.datum_type===Wg||t.datum.datum_type===Xg)&&"WGS84"!==e.datumCode||(e.datum.datum_type===Wg||e.datum.datum_type===Xg)&&"WGS84"!==t.datumCode}function xa(t,e,n){var i;return Array.isArray(n)&&(n=ya(n)),_a(n),t.datum&&e.datum&&ba(t,e)&&(i=new ua("WGS84"),n=xa(t,i,n),t=i),"enu"!==t.axis&&(n=ga(t,!1,n)),"longlat"===t.projName?n={x:n.x*ty,y:n.y*ty}:(t.to_meter&&(n={x:n.x*t.to_meter,y:n.y*t.to_meter}),n=t.inverse(n)),t.from_greenwich&&(n.x+=t.from_greenwich),n=ma(t.datum,e.datum,n),e.from_greenwich&&(n={x:n.x-e.from_greenwich,y:n.y}),"longlat"===e.projName?n={x:n.x*ey,y:n.y*ey}:(n=e.forward(n),e.to_meter&&(n={x:n.x/e.to_meter,y:n.y/e.to_meter})),"enu"!==e.axis?ga(e,!0,n):n}function wa(t,e,n){var i,r,o;return Array.isArray(n)?(i=xa(t,e,n),3===n.length?[i.x,i.y,i.z]:[i.x,i.y]):(r=xa(t,e,n),o=Object.keys(n),2===o.length?r:(o.forEach(function(t){"x"!==t&&"y"!==t&&(r[t]=n[t])}),r))}function Ea(t){return t instanceof ua?t:t.oProj?t.oProj:ua(t)}function Sa(t,e,n){t=Ea(t);var i,r=!1;return"undefined"===typeof e?(e=t,t=Ly,r=!0):("undefined"!==typeof e.x||Array.isArray(e))&&(n=e,e=t,t=Ly,r=!0),e=Ea(e),n?wa(t,e,n):(i={forward:function(n){return wa(t,e,n)},inverse:function(n){return wa(e,t,n)}},r&&(i.oProj=e),i)}function Ta(t,e){return e=e||5,Ia(Oa({lat:t[1],lon:t[0]}),e)}function Ca(t){var e=Aa(ja(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat,e.lon,e.lat]:[e.left,e.bottom,e.right,e.top]}function Ma(t){var e=Aa(ja(t.toUpperCase()));return e.lat&&e.lon?[e.lon,e.lat]:[(e.left+e.right)/2,(e.top+e.bottom)/2]}function La(t){return t*(Math.PI/180)}function Pa(t){return t/Math.PI*180}function Oa(t){var e,n,i,r,o,s,a,u,l,h=t.lat,c=t.lon,p=6378137,f=La(h),d=La(c);l=Math.floor((c+180)/6)+1,180===c&&(l=60),h>=56&&h<64&&c>=3&&c<12&&(l=32),h>=72&&h<84&&(c>=0&&c<9?l=31:c>=9&&c<21?l=33:c>=21&&c<33?l=35:c>=33&&c<42&&(l=37)),e=6*(l-1)-180+3,u=La(e),n=.006739496752268451,i=p/Math.sqrt(1-.00669438*Math.sin(f)*Math.sin(f)),r=Math.tan(f)*Math.tan(f),o=n*Math.cos(f)*Math.cos(f),s=Math.cos(f)*(d-u),a=p*(.9983242984503243*f-.002514607064228144*Math.sin(2*f)+2639046602129982e-21*Math.sin(4*f)-3.418046101696858e-9*Math.sin(6*f));var m=.9996*i*(s+(1-r+o)*s*s*s/6+(5-18*r+r*r+72*o-58*n)*s*s*s*s*s/120)+5e5,g=.9996*(a+i*Math.tan(f)*(s*s/2+(5-r+9*o+4*o*o)*s*s*s*s/24+(61-58*r+r*r+600*o-330*n)*s*s*s*s*s*s/720));return h<0&&(g+=1e7),{northing:Math.round(g),easting:Math.round(m),zoneNumber:l,zoneLetter:Ra(h)}}function Aa(t){var e=t.northing,n=t.easting,i=t.zoneLetter,r=t.zoneNumber;if(r<0||r>60)return null;var o,s,a,u,l,h,c,p,f,d,m=6378137,g=(1-Math.sqrt(.99330562))/(1+Math.sqrt(.99330562)),y=n-5e5,_=e;i<"N"&&(_-=1e7),p=6*(r-1)-180+3,o=.006739496752268451,c=_/.9996,f=c/6367449.145945056,d=f+(3*g/2-27*g*g*g/32)*Math.sin(2*f)+(21*g*g/16-55*g*g*g*g/32)*Math.sin(4*f)+151*g*g*g/96*Math.sin(6*f),s=m/Math.sqrt(1-.00669438*Math.sin(d)*Math.sin(d)),a=Math.tan(d)*Math.tan(d),u=o*Math.cos(d)*Math.cos(d),l=.99330562*m/Math.pow(1-.00669438*Math.sin(d)*Math.sin(d),1.5),h=y/(.9996*s);var v=d-s*Math.tan(d)/l*(h*h/2-(5+3*a+10*u-4*u*u-9*o)*h*h*h*h/24+(61+90*a+298*u+45*a*a-252*o-3*u*u)*h*h*h*h*h*h/720);v=Pa(v);var b=(h-(1+2*a+u)*h*h*h/6+(5-2*u+28*a-3*u*u+8*o+24*a*a)*h*h*h*h*h/120)/Math.cos(d);b=p+Pa(b);var x;if(t.accuracy){var w=Aa({northing:t.northing+t.accuracy,easting:t.easting+t.accuracy,zoneLetter:t.zoneLetter,zoneNumber:t.zoneNumber});x={top:w.lat,right:w.lon,bottom:v,left:b}}else x={lat:v,lon:b};return x}function Ra(t){var e="Z";return 84>=t&&t>=72?e="X":72>t&&t>=64?e="W":64>t&&t>=56?e="V":56>t&&t>=48?e="U":48>t&&t>=40?e="T":40>t&&t>=32?e="S":32>t&&t>=24?e="R":24>t&&t>=16?e="Q":16>t&&t>=8?e="P":8>t&&t>=0?e="N":0>t&&t>=-8?e="M":-8>t&&t>=-16?e="L":-16>t&&t>=-24?e="K":-24>t&&t>=-32?e="J":-32>t&&t>=-40?e="H":-40>t&&t>=-48?e="G":-48>t&&t>=-56?e="F":-56>t&&t>=-64?e="E":-64>t&&t>=-72?e="D":-72>t&&t>=-80&&(e="C"),e}function Ia(t,e){var n="00000"+t.easting,i="00000"+t.northing;return t.zoneNumber+t.zoneLetter+ka(t.easting,t.northing,t.zoneNumber)+n.substr(n.length-5,e)+i.substr(i.length-5,e)}function ka(t,e,n){var i=Na(n);return Fa(Math.floor(t/1e5),Math.floor(e/1e5)%20,i)}function Na(t){var e=t%Py;return 0===e&&(e=Py),e}function Fa(t,e,n){var i=n-1,r=Oy.charCodeAt(i),o=Ay.charCodeAt(i),s=r+t-1,a=o+e,u=!1;return s>Fy&&(s=s-Fy+Ry-1,u=!0),(s===Iy||r<Iy&&s>Iy||(s>Iy||r<Iy)&&u)&&s++,(s===ky||r<ky&&s>ky||(s>ky||r<ky)&&u)&&++s===Iy&&s++,s>Fy&&(s=s-Fy+Ry-1),a>Ny?(a=a-Ny+Ry-1,u=!0):u=!1,(a===Iy||o<Iy&&a>Iy||(a>Iy||o<Iy)&&u)&&a++,(a===ky||o<ky&&a>ky||(a>ky||o<ky)&&u)&&++a===Iy&&a++,a>Ny&&(a=a-Ny+Ry-1),String.fromCharCode(s)+String.fromCharCode(a)}function ja(t){if(t&&0===t.length)throw"MGRSPoint coverting from nothing";for(var e,n=t.length,i=null,r="",o=0;!/[A-Z]/.test(e=t.charAt(o));){if(o>=2)throw"MGRSPoint bad conversion from: "+t;r+=e,o++}var s=parseInt(r,10);if(0===o||o+3>n)throw"MGRSPoint bad conversion from: "+t;var a=t.charAt(o++);if(a<="A"||"B"===a||"Y"===a||a>="Z"||"I"===a||"O"===a)throw"MGRSPoint zone letter "+a+" not handled: "+t;i=t.substring(o,o+=2);for(var u=Na(s),l=Da(i.charAt(0),u),h=Ga(i.charAt(1),u);h<za(a);)h+=2e6;var c=n-o;if(c%2!==0)throw"MGRSPoint has to have an even number \nof digits after the zone letter and two 100km letters - front \nhalf for easting meters, second half for \nnorthing meters"+t;var p,f,d,m,g,y=c/2,_=0,v=0;return y>0&&(p=1e5/Math.pow(10,y),f=t.substring(o,o+y),_=parseFloat(f)*p,d=t.substring(o+y),v=parseFloat(d)*p),m=_+l,g=v+h,{easting:m,northing:g,zoneLetter:a,zoneNumber:s,accuracy:p}}function Da(t,e){for(var n=Oy.charCodeAt(e-1),i=1e5,r=!1;n!==t.charCodeAt(0);){if(n++,n===Iy&&n++,n===ky&&n++,n>Fy){if(r)throw"Bad character: "+t;n=Ry,r=!0}i+=1e5}return i}function Ga(t,e){if(t>"V")throw"MGRSPoint given invalid Northing "+t;for(var n=Ay.charCodeAt(e-1),i=0,r=!1;n!==t.charCodeAt(0);){if(n++,n===Iy&&n++,n===ky&&n++,n>Ny){if(r)throw"Bad character: "+t;n=Ry,r=!0}i+=1e5}return i}function za(t){var e;switch(t){case"C":e=11e5;break;case"D":e=2e6;break;case"E":e=28e5;break;case"F":e=37e5;break;case"G":e=46e5;break;case"H":e=55e5;break;case"J":e=64e5;break;case"K":e=73e5;break;case"L":e=82e5;break;case"M":e=91e5;break;case"N":e=0;break;case"P":e=8e5;break;case"Q":e=17e5;break;case"R":e=26e5;break;case"S":e=35e5;break;case"T":e=44e5;break;case"U":e=53e5;break;case"V":e=62e5;break;case"W":e=7e6;break;case"X":e=79e5;break;default:e=-1}if(e>=0)return e;throw"Invalid zone letter: "+t}function Ua(t,e,n){if(!(this instanceof Ua))return new Ua(t,e,n);if(Array.isArray(t))this.x=t[0],this.y=t[1],this.z=t[2]||0;else if("object"===typeof t)this.x=t.x,this.y=t.y,this.z=t.z||0;else if("string"===typeof t&&"undefined"===typeof e){var i=t.split(",");this.x=parseFloat(i[0],10),this.y=parseFloat(i[1],10),this.z=parseFloat(i[2],10)||0}else this.x=t,this.y=e,this.z=n||0;console.warn("proj4.Point will be removed in version 3, use proj4.toPoint")}function Ba(t){var e=[];e[0]=Dy-t*(Gy+t*(zy+t*(Uy+t*By))),e[1]=t*(Zy-t*(zy+t*(Uy+t*By)));var n=t*t;return e[2]=n*(Wy-t*(Xy+t*Vy)),n*=t,e[3]=n*(Hy-t*Yy),e[4]=n*t*qy,e}function Za(t,e,n,i){return n*=e,e*=e,i[0]*t-n*(i[1]+e*(i[2]+e*(i[3]+e*i[4])))}function Wa(t,e,n){for(var i=1/(1-e),r=t,o=Ky;o;--o){var s=Math.sin(r),a=1-e*s*s;if(a=(Za(r,s,Math.cos(r),n)-t)*(a*Math.sqrt(a))*i,r-=a,Math.abs(a)<$g)return r}return r}function Xa(){this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.es&&(this.en=Ba(this.es),this.ml0=Za(this.lat0,Math.sin(this.lat0),Math.cos(this.lat0),this.en))}function Va(t){var e,n,i,r=t.x,o=t.y,s=Ys(r-this.long0),a=Math.sin(o),u=Math.cos(o);if(this.es){var l=u*s,h=Math.pow(l,2),c=this.ep2*Math.pow(u,2),p=Math.pow(c,2),f=Math.abs(u)>$g?Math.tan(o):0,d=Math.pow(f,2),m=Math.pow(d,2);e=1-this.es*Math.pow(a,2),l/=Math.sqrt(e);var g=Za(o,a,u,this.en);n=this.a*(this.k0*l*(1+h/6*(1-d+c+h/20*(5-18*d+m+14*c-58*d*c+h/42*(61+179*m-m*d-479*d)))))+this.x0,i=this.a*(this.k0*(g-this.ml0+a*s*l/2*(1+h/12*(5-d+9*c+4*p+h/30*(61+m-58*d+270*c-330*d*c+h/56*(1385+543*m-m*d-3111*d))))))+this.y0}else{var y=u*Math.sin(s);if(Math.abs(Math.abs(y)-1)<$g)return 93;if(n=.5*this.a*this.k0*Math.log((1+y)/(1-y))+this.x0,i=u*Math.cos(s)/Math.sqrt(1-Math.pow(y,2)),(y=Math.abs(i))>=1){if(y-1>$g)return 93;i=0}else i=Math.acos(i);o<0&&(i=-i),i=this.a*this.k0*(i-this.lat0)+this.y0}return t.x=n,t.y=i,t}function Ha(t){var e,n,i,r,o=(t.x-this.x0)*(1/this.a),s=(t.y-this.y0)*(1/this.a);if(this.es)if(e=this.ml0+s/this.k0,n=Wa(e,this.es,this.en),Math.abs(n)<qg){var a=Math.sin(n),u=Math.cos(n),l=Math.abs(u)>$g?Math.tan(n):0,h=this.ep2*Math.pow(u,2),c=Math.pow(h,2),p=Math.pow(l,2),f=Math.pow(p,2);e=1-this.es*Math.pow(a,2);var d=o*Math.sqrt(e)/this.k0,m=Math.pow(d,2);e*=l,i=n-e*m/(1-this.es)*.5*(1-m/12*(5+3*p-9*h*p+h-4*c-m/30*(61+90*p-252*h*p+45*f+46*h-m/56*(1385+3633*p+4095*f+1574*f*p)))),r=Ys(this.long0+d*(1-m/6*(1+2*p+h-m/20*(5+28*p+24*f+8*h*p+6*h-m/42*(61+662*p+1320*f+720*f*p))))/u)}else i=qg*Hs(s),r=0;else{var g=Math.exp(o/this.k0),y=.5*(g-1/g),_=this.lat0+s/this.k0,v=Math.cos(_);e=Math.sqrt((1-Math.pow(v,2))/(1+Math.pow(y,2))),i=Math.asin(e),s<0&&(i=-i),r=0===y&&0===v?0:Ys(Math.atan2(y,v)+this.long0)}return t.x=r,t.y=i,t}function Ya(t){var e=Math.exp(t);return e=(e-1/e)/2}function qa(t,e){t=Math.abs(t),e=Math.abs(e);var n=Math.max(t,e),i=Math.min(t,e)/(n||1);return n*Math.sqrt(1+Math.pow(i,2))}function Ka(t){var e=1+t,n=e-1;return 0===n?t:t*Math.log(e)/n}function Ja(t){var e=Math.abs(t);return e=Ka(e*(1+e/(qa(1,e)+1))),t<0?-e:e}function Qa(t,e){for(var n,i=2*Math.cos(2*e),r=t.length-1,o=t[r],s=0;--r>=0;)n=i*o-s+t[r],s=o,o=n;return e+n*Math.sin(2*e)}function $a(t,e){for(var n,i=2*Math.cos(e),r=t.length-1,o=t[r],s=0;--r>=0;)n=i*o-s+t[r],s=o,o=n;return Math.sin(e)*n}function tu(t){var e=Math.exp(t);return e=(e+1/e)/2}function eu(t,e,n){for(var i,r,o=Math.sin(e),s=Math.cos(e),a=Ya(n),u=tu(n),l=2*s*u,h=-2*o*a,c=t.length-1,p=t[c],f=0,d=0,m=0;--c>=0;)i=d,r=f,d=p,f=m,p=l*d-i-h*f+t[c],m=h*d-r+l*f;return l=o*u,h=s*a,[l*p-h*m,l*m+h*p]}function nu(){if(void 0===this.es||this.es<=0)throw new Error("incorrect elliptical usage");this.x0=void 0!==this.x0?this.x0:0,this.y0=void 0!==this.y0?this.y0:0,this.long0=void 0!==this.long0?this.long0:0,this.lat0=void 0!==this.lat0?this.lat0:0,this.cgb=[],this.cbg=[],this.utg=[],this.gtu=[];var t=this.es/(1+Math.sqrt(1-this.es)),e=t/(2-t),n=e;this.cgb[0]=e*(2+e*(-2/3+e*(e*(116/45+e*(26/45+e*(-2854/675)))-2))),this.cbg[0]=e*(e*(2/3+e*(4/3+e*(-82/45+e*(32/45+e*(4642/4725)))))-2),n*=e,this.cgb[1]=n*(7/3+e*(e*(-227/45+e*(2704/315+e*(2323/945)))-1.6)),this.cbg[1]=n*(5/3+e*(-16/15+e*(-13/9+e*(904/315+e*(-1522/945))))),n*=e,this.cgb[2]=n*(56/15+e*(-136/35+e*(-1262/105+e*(73814/2835)))),this.cbg[2]=n*(-26/15+e*(34/21+e*(1.6+e*(-12686/2835)))),n*=e,this.cgb[3]=n*(4279/630+e*(-332/35+e*(-399572/14175))),this.cbg[3]=n*(1237/630+e*(e*(-24832/14175)-2.4)),n*=e,this.cgb[4]=n*(4174/315+e*(-144838/6237)),this.cbg[4]=n*(-734/315+e*(109598/31185)),n*=e,this.cgb[5]=n*(601676/22275),this.cbg[5]=n*(444337/155925),n=Math.pow(e,2),this.Qn=this.k0/(1+e)*(1+n*(.25+n*(1/64+n/256))),this.utg[0]=e*(e*(2/3+e*(-37/96+e*(1/360+e*(81/512+e*(-96199/604800)))))-.5),this.gtu[0]=e*(.5+e*(-2/3+e*(5/16+e*(41/180+e*(-127/288+e*(7891/37800)))))),this.utg[1]=n*(-1/48+e*(-1/15+e*(437/1440+e*(-46/105+e*(1118711/3870720))))),this.gtu[1]=n*(13/48+e*(e*(557/1440+e*(281/630+e*(-1983433/1935360)))-.6)),n*=e,this.utg[2]=n*(-17/480+e*(37/840+e*(209/4480+e*(-5569/90720)))),this.gtu[2]=n*(61/240+e*(-103/140+e*(15061/26880+e*(167603/181440)))),n*=e,this.utg[3]=n*(-4397/161280+e*(11/504+e*(830251/7257600))),this.gtu[3]=n*(49561/161280+e*(-179/168+e*(6601661/7257600))),n*=e,this.utg[4]=n*(-4583/161280+e*(108847/3991680)),this.gtu[4]=n*(34729/80640+e*(-3418889/1995840)),n*=e,this.utg[5]=-.03233083094085698*n,this.gtu[5]=.6650675310896665*n;var i=Qa(this.cbg,this.lat0);this.Zb=-this.Qn*(i+$a(this.gtu,2*i))}function iu(t){var e=Ys(t.x-this.long0),n=t.y;n=Qa(this.cbg,n);var i=Math.sin(n),r=Math.cos(n),o=Math.sin(e),s=Math.cos(e);n=Math.atan2(i,s*r),e=Math.atan2(o*r,qa(i,r*s)),e=Ja(Math.tan(e));var a=eu(this.gtu,2*n,2*e);n+=a[0],e+=a[1];var u,l;return Math.abs(e)<=2.623395162778?(u=this.a*(this.Qn*e)+this.x0,l=this.a*(this.Qn*n+this.Zb)+this.y0):(u=1/0,l=1/0),t.x=u,t.y=l,t}function ru(t){var e=(t.x-this.x0)*(1/this.a),n=(t.y-this.y0)*(1/this.a);n=(n-this.Zb)/this.Qn,e/=this.Qn;var i,r;if(Math.abs(e)<=2.623395162778){var o=eu(this.utg,2*n,2*e);n+=o[0],e+=o[1],e=Math.atan(Ya(e));var s=Math.sin(n),a=Math.cos(n),u=Math.sin(e),l=Math.cos(e);n=Math.atan2(s*l,qa(u,l*a)),e=Math.atan2(u,l*a),i=Ys(e+this.long0),r=Qa(this.cgb,n)}else i=1/0,r=1/0;return t.x=i,t.y=r,t}function ou(t,e){if(void 0===t){if((t=Math.floor(30*(Ys(e)+Math.PI)/Math.PI)+1)<0)return 0;if(t>60)return 60}return t}function su(){var t=ou(this.zone,this.long0);if(void 0===t)throw new Error("unknown utm zone");this.lat0=0,this.long0=(6*Math.abs(t)-183)*ty,this.x0=5e5,this.y0=this.utmSouth?1e7:0,this.k0=.9996,t_.init.apply(this),this.forward=t_.forward,this.inverse=t_.inverse}function au(t,e){return Math.pow((1-t)/(1+t),e)}function uu(){var t=Math.sin(this.lat0),e=Math.cos(this.lat0);e*=e,this.rc=Math.sqrt(1-this.es)/(1-this.es*t*t),this.C=Math.sqrt(1+this.es*e*e/(1-this.es)),this.phic0=Math.asin(t/this.C),this.ratexp=.5*this.C*this.e,this.K=Math.tan(.5*this.phic0+ny)/(Math.pow(Math.tan(.5*this.lat0+ny),this.C)*au(this.e*t,this.ratexp))}function lu(t){var e=t.x,n=t.y;return t.y=2*Math.atan(this.K*Math.pow(Math.tan(.5*n+ny),this.C)*au(this.e*Math.sin(n),this.ratexp))-qg,t.x=this.C*e,t}function hu(t){for(var e=t.x/this.C,n=t.y,i=Math.pow(Math.tan(.5*n+ny)/this.K,1/this.C),r=i_;r>0&&(n=2*Math.atan(i*au(this.e*Math.sin(t.y),-.5*this.e))-qg,!(Math.abs(n-t.y)<1e-14));--r)t.y=n;return r?(t.x=e,t.y=n,t):null}function cu(){o_.init.apply(this),this.rc&&(this.sinc0=Math.sin(this.phic0),this.cosc0=Math.cos(this.phic0),this.R2=2*this.rc,this.title||(this.title="Oblique Stereographic Alternative"))}function pu(t){var e,n,i,r;return t.x=Ys(t.x-this.long0),o_.forward.apply(this,[t]),e=Math.sin(t.y),n=Math.cos(t.y),i=Math.cos(t.x),r=this.k0*this.R2/(1+this.sinc0*e+this.cosc0*n*i),t.x=r*n*Math.sin(t.x),t.y=r*(this.cosc0*e-this.sinc0*n*i),t.x=this.a*t.x+this.x0,t.y=this.a*t.y+this.y0,t}function fu(t){var e,n,i,r,o;if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,o=Math.sqrt(t.x*t.x+t.y*t.y)){var s=2*Math.atan2(o,this.R2);e=Math.sin(s),n=Math.cos(s),r=Math.asin(n*this.sinc0+t.y*e*this.cosc0/o),i=Math.atan2(t.x*e,o*this.cosc0*n-t.y*this.sinc0*e)}else r=this.phic0,i=0;return t.x=i,t.y=r,o_.inverse.apply(this,[t]),t.x=Ys(t.x+this.long0),t}function du(t,e,n){return e*=n,Math.tan(.5*(qg+t))*Math.pow((1-e)/(1+e),.5*n)}function mu(){this.coslat0=Math.cos(this.lat0),this.sinlat0=Math.sin(this.lat0),this.sphere?1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=$g&&(this.k0=.5*(1+Hs(this.lat0)*Math.sin(this.lat_ts))):(Math.abs(this.coslat0)<=$g&&(this.lat0>0?this.con=1:this.con=-1),this.cons=Math.sqrt(Math.pow(1+this.e,1+this.e)*Math.pow(1-this.e,1-this.e)),1===this.k0&&!isNaN(this.lat_ts)&&Math.abs(this.coslat0)<=$g&&(this.k0=.5*this.cons*Vs(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts))/qs(this.e,this.con*this.lat_ts,this.con*Math.sin(this.lat_ts))),this.ms1=Vs(this.e,this.sinlat0,this.coslat0),this.X0=2*Math.atan(this.ssfn_(this.lat0,this.sinlat0,this.e))-qg,this.cosX0=Math.cos(this.X0),this.sinX0=Math.sin(this.X0))}function gu(t){var e,n,i,r,o,s,a=t.x,u=t.y,l=Math.sin(u),h=Math.cos(u),c=Ys(a-this.long0);return Math.abs(Math.abs(a-this.long0)-Math.PI)<=$g&&Math.abs(u+this.lat0)<=$g?(t.x=NaN,t.y=NaN,t):this.sphere?(e=2*this.k0/(1+this.sinlat0*l+this.coslat0*h*Math.cos(c)),t.x=this.a*e*h*Math.sin(c)+this.x0,t.y=this.a*e*(this.coslat0*l-this.sinlat0*h*Math.cos(c))+this.y0,t):(n=2*Math.atan(this.ssfn_(u,l,this.e))-qg,r=Math.cos(n),i=Math.sin(n),Math.abs(this.coslat0)<=$g?(o=qs(this.e,u*this.con,this.con*l),s=2*this.a*this.k0*o/this.cons,t.x=this.x0+s*Math.sin(a-this.long0),t.y=this.y0-this.con*s*Math.cos(a-this.long0),t):(Math.abs(this.sinlat0)<$g?(e=2*this.a*this.k0/(1+r*Math.cos(c)),t.y=e*i):(e=2*this.a*this.k0*this.ms1/(this.cosX0*(1+this.sinX0*i+this.cosX0*r*Math.cos(c))),t.y=e*(this.cosX0*i-this.sinX0*r*Math.cos(c))+this.y0),t.x=e*r*Math.sin(c)+this.x0,t))}function yu(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,o,s=Math.sqrt(t.x*t.x+t.y*t.y);if(this.sphere){var a=2*Math.atan(s/(2*this.a*this.k0));return e=this.long0,(n=this.lat0,s<=$g)?(t.x=e,t.y=n,t):(n=Math.asin(Math.cos(a)*this.sinlat0+t.y*Math.sin(a)*this.coslat0/s),e=Ys(Math.abs(this.coslat0)<$g?this.lat0>0?this.long0+Math.atan2(t.x,-1*t.y):this.long0+Math.atan2(t.x,t.y):this.long0+Math.atan2(t.x*Math.sin(a),s*this.coslat0*Math.cos(a)-t.y*this.sinlat0*Math.sin(a))),t.x=e,t.y=n,t)}if(Math.abs(this.coslat0)<=$g){if(s<=$g)return n=this.lat0,e=this.long0,t.x=e,t.y=n,t;t.x*=this.con,t.y*=this.con,i=s*this.cons/(2*this.a*this.k0),n=this.con*Ks(this.e,i),e=this.con*Ys(this.con*this.long0+Math.atan2(t.x,-1*t.y))}else r=2*Math.atan(s*this.cosX0/(2*this.a*this.k0*this.ms1)),e=this.long0,s<=$g?o=this.X0:(o=Math.asin(Math.cos(r)*this.sinX0+t.y*Math.sin(r)*this.cosX0/s),e=Ys(this.long0+Math.atan2(t.x*Math.sin(r),s*this.cosX0*Math.cos(r)-t.y*this.sinX0*Math.sin(r)))),n=-1*Ks(this.e,Math.tan(.5*(qg+o)));return t.x=e,t.y=n,t}function _u(){var t=this.lat0;this.lambda0=this.long0;var e=Math.sin(t),n=this.a,i=this.rf,r=1/i,o=2*r-Math.pow(r,2),s=this.e=Math.sqrt(o);this.R=this.k0*n*Math.sqrt(1-o)/(1-o*Math.pow(e,2)),this.alpha=Math.sqrt(1+o/(1-o)*Math.pow(Math.cos(t),4)),this.b0=Math.asin(e/this.alpha);var a=Math.log(Math.tan(Math.PI/4+this.b0/2)),u=Math.log(Math.tan(Math.PI/4+t/2)),l=Math.log((1+s*e)/(1-s*e));this.K=a-this.alpha*u+this.alpha*s/2*l}function vu(t){var e=Math.log(Math.tan(Math.PI/4-t.y/2)),n=this.e/2*Math.log((1+this.e*Math.sin(t.y))/(1-this.e*Math.sin(t.y))),i=-this.alpha*(e+n)+this.K,r=2*(Math.atan(Math.exp(i))-Math.PI/4),o=this.alpha*(t.x-this.lambda0),s=Math.atan(Math.sin(o)/(Math.sin(this.b0)*Math.tan(r)+Math.cos(this.b0)*Math.cos(o))),a=Math.asin(Math.cos(this.b0)*Math.sin(r)-Math.sin(this.b0)*Math.cos(r)*Math.cos(o));return t.y=this.R/2*Math.log((1+Math.sin(a))/(1-Math.sin(a)))+this.y0,t.x=this.R*s+this.x0,t}function bu(t){for(var e=t.x-this.x0,n=t.y-this.y0,i=e/this.R,r=2*(Math.atan(Math.exp(n/this.R))-Math.PI/4),o=Math.asin(Math.cos(this.b0)*Math.sin(r)+Math.sin(this.b0)*Math.cos(r)*Math.cos(i)),s=Math.atan(Math.sin(i)/(Math.cos(this.b0)*Math.cos(i)-Math.sin(this.b0)*Math.tan(r))),a=this.lambda0+s/this.alpha,u=0,l=o,h=-1e3,c=0;Math.abs(l-h)>1e-7;){if(++c>20)return;u=1/this.alpha*(Math.log(Math.tan(Math.PI/4+o/2))-this.K)+this.e*Math.log(Math.tan(Math.PI/4+Math.asin(this.e*Math.sin(l))/2)),h=l,l=2*Math.atan(Math.exp(u))-Math.PI/2}return t.x=a,t.y=l,t}function xu(){this.no_off=this.no_off||!1,this.no_rot=this.no_rot||!1,isNaN(this.k0)&&(this.k0=1);var t=Math.sin(this.lat0),e=Math.cos(this.lat0),n=this.e*t;this.bl=Math.sqrt(1+this.es/(1-this.es)*Math.pow(e,4)),this.al=this.a*this.bl*this.k0*Math.sqrt(1-this.es)/(1-n*n);var i=qs(this.e,this.lat0,t),r=this.bl/e*Math.sqrt((1-this.es)/(1-n*n));r*r<1&&(r=1);var o,s;if(isNaN(this.longc)){var a=qs(this.e,this.lat1,Math.sin(this.lat1)),u=qs(this.e,this.lat2,Math.sin(this.lat2));this.lat0>=0?this.el=(r+Math.sqrt(r*r-1))*Math.pow(i,this.bl):this.el=(r-Math.sqrt(r*r-1))*Math.pow(i,this.bl);var l=Math.pow(a,this.bl),h=Math.pow(u,this.bl);o=this.el/l,s=.5*(o-1/o);var c=(this.el*this.el-h*l)/(this.el*this.el+h*l),p=(h-l)/(h+l),f=Ys(this.long1-this.long2);this.long0=.5*(this.long1+this.long2)-Math.atan(c*Math.tan(.5*this.bl*f)/p)/this.bl,this.long0=Ys(this.long0);var d=Ys(this.long1-this.long0);this.gamma0=Math.atan(Math.sin(this.bl*d)/s),this.alpha=Math.asin(r*Math.sin(this.gamma0))}else o=this.lat0>=0?r+Math.sqrt(r*r-1):r-Math.sqrt(r*r-1),this.el=o*Math.pow(i,this.bl),s=.5*(o-1/o),this.gamma0=Math.asin(Math.sin(this.alpha)/r),this.long0=this.longc-Math.asin(s*Math.tan(this.gamma0))/this.bl;this.no_off?this.uc=0:this.lat0>=0?this.uc=this.al/this.bl*Math.atan2(Math.sqrt(r*r-1),Math.cos(this.alpha)):this.uc=-1*this.al/this.bl*Math.atan2(Math.sqrt(r*r-1),Math.cos(this.alpha))}function wu(t){var e,n,i,r=t.x,o=t.y,s=Ys(r-this.long0);if(Math.abs(Math.abs(o)-qg)<=$g)i=o>0?-1:1,n=this.al/this.bl*Math.log(Math.tan(ny+i*this.gamma0*.5)),e=-1*i*qg*this.al/this.bl;else{var a=qs(this.e,o,Math.sin(o)),u=this.el/Math.pow(a,this.bl),l=.5*(u-1/u),h=.5*(u+1/u),c=Math.sin(this.bl*s),p=(l*Math.sin(this.gamma0)-c*Math.cos(this.gamma0))/h;n=Math.abs(Math.abs(p)-1)<=$g?Number.POSITIVE_INFINITY:.5*this.al*Math.log((1-p)/(1+p))/this.bl,e=Math.abs(Math.cos(this.bl*s))<=$g?this.al*this.bl*s:this.al*Math.atan2(l*Math.cos(this.gamma0)+c*Math.sin(this.gamma0),Math.cos(this.bl*s))/this.bl}return this.no_rot?(t.x=this.x0+e,t.y=this.y0+n):(e-=this.uc,t.x=this.x0+n*Math.cos(this.alpha)+e*Math.sin(this.alpha),t.y=this.y0+e*Math.cos(this.alpha)-n*Math.sin(this.alpha)),t}function Eu(t){var e,n;this.no_rot?(n=t.y-this.y0,e=t.x-this.x0):(n=(t.x-this.x0)*Math.cos(this.alpha)-(t.y-this.y0)*Math.sin(this.alpha),e=(t.y-this.y0)*Math.cos(this.alpha)+(t.x-this.x0)*Math.sin(this.alpha),e+=this.uc);var i=Math.exp(-1*this.bl*n/this.al),r=.5*(i-1/i),o=.5*(i+1/i),s=Math.sin(this.bl*e/this.al),a=(s*Math.cos(this.gamma0)+r*Math.sin(this.gamma0))/o,u=Math.pow(this.el/Math.sqrt((1+a)/(1-a)),1/this.bl);return Math.abs(a-1)<$g?(t.x=this.long0,t.y=qg):Math.abs(a+1)<$g?(t.x=this.long0,t.y=-1*qg):(t.y=Ks(this.e,u),t.x=Ys(this.long0-Math.atan2(r*Math.cos(this.gamma0)-s*Math.sin(this.gamma0),Math.cos(this.bl*e/this.al))/this.bl)),t}function Su(){if(this.lat2||(this.lat2=this.lat1),this.k0||(this.k0=1),this.x0=this.x0||0,this.y0=this.y0||0,!(Math.abs(this.lat1+this.lat2)<$g)){var t=this.b/this.a;this.e=Math.sqrt(1-t*t);var e=Math.sin(this.lat1),n=Math.cos(this.lat1),i=Vs(this.e,e,n),r=qs(this.e,this.lat1,e),o=Math.sin(this.lat2),s=Math.cos(this.lat2),a=Vs(this.e,o,s),u=qs(this.e,this.lat2,o),l=qs(this.e,this.lat0,Math.sin(this.lat0));Math.abs(this.lat1-this.lat2)>$g?this.ns=Math.log(i/a)/Math.log(r/u):this.ns=e,isNaN(this.ns)&&(this.ns=e),this.f0=i/(this.ns*Math.pow(r,this.ns)),this.rh=this.a*this.f0*Math.pow(l,this.ns),this.title||(this.title="Lambert Conformal Conic")}}function Tu(t){var e=t.x,n=t.y;Math.abs(2*Math.abs(n)-Math.PI)<=$g&&(n=Hs(n)*(qg-2*$g));var i,r,o=Math.abs(Math.abs(n)-qg);if(o>$g)i=qs(this.e,n,Math.sin(n)),r=this.a*this.f0*Math.pow(i,this.ns);else{if((o=n*this.ns)<=0)return null;r=0}var s=this.ns*Ys(e-this.long0);return t.x=this.k0*(r*Math.sin(s))+this.x0,t.y=this.k0*(this.rh-r*Math.cos(s))+this.y0,t}function Cu(t){var e,n,i,r,o,s=(t.x-this.x0)/this.k0,a=this.rh-(t.y-this.y0)/this.k0;this.ns>0?(e=Math.sqrt(s*s+a*a),n=1):(e=-Math.sqrt(s*s+a*a),n=-1);var u=0;if(0!==e&&(u=Math.atan2(n*s,n*a)),0!==e||this.ns>0){if(n=1/this.ns,i=Math.pow(e/(this.a*this.f0),n),-9999===(r=Ks(this.e,i)))return null}else r=-qg;return o=Ys(u/this.ns+this.long0),t.x=o,t.y=r,t}function Mu(){this.a=6377397.155,this.es=.006674372230614,this.e=Math.sqrt(this.es),this.lat0||(this.lat0=.863937979737193),this.long0||(this.long0=.4334234309119251),this.k0||(this.k0=.9999),this.s45=.785398163397448,this.s90=2*this.s45,this.fi0=this.lat0,this.e2=this.es,this.e=Math.sqrt(this.e2),this.alfa=Math.sqrt(1+this.e2*Math.pow(Math.cos(this.fi0),4)/(1-this.e2)),this.uq=1.04216856380474,this.u0=Math.asin(Math.sin(this.fi0)/this.alfa),this.g=Math.pow((1+this.e*Math.sin(this.fi0))/(1-this.e*Math.sin(this.fi0)),this.alfa*this.e/2),this.k=Math.tan(this.u0/2+this.s45)/Math.pow(Math.tan(this.fi0/2+this.s45),this.alfa)*this.g,this.k1=this.k0,this.n0=this.a*Math.sqrt(1-this.e2)/(1-this.e2*Math.pow(Math.sin(this.fi0),2)),this.s0=1.37008346281555,this.n=Math.sin(this.s0),this.ro0=this.k1*this.n0/Math.tan(this.s0),this.ad=this.s90-this.uq}function Lu(t){var e,n,i,r,o,s,a,u=t.x,l=t.y,h=Ys(u-this.long0);return e=Math.pow((1+this.e*Math.sin(l))/(1-this.e*Math.sin(l)),this.alfa*this.e/2),n=2*(Math.atan(this.k*Math.pow(Math.tan(l/2+this.s45),this.alfa)/e)-this.s45),i=-h*this.alfa,r=Math.asin(Math.cos(this.ad)*Math.sin(n)+Math.sin(this.ad)*Math.cos(n)*Math.cos(i)),o=Math.asin(Math.cos(n)*Math.sin(i)/Math.cos(r)),s=this.n*o,a=this.ro0*Math.pow(Math.tan(this.s0/2+this.s45),this.n)/Math.pow(Math.tan(r/2+this.s45),this.n),t.y=a*Math.cos(s)/1,t.x=a*Math.sin(s)/1,this.czech||(t.y*=-1,t.x*=-1),t}function Pu(t){var e,n,i,r,o,s,a,u,l=t.x;t.x=t.y,t.y=l,this.czech||(t.y*=-1,t.x*=-1),s=Math.sqrt(t.x*t.x+t.y*t.y),o=Math.atan2(t.y,t.x),r=o/Math.sin(this.s0),i=2*(Math.atan(Math.pow(this.ro0/s,1/this.n)*Math.tan(this.s0/2+this.s45))-this.s45),e=Math.asin(Math.cos(this.ad)*Math.sin(i)-Math.sin(this.ad)*Math.cos(i)*Math.cos(r)),n=Math.asin(Math.cos(i)*Math.sin(r)/Math.cos(e)),t.x=this.long0-n/this.alfa,a=e,u=0;var h=0;do{t.y=2*(Math.atan(Math.pow(this.k,-1/this.alfa)*Math.pow(Math.tan(e/2+this.s45),1/this.alfa)*Math.pow((1+this.e*Math.sin(a))/(1-this.e*Math.sin(a)),this.e/2))-this.s45),Math.abs(a-t.y)<1e-10&&(u=1),a=t.y,h+=1}while(0===u&&h<15);return h>=15?null:t}function Ou(t,e,n,i,r){return t*r-e*Math.sin(2*r)+n*Math.sin(4*r)-i*Math.sin(6*r)}function Au(t){return 1-.25*t*(1+t/16*(3+1.25*t))}function Ru(t){return.375*t*(1+.25*t*(1+.46875*t))}function Iu(t){return.05859375*t*t*(1+.75*t)}function ku(t){return t*t*t*(35/3072)}function Nu(t,e,n){var i=e*n;return t/Math.sqrt(1-i*i)}function Fu(t){return Math.abs(t)<qg?t:t-Hs(t)*Math.PI}function ju(t,e,n,i,r){var o,s;o=t/e;for(var a=0;a<15;a++)if(s=(t-(e*o-n*Math.sin(2*o)+i*Math.sin(4*o)-r*Math.sin(6*o)))/(e-2*n*Math.cos(2*o)+4*i*Math.cos(4*o)-6*r*Math.cos(6*o)),o+=s,Math.abs(s)<=1e-10)return o;return NaN}function Du(){this.sphere||(this.e0=Au(this.es),this.e1=Ru(this.es),this.e2=Iu(this.es),this.e3=ku(this.es),this.ml0=this.a*Ou(this.e0,this.e1,this.e2,this.e3,this.lat0))}function Gu(t){var e,n,i=t.x,r=t.y;if(i=Ys(i-this.long0),this.sphere)e=this.a*Math.asin(Math.cos(r)*Math.sin(i)),n=this.a*(Math.atan2(Math.tan(r),Math.cos(i))-this.lat0);else{var o=Math.sin(r),s=Math.cos(r),a=Nu(this.a,this.e,o),u=Math.tan(r)*Math.tan(r),l=i*Math.cos(r),h=l*l,c=this.es*s*s/(1-this.es),p=this.a*Ou(this.e0,this.e1,this.e2,this.e3,r);e=a*l*(1-h*u*(1/6-(8-u+8*c)*h/120)),n=p-this.ml0+a*o/s*h*(.5+(5-u+6*c)*h/24)}return t.x=e+this.x0,t.y=n+this.y0,t}function zu(t){t.x-=this.x0,t.y-=this.y0;var e,n,i=t.x/this.a,r=t.y/this.a;if(this.sphere){var o=r+this.lat0;e=Math.asin(Math.sin(o)*Math.cos(i)),n=Math.atan2(Math.tan(i),Math.cos(o))}else{var s=this.ml0/this.a+r,a=ju(s,this.e0,this.e1,this.e2,this.e3);if(Math.abs(Math.abs(a)-qg)<=$g)return t.x=this.long0,t.y=qg,r<0&&(t.y*=-1),t;var u=Nu(this.a,this.e,Math.sin(a)),l=u*u*u/this.a/this.a*(1-this.es),h=Math.pow(Math.tan(a),2),c=i*this.a/u,p=c*c;e=a-u*Math.tan(a)/l*c*c*(.5-(1+3*h)*c*c/24),n=c*(1-p*(h/3+(1+3*h)*h*p/15))/Math.cos(a)}return t.x=Ys(n+this.long0),t.y=Fu(e),t}function Uu(t,e){var n;return t>1e-7?(n=t*e,(1-t*t)*(e/(1-n*n)-.5/t*Math.log((1-n)/(1+n)))):2*e}function Bu(){var t=Math.abs(this.lat0);if(Math.abs(t-qg)<$g?this.mode=this.lat0<0?this.S_POLE:this.N_POLE:Math.abs(t)<$g?this.mode=this.EQUIT:this.mode=this.OBLIQ,this.es>0){var e;switch(this.qp=Uu(this.e,1),this.mmf=.5/(1-this.es),this.apa=Xu(this.es),this.mode){case this.N_POLE:case this.S_POLE:this.dd=1;break;case this.EQUIT:this.rq=Math.sqrt(.5*this.qp),this.dd=1/this.rq,this.xmf=1,this.ymf=.5*this.qp;break;case this.OBLIQ:this.rq=Math.sqrt(.5*this.qp),e=Math.sin(this.lat0),this.sinb1=Uu(this.e,e)/this.qp,this.cosb1=Math.sqrt(1-this.sinb1*this.sinb1),this.dd=Math.cos(this.lat0)/(Math.sqrt(1-this.es*e*e)*this.rq*this.cosb1),this.ymf=(this.xmf=this.rq)/this.dd,this.xmf*=this.dd}}else this.mode===this.OBLIQ&&(this.sinph0=Math.sin(this.lat0),this.cosph0=Math.cos(this.lat0))}function Zu(t){var e,n,i,r,o,s,a,u,l,h,c=t.x,p=t.y;if(c=Ys(c-this.long0),this.sphere){if(o=Math.sin(p),h=Math.cos(p),i=Math.cos(c),this.mode===this.OBLIQ||this.mode===this.EQUIT){if((n=this.mode===this.EQUIT?1+h*i:1+this.sinph0*o+this.cosph0*h*i)<=$g)return null;n=Math.sqrt(2/n),e=n*h*Math.sin(c),n*=this.mode===this.EQUIT?o:this.cosph0*o-this.sinph0*h*i}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(i=-i),Math.abs(p+this.phi0)<$g)return null;n=ny-.5*p,n=2*(this.mode===this.S_POLE?Math.cos(n):Math.sin(n)),e=n*Math.sin(c),n*=i}}else{switch(a=0,u=0,l=0,i=Math.cos(c),r=Math.sin(c),o=Math.sin(p),s=Uu(this.e,o),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(a=s/this.qp,u=Math.sqrt(1-a*a)),this.mode){case this.OBLIQ:l=1+this.sinb1*a+this.cosb1*u*i;break;case this.EQUIT:l=1+u*i;break;case this.N_POLE:l=qg+p,s=this.qp-s;break;case this.S_POLE:l=p-qg,s=this.qp+s}if(Math.abs(l)<$g)return null;switch(this.mode){case this.OBLIQ:case this.EQUIT:l=Math.sqrt(2/l),n=this.mode===this.OBLIQ?this.ymf*l*(this.cosb1*a-this.sinb1*u*i):(l=Math.sqrt(2/(1+u*i)))*a*this.ymf,e=this.xmf*l*u*r;break;case this.N_POLE:case this.S_POLE:s>=0?(e=(l=Math.sqrt(s))*r,n=i*(this.mode===this.S_POLE?l:-l)):e=n=0}}return t.x=this.a*e+this.x0,t.y=this.a*n+this.y0,t}function Wu(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,o,s,a,u=t.x/this.a,l=t.y/this.a;if(this.sphere){var h,c=0,p=0;if(h=Math.sqrt(u*u+l*l),(n=.5*h)>1)return null;switch(n=2*Math.asin(n),this.mode!==this.OBLIQ&&this.mode!==this.EQUIT||(p=Math.sin(n),c=Math.cos(n)),this.mode){case this.EQUIT:n=Math.abs(h)<=$g?0:Math.asin(l*p/h),u*=p,l=c*h;break;case this.OBLIQ:n=Math.abs(h)<=$g?this.phi0:Math.asin(c*this.sinph0+l*p*this.cosph0/h),u*=p*this.cosph0,l=(c-Math.sin(n)*this.sinph0)*h;break;case this.N_POLE:l=-l,n=qg-n;break;case this.S_POLE:n-=qg}e=0!==l||this.mode!==this.EQUIT&&this.mode!==this.OBLIQ?Math.atan2(u,l):0}else{if(a=0,this.mode===this.OBLIQ||this.mode===this.EQUIT){if(u/=this.dd,l*=this.dd,(s=Math.sqrt(u*u+l*l))<$g)return t.x=0,t.y=this.phi0,t;r=2*Math.asin(.5*s/this.rq),i=Math.cos(r),u*=r=Math.sin(r),this.mode===this.OBLIQ?(a=i*this.sinb1+l*r*this.cosb1/s,o=this.qp*a,l=s*this.cosb1*i-l*this.sinb1*r):(a=l*r/s,o=this.qp*a,l=s*i)}else if(this.mode===this.N_POLE||this.mode===this.S_POLE){if(this.mode===this.N_POLE&&(l=-l),!(o=u*u+l*l))return t.x=0,t.y=this.phi0,t;a=1-o/this.qp,this.mode===this.S_POLE&&(a=-a)}e=Math.atan2(u,l),n=Vu(Math.asin(a),this.apa)}return t.x=Ys(this.long0+e),t.y=n,t}function Xu(t){var e,n=[];return n[0]=t*b_,e=t*t,n[0]+=e*x_,n[1]=e*E_,e*=t,n[0]+=e*w_,n[1]+=e*S_,n[2]=e*T_,n}function Vu(t,e){var n=t+t;return t+e[0]*Math.sin(n)+e[1]*Math.sin(n+n)+e[2]*Math.sin(n+n+n)}function Hu(t){return Math.abs(t)>1&&(t=t>1?1:-1),Math.asin(t)}function Yu(){Math.abs(this.lat1+this.lat2)<$g||(this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e3=Math.sqrt(this.es),this.sin_po=Math.sin(this.lat1),this.cos_po=Math.cos(this.lat1),this.t1=this.sin_po,this.con=this.sin_po,this.ms1=Vs(this.e3,this.sin_po,this.cos_po),this.qs1=Uu(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat2),this.cos_po=Math.cos(this.lat2),this.t2=this.sin_po,this.ms2=Vs(this.e3,this.sin_po,this.cos_po),this.qs2=Uu(this.e3,this.sin_po,this.cos_po),this.sin_po=Math.sin(this.lat0),this.cos_po=Math.cos(this.lat0),this.t3=this.sin_po,this.qs0=Uu(this.e3,this.sin_po,this.cos_po),Math.abs(this.lat1-this.lat2)>$g?this.ns0=(this.ms1*this.ms1-this.ms2*this.ms2)/(this.qs2-this.qs1):this.ns0=this.con,this.c=this.ms1*this.ms1+this.ns0*this.qs1,this.rh=this.a*Math.sqrt(this.c-this.ns0*this.qs0)/this.ns0)}function qu(t){var e=t.x,n=t.y;this.sin_phi=Math.sin(n),this.cos_phi=Math.cos(n);var i=Uu(this.e3,this.sin_phi,this.cos_phi),r=this.a*Math.sqrt(this.c-this.ns0*i)/this.ns0,o=this.ns0*Ys(e-this.long0),s=r*Math.sin(o)+this.x0,a=this.rh-r*Math.cos(o)+this.y0;return t.x=s,t.y=a,t}function Ku(t){var e,n,i,r,o,s;return t.x-=this.x0,t.y=this.rh-t.y+this.y0,this.ns0>=0?(e=Math.sqrt(t.x*t.x+t.y*t.y),i=1):(e=-Math.sqrt(t.x*t.x+t.y*t.y),i=-1),r=0,0!==e&&(r=Math.atan2(i*t.x,i*t.y)),i=e*this.ns0/this.a,this.sphere?s=Math.asin((this.c-i*i)/(2*this.ns0)):(n=(this.c-i*i)/this.ns0,s=this.phi1z(this.e3,n)),o=Ys(r/this.ns0+this.long0),t.x=o,t.y=s,t}function Ju(t,e){var n,i,r,o,s,a=Hu(.5*e);if(t<$g)return a;for(var u=t*t,l=1;l<=25;l++)if(n=Math.sin(a),i=Math.cos(a),r=t*n,o=1-r*r,s=.5*o*o/i*(e/(1-u)-n/o+.5/t*Math.log((1-r)/(1+r))),a+=s,Math.abs(s)<=1e-7)return a;return null}function Qu(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0),this.infinity_dist=1e3*this.a,this.rc=1}function $u(t){var e,n,i,r,o,s,a,u,l=t.x,h=t.y;return i=Ys(l-this.long0),e=Math.sin(h),n=Math.cos(h),r=Math.cos(i),s=this.sin_p14*e+this.cos_p14*n*r,o=1,s>0||Math.abs(s)<=$g?(a=this.x0+this.a*o*n*Math.sin(i)/s,u=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*n*r)/s):(a=this.x0+this.infinity_dist*n*Math.sin(i),u=this.y0+this.infinity_dist*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=u,t}function tl(t){var e,n,i,r,o,s;return t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,t.x/=this.k0,t.y/=this.k0,(e=Math.sqrt(t.x*t.x+t.y*t.y))?(r=Math.atan2(e,this.rc),n=Math.sin(r),i=Math.cos(r),s=Hu(i*this.sin_p14+t.y*n*this.cos_p14/e),o=Math.atan2(t.x*n,e*this.cos_p14*i-t.y*this.sin_p14*n),o=Ys(this.long0+o)):(s=this.phic0,o=0),t.x=o,t.y=s,t}function el(t,e){var n=1-(1-t*t)/(2*t)*Math.log((1-t)/(1+t));if(Math.abs(Math.abs(e)-n)<1e-6)return e<0?-1*qg:qg;for(var i,r,o,s,a=Math.asin(.5*e),u=0;u<30;u++)if(r=Math.sin(a),o=Math.cos(a),s=t*r,i=Math.pow(1-s*s,2)/(2*o)*(e/(1-t*t)-r/(1-s*s)+.5/t*Math.log((1-s)/(1+s))),a+=i,Math.abs(i)<=1e-10)return a;return NaN}function nl(){this.sphere||(this.k0=Vs(this.e,Math.sin(this.lat_ts),Math.cos(this.lat_ts)))}function il(t){var e,n,i=t.x,r=t.y,o=Ys(i-this.long0);if(this.sphere)e=this.x0+this.a*o*Math.cos(this.lat_ts),n=this.y0+this.a*Math.sin(r)/Math.cos(this.lat_ts);else{var s=Uu(this.e,Math.sin(r));e=this.x0+this.a*this.k0*o,n=this.y0+this.a*s*.5/this.k0}return t.x=e,t.y=n,t}function rl(t){t.x-=this.x0,t.y-=this.y0;var e,n;return this.sphere?(e=Ys(this.long0+t.x/this.a/Math.cos(this.lat_ts)),n=Math.asin(t.y/this.a*Math.cos(this.lat_ts))):(n=el(this.e,2*t.y*this.k0/this.a),e=Ys(this.long0+t.x/(this.a*this.k0))),t.x=e,t.y=n,t}function ol(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Equidistant Cylindrical (Plate Carre)",this.rc=Math.cos(this.lat_ts)}function sl(t){var e=t.x,n=t.y,i=Ys(e-this.long0),r=Fu(n-this.lat0);return t.x=this.x0+this.a*i*this.rc,t.y=this.y0+this.a*r,t}function al(t){var e=t.x,n=t.y;return t.x=Ys(this.long0+(e-this.x0)/(this.a*this.rc)),t.y=Fu(this.lat0+(n-this.y0)/this.a),t}function ul(){this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Au(this.es),this.e1=Ru(this.es),this.e2=Iu(this.es),this.e3=ku(this.es),this.ml0=this.a*Ou(this.e0,this.e1,this.e2,this.e3,this.lat0)}function ll(t){var e,n,i,r=t.x,o=t.y,s=Ys(r-this.long0);if(i=s*Math.sin(o),this.sphere)Math.abs(o)<=$g?(e=this.a*s,n=-1*this.a*this.lat0):(e=this.a*Math.sin(i)/Math.tan(o),n=this.a*(Fu(o-this.lat0)+(1-Math.cos(i))/Math.tan(o)));else if(Math.abs(o)<=$g)e=this.a*s,n=-1*this.ml0;else{var a=Nu(this.a,this.e,Math.sin(o))/Math.tan(o);e=a*Math.sin(i),n=this.a*Ou(this.e0,this.e1,this.e2,this.e3,o)-this.ml0+a*(1-Math.cos(i))}return t.x=e+this.x0,t.y=n+this.y0,t}function hl(t){var e,n,i,r,o,s,a,u,l;if(i=t.x-this.x0,r=t.y-this.y0,this.sphere)if(Math.abs(r+this.a*this.lat0)<=$g)e=Ys(i/this.a+this.long0),n=0;else{s=this.lat0+r/this.a,a=i*i/this.a/this.a+s*s,u=s;var h;for(o=F_;o;--o)if(h=Math.tan(u),l=-1*(s*(u*h+1)-u-.5*(u*u+a)*h)/((u-s)/h-1),u+=l,Math.abs(l)<=$g){n=u;break}e=Ys(this.long0+Math.asin(i*Math.tan(u)/this.a)/Math.sin(n))}else if(Math.abs(r+this.ml0)<=$g)n=0,e=Ys(this.long0+i/this.a);else{s=(this.ml0+r)/this.a,a=i*i/this.a/this.a+s*s,u=s;var c,p,f,d,m;for(o=F_;o;--o)if(m=this.e*Math.sin(u),c=Math.sqrt(1-m*m)*Math.tan(u),p=this.a*Ou(this.e0,this.e1,this.e2,this.e3,u),f=this.e0-2*this.e1*Math.cos(2*u)+4*this.e2*Math.cos(4*u)-6*this.e3*Math.cos(6*u),d=p/this.a,l=(s*(c*d+1)-d-.5*c*(d*d+a))/(this.es*Math.sin(2*u)*(d*d+a-2*s*d)/(4*c)+(s-d)*(c*f-2/Math.sin(2*u))-f),u-=l,Math.abs(l)<=$g){n=u;break}c=Math.sqrt(1-this.es*Math.pow(Math.sin(n),2))*Math.tan(n),e=Ys(this.long0+Math.asin(i*c/this.a)/Math.sin(n))}return t.x=e,t.y=n,t}function cl(){this.A=[],this.A[1]=.6399175073,this.A[2]=-.1358797613,this.A[3]=.063294409,this.A[4]=-.02526853,this.A[5]=.0117879,this.A[6]=-.0055161,this.A[7]=.0026906,this.A[8]=-.001333,this.A[9]=67e-5,this.A[10]=-34e-5,this.B_re=[],this.B_im=[],this.B_re[1]=.7557853228,this.B_im[1]=0,this.B_re[2]=.249204646,this.B_im[2]=.003371507,this.B_re[3]=-.001541739,this.B_im[3]=.04105856,this.B_re[4]=-.10162907,this.B_im[4]=.01727609,this.B_re[5]=-.26623489,this.B_im[5]=-.36249218,this.B_re[6]=-.6870983,this.B_im[6]=-1.1651967,this.C_re=[],this.C_im=[],this.C_re[1]=1.3231270439,this.C_im[1]=0,this.C_re[2]=-.577245789,this.C_im[2]=-.007809598,this.C_re[3]=.508307513,this.C_im[3]=-.112208952,this.C_re[4]=-.15094762,this.C_im[4]=.18200602,this.C_re[5]=1.01418179,this.C_im[5]=1.64497696,this.C_re[6]=1.9660549,this.C_im[6]=2.5127645,this.D=[],this.D[1]=1.5627014243,this.D[2]=.5185406398,this.D[3]=-.03333098,this.D[4]=-.1052906,this.D[5]=-.0368594,this.D[6]=.007317,this.D[7]=.0122,this.D[8]=.00394,this.D[9]=-.0013}function pl(t){var e,n=t.x,i=t.y,r=i-this.lat0,o=n-this.long0,s=r/Yg*1e-5,a=o,u=1,l=0;for(e=1;e<=10;e++)u*=s,l+=this.A[e]*u;var h,c,p=l,f=a,d=1,m=0,g=0,y=0;for(e=1;e<=6;e++)h=d*p-m*f,c=m*p+d*f,d=h,m=c,g=g+this.B_re[e]*d-this.B_im[e]*m,y=y+this.B_im[e]*d+this.B_re[e]*m;return t.x=y*this.a+this.x0,t.y=g*this.a+this.y0,t}function fl(t){var e,n,i,r=t.x,o=t.y,s=r-this.x0,a=o-this.y0,u=a/this.a,l=s/this.a,h=1,c=0,p=0,f=0;for(e=1;e<=6;e++)n=h*u-c*l,i=c*u+h*l,h=n,c=i,p=p+this.C_re[e]*h-this.C_im[e]*c,f=f+this.C_im[e]*h+this.C_re[e]*c;for(var d=0;d<this.iterations;d++){var m,g,y=p,_=f,v=u,b=l;for(e=2;e<=6;e++)m=y*p-_*f,g=_*p+y*f,y=m,_=g,v+=(e-1)*(this.B_re[e]*y-this.B_im[e]*_),b+=(e-1)*(this.B_im[e]*y+this.B_re[e]*_);y=1,_=0;var x=this.B_re[1],w=this.B_im[1];for(e=2;e<=6;e++)m=y*p-_*f,g=_*p+y*f,y=m,_=g,x+=e*(this.B_re[e]*y-this.B_im[e]*_),w+=e*(this.B_im[e]*y+this.B_re[e]*_);var E=x*x+w*w;p=(v*x+b*w)/E,f=(b*x-v*w)/E}var S=p,T=f,C=1,M=0;for(e=1;e<=9;e++)C*=S,M+=this.D[e]*C;var L=this.lat0+M*Yg*1e5,P=this.long0+T;return t.x=P,t.y=L,t}function dl(){}function ml(t){var e=t.x,n=t.y,i=Ys(e-this.long0),r=this.x0+this.a*i,o=this.y0+this.a*Math.log(Math.tan(Math.PI/4+n/2.5))*1.25;return t.x=r,t.y=o,t}function gl(t){t.x-=this.x0,t.y-=this.y0;var e=Ys(this.long0+t.x/this.a),n=2.5*(Math.atan(Math.exp(.8*t.y/this.a))-Math.PI/4);return t.x=e,t.y=n,t}function yl(){this.sphere?(this.n=1,this.m=0,this.es=0,this.C_y=Math.sqrt((this.m+1)/this.n),this.C_x=this.C_y/(this.m+1)):this.en=Ba(this.es)}function _l(t){var e,n,i=t.x,r=t.y;if(i=Ys(i-this.long0),this.sphere){if(this.m)for(var o=this.n*Math.sin(r),s=Z_;s;--s){var a=(this.m*r+Math.sin(r)-o)/(this.m+Math.cos(r));if(r-=a,Math.abs(a)<$g)break}else r=1!==this.n?Math.asin(this.n*Math.sin(r)):r;e=this.a*this.C_x*i*(this.m+Math.cos(r)),n=this.a*this.C_y*r}else{var u=Math.sin(r),l=Math.cos(r);n=this.a*Za(r,u,l,this.en),e=this.a*i*l/Math.sqrt(1-this.es*u*u)}return t.x=e,t.y=n,t}function vl(t){var e,n,i,r;return t.x-=this.x0,i=t.x/this.a,t.y-=this.y0,e=t.y/this.a,this.sphere?(e/=this.C_y,i/=this.C_x*(this.m+Math.cos(e)),this.m?e=Hu((this.m*e+Math.sin(e))/this.n):1!==this.n&&(e=Hu(Math.sin(e)/this.n)),i=Ys(i+this.long0),e=Fu(e)):(e=Wa(t.y/this.a,this.es,this.en),r=Math.abs(e),r<qg?(r=Math.sin(e),n=this.long0+t.x*Math.sqrt(1-this.es*r*r)/(this.a*Math.cos(e)),i=Ys(n)):r-$g<qg&&(i=this.long0)),t.x=i,t.y=e,t}function bl(){}function xl(t){for(var e=t.x,n=t.y,i=Ys(e-this.long0),r=n,o=Math.PI*Math.sin(n);;){var s=-(r+Math.sin(r)-o)/(1+Math.cos(r));if(r+=s,Math.abs(s)<$g)break}r/=2,Math.PI/2-Math.abs(n)<$g&&(i=0);var a=.900316316158*this.a*i*Math.cos(r)+this.x0,u=1.4142135623731*this.a*Math.sin(r)+this.y0;return t.x=a,t.y=u,t}function wl(t){var e,n;t.x-=this.x0,t.y-=this.y0,n=t.y/(1.4142135623731*this.a),Math.abs(n)>.999999999999&&(n=.999999999999),e=Math.asin(n);var i=Ys(this.long0+t.x/(.900316316158*this.a*Math.cos(e)));i<-Math.PI&&(i=-Math.PI),i>Math.PI&&(i=Math.PI),n=(2*e+Math.sin(2*e))/Math.PI,Math.abs(n)>1&&(n=1);var r=Math.asin(n);return t.x=i,t.y=r,t}function El(){Math.abs(this.lat1+this.lat2)<$g||(this.lat2=this.lat2||this.lat1,this.temp=this.b/this.a,this.es=1-Math.pow(this.temp,2),this.e=Math.sqrt(this.es),this.e0=Au(this.es),this.e1=Ru(this.es),this.e2=Iu(this.es),this.e3=ku(this.es),this.sinphi=Math.sin(this.lat1),this.cosphi=Math.cos(this.lat1),this.ms1=Vs(this.e,this.sinphi,this.cosphi),this.ml1=Ou(this.e0,this.e1,this.e2,this.e3,this.lat1),Math.abs(this.lat1-this.lat2)<$g?this.ns=this.sinphi:(this.sinphi=Math.sin(this.lat2),this.cosphi=Math.cos(this.lat2),this.ms2=Vs(this.e,this.sinphi,this.cosphi),this.ml2=Ou(this.e0,this.e1,this.e2,this.e3,this.lat2),this.ns=(this.ms1-this.ms2)/(this.ml2-this.ml1)),this.g=this.ml1+this.ms1/this.ns,this.ml0=Ou(this.e0,this.e1,this.e2,this.e3,this.lat0),this.rh=this.a*(this.g-this.ml0))}function Sl(t){var e,n=t.x,i=t.y;if(this.sphere)e=this.a*(this.g-i);else{var r=Ou(this.e0,this.e1,this.e2,this.e3,i);e=this.a*(this.g-r)}var o=this.ns*Ys(n-this.long0),s=this.x0+e*Math.sin(o),a=this.y0+this.rh-e*Math.cos(o);return t.x=s,t.y=a,t}function Tl(t){t.x-=this.x0,t.y=this.rh-t.y+this.y0;var e,n,i,r;this.ns>=0?(n=Math.sqrt(t.x*t.x+t.y*t.y),e=1):(n=-Math.sqrt(t.x*t.x+t.y*t.y),e=-1);var o=0;return 0!==n&&(o=Math.atan2(e*t.x,e*t.y)),this.sphere?(r=Ys(this.long0+o/this.ns),i=Fu(this.g-n/this.a),t.x=r,t.y=i,t):(i=ju(this.g-n/this.a,this.e0,this.e1,this.e2,this.e3),r=Ys(this.long0+o/this.ns),t.x=r,t.y=i,t)}function Cl(){this.R=this.a}function Ml(t){var e,n,i=t.x,r=t.y,o=Ys(i-this.long0);Math.abs(r)<=$g&&(e=this.x0+this.R*o,n=this.y0);var s=Hu(2*Math.abs(r/Math.PI));(Math.abs(o)<=$g||Math.abs(Math.abs(r)-qg)<=$g)&&(e=this.x0,n=r>=0?this.y0+Math.PI*this.R*Math.tan(.5*s):this.y0+Math.PI*this.R*-Math.tan(.5*s));var a=.5*Math.abs(Math.PI/o-o/Math.PI),u=a*a,l=Math.sin(s),h=Math.cos(s),c=h/(l+h-1),p=c*c,f=c*(2/l-1),d=f*f,m=Math.PI*this.R*(a*(c-d)+Math.sqrt(u*(c-d)*(c-d)-(d+u)*(p-d)))/(d+u);o<0&&(m=-m),e=this.x0+m;var g=u+c;return m=Math.PI*this.R*(f*g-a*Math.sqrt((d+u)*(u+1)-g*g))/(d+u),n=r>=0?this.y0+m:this.y0-m,t.x=e,t.y=n,t}function Ll(t){var e,n,i,r,o,s,a,u,l,h,c,p,f;return t.x-=this.x0,t.y-=this.y0,c=Math.PI*this.R,i=t.x/c,r=t.y/c,o=i*i+r*r,s=-Math.abs(r)*(1+o),a=s-2*r*r+i*i,u=-2*s+1+2*r*r+o*o,f=r*r/u+(2*a*a*a/u/u/u-9*s*a/u/u)/27,l=(s-a*a/3/u)/u,h=2*Math.sqrt(-l/3),c=3*f/l/h,Math.abs(c)>1&&(c=c>=0?1:-1),p=Math.acos(c)/3,n=t.y>=0?(-h*Math.cos(p+Math.PI/3)-a/3/u)*Math.PI:-(-h*Math.cos(p+Math.PI/3)-a/3/u)*Math.PI,e=Math.abs(i)<$g?this.long0:Ys(this.long0+Math.PI*(o-1+Math.sqrt(1+2*(i*i-r*r)+o*o))/2/i),t.x=e,t.y=n,t}function Pl(){this.sin_p12=Math.sin(this.lat0),this.cos_p12=Math.cos(this.lat0)}function Ol(t){var e,n,i,r,o,s,a,u,l,h,c,p,f,d,m,g,y,_,v,b,x,w,E,S=t.x,T=t.y,C=Math.sin(t.y),M=Math.cos(t.y),L=Ys(S-this.long0);return this.sphere?Math.abs(this.sin_p12-1)<=$g?(t.x=this.x0+this.a*(qg-T)*Math.sin(L),t.y=this.y0-this.a*(qg-T)*Math.cos(L),t):Math.abs(this.sin_p12+1)<=$g?(t.x=this.x0+this.a*(qg+T)*Math.sin(L),t.y=this.y0+this.a*(qg+T)*Math.cos(L),t):(_=this.sin_p12*C+this.cos_p12*M*Math.cos(L),g=Math.acos(_),y=g/Math.sin(g),t.x=this.x0+this.a*y*M*Math.sin(L),t.y=this.y0+this.a*y*(this.cos_p12*C-this.sin_p12*M*Math.cos(L)),t):(e=Au(this.es),n=Ru(this.es),i=Iu(this.es),r=ku(this.es),Math.abs(this.sin_p12-1)<=$g?(o=this.a*Ou(e,n,i,r,qg),s=this.a*Ou(e,n,i,r,T),t.x=this.x0+(o-s)*Math.sin(L),t.y=this.y0-(o-s)*Math.cos(L),t):Math.abs(this.sin_p12+1)<=$g?(o=this.a*Ou(e,n,i,r,qg),s=this.a*Ou(e,n,i,r,T),t.x=this.x0+(o+s)*Math.sin(L),t.y=this.y0+(o+s)*Math.cos(L),t):(a=C/M,u=Nu(this.a,this.e,this.sin_p12),l=Nu(this.a,this.e,C),h=Math.atan((1-this.es)*a+this.es*u*this.sin_p12/(l*M)),c=Math.atan2(Math.sin(L),this.cos_p12*Math.tan(h)-this.sin_p12*Math.cos(L)),v=0===c?Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.abs(Math.abs(c)-Math.PI)<=$g?-Math.asin(this.cos_p12*Math.sin(h)-this.sin_p12*Math.cos(h)):Math.asin(Math.sin(L)*Math.cos(h)/Math.sin(c)),p=this.e*this.sin_p12/Math.sqrt(1-this.es),f=this.e*this.cos_p12*Math.cos(c)/Math.sqrt(1-this.es),d=p*f,m=f*f,b=v*v,x=b*v,w=x*v,E=w*v,g=u*v*(1-b*m*(1-m)/6+x/8*d*(1-2*m)+w/120*(m*(4-7*m)-3*p*p*(1-7*m))-E/48*d),t.x=this.x0+g*Math.sin(c),t.y=this.y0+g*Math.cos(c),t))}function Al(t){t.x-=this.x0,t.y-=this.y0;var e,n,i,r,o,s,a,u,l,h,c,p,f,d,m,g,y,_,v,b,x,w,E;if(this.sphere){if((e=Math.sqrt(t.x*t.x+t.y*t.y))>2*qg*this.a)return;return n=e/this.a,i=Math.sin(n),r=Math.cos(n),o=this.long0,Math.abs(e)<=$g?s=this.lat0:(s=Hu(r*this.sin_p12+t.y*i*this.cos_p12/e),a=Math.abs(this.lat0)-qg,o=Ys(Math.abs(a)<=$g?this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y):this.long0+Math.atan2(t.x*i,e*this.cos_p12*r-t.y*this.sin_p12*i))),t.x=o,t.y=s,t}return u=Au(this.es),l=Ru(this.es),h=Iu(this.es),c=ku(this.es),Math.abs(this.sin_p12-1)<=$g?(p=this.a*Ou(u,l,h,c,qg),e=Math.sqrt(t.x*t.x+t.y*t.y),f=p-e,s=ju(f/this.a,u,l,h,c),o=Ys(this.long0+Math.atan2(t.x,-1*t.y)),t.x=o,t.y=s,t):Math.abs(this.sin_p12+1)<=$g?(p=this.a*Ou(u,l,h,c,qg),e=Math.sqrt(t.x*t.x+t.y*t.y),f=e-p,s=ju(f/this.a,u,l,h,c),o=Ys(this.long0+Math.atan2(t.x,t.y)),t.x=o,t.y=s,t):(e=Math.sqrt(t.x*t.x+t.y*t.y),g=Math.atan2(t.x,t.y),d=Nu(this.a,this.e,this.sin_p12),y=Math.cos(g),_=this.e*this.cos_p12*y,v=-_*_/(1-this.es),b=3*this.es*(1-v)*this.sin_p12*this.cos_p12*y/(1-this.es),x=e/d,w=x-v*(1+v)*Math.pow(x,3)/6-b*(1+3*v)*Math.pow(x,4)/24,E=1-v*w*w/2-x*w*w*w/6,m=Math.asin(this.sin_p12*Math.cos(w)+this.cos_p12*Math.sin(w)*y),o=Ys(this.long0+Math.asin(Math.sin(g)*Math.sin(w)/Math.cos(m))),s=Math.atan((1-this.es*E*this.sin_p12/Math.sin(m))*Math.tan(m)/(1-this.es)),t.x=o,t.y=s,t)}function Rl(){this.sin_p14=Math.sin(this.lat0),this.cos_p14=Math.cos(this.lat0)}function Il(t){var e,n,i,r,o,s,a,u,l=t.x,h=t.y;return i=Ys(l-this.long0),e=Math.sin(h),n=Math.cos(h),r=Math.cos(i),s=this.sin_p14*e+this.cos_p14*n*r,o=1,(s>0||Math.abs(s)<=$g)&&(a=this.a*o*n*Math.sin(i),u=this.y0+this.a*o*(this.cos_p14*e-this.sin_p14*n*r)),t.x=a,t.y=u,t}function kl(t){var e,n,i,r,o,s,a;return t.x-=this.x0,t.y-=this.y0,e=Math.sqrt(t.x*t.x+t.y*t.y),n=Hu(e/this.a),i=Math.sin(n),r=Math.cos(n),s=this.long0,Math.abs(e)<=$g?(a=this.lat0,t.x=s,t.y=a,t):(a=Hu(r*this.sin_p14+t.y*i*this.cos_p14/e),o=Math.abs(this.lat0)-qg,Math.abs(o)<=$g?(s=Ys(this.lat0>=0?this.long0+Math.atan2(t.x,-t.y):this.long0-Math.atan2(-t.x,t.y)),t.x=s,t.y=a,t):(s=Ys(this.long0+Math.atan2(t.x*i,e*this.cos_p14*r-t.y*this.sin_p14*i)),t.x=s,t.y=a,t))}function Nl(){this.x0=this.x0||0,this.y0=this.y0||0,this.lat0=this.lat0||0,this.long0=this.long0||0,this.lat_ts=this.lat_ts||0,this.title=this.title||"Quadrilateralized Spherical Cube",this.lat0>=qg-ny/2?this.face=nv.TOP:this.lat0<=-(qg-ny/2)?this.face=nv.BOTTOM:Math.abs(this.long0)<=ny?this.face=nv.FRONT:Math.abs(this.long0)<=qg+ny?this.face=this.long0>0?nv.RIGHT:nv.LEFT:this.face=nv.BACK,0!==this.es&&(this.one_minus_f=1-(this.a-this.b)/this.a,this.one_minus_f_squared=this.one_minus_f*this.one_minus_f)}function Fl(t){var e,n,i,r,o,s,a={x:0,y:0},u={value:0};if(t.x-=this.long0,e=0!==this.es?Math.atan(this.one_minus_f_squared*Math.tan(t.y)):t.y,n=t.x,this.face===nv.TOP)r=qg-e,n>=ny&&n<=qg+ny?(u.value=iv.AREA_0,i=n-qg):n>qg+ny||n<=-(qg+ny)?(u.value=iv.AREA_1,i=n>0?n-ry:n+ry):n>-(qg+ny)&&n<=-ny?(u.value=iv.AREA_2,i=n+qg):(u.value=iv.AREA_3,i=n);else if(this.face===nv.BOTTOM)r=qg+e,n>=ny&&n<=qg+ny?(u.value=iv.AREA_0,i=-n+qg):n<ny&&n>=-ny?(u.value=iv.AREA_1,i=-n):n<-ny&&n>=-(qg+ny)?(u.value=iv.AREA_2,i=-n-qg):(u.value=iv.AREA_3,i=n>0?-n+ry:-n-ry);else{var l,h,c,p,f,d,m;this.face===nv.RIGHT?n=Gl(n,+qg):this.face===nv.BACK?n=Gl(n,+ry):this.face===nv.LEFT&&(n=Gl(n,-qg)),p=Math.sin(e),f=Math.cos(e),d=Math.sin(n),m=Math.cos(n),l=f*m,h=f*d,c=p,this.face===nv.FRONT?(r=Math.acos(l),i=Dl(r,c,h,u)):this.face===nv.RIGHT?(r=Math.acos(h),i=Dl(r,c,-l,u)):this.face===nv.BACK?(r=Math.acos(-l),i=Dl(r,c,-h,u)):this.face===nv.LEFT?(r=Math.acos(-h),i=Dl(r,c,l,u)):(r=i=0,u.value=iv.AREA_0)}return s=Math.atan(12/ry*(i+Math.acos(Math.sin(i)*Math.cos(ny))-qg)),o=Math.sqrt((1-Math.cos(r))/(Math.cos(s)*Math.cos(s))/(1-Math.cos(Math.atan(1/Math.cos(i))))),u.value===iv.AREA_1?s+=qg:u.value===iv.AREA_2?s+=ry:u.value===iv.AREA_3&&(s+=1.5*ry),a.x=o*Math.cos(s),a.y=o*Math.sin(s),a.x=a.x*this.a+this.x0,a.y=a.y*this.a+this.y0,t.x=a.x,t.y=a.y,t}function jl(t){var e,n,i,r,o,s,a,u,l,h={lam:0,phi:0},c={value:0};if(t.x=(t.x-this.x0)/this.a,t.y=(t.y-this.y0)/this.a,n=Math.atan(Math.sqrt(t.x*t.x+t.y*t.y)),e=Math.atan2(t.y,t.x),t.x>=0&&t.x>=Math.abs(t.y)?c.value=iv.AREA_0:t.y>=0&&t.y>=Math.abs(t.x)?(c.value=iv.AREA_1,e-=qg):t.x<0&&-t.x>=Math.abs(t.y)?(c.value=iv.AREA_2,e=e<0?e+ry:e-ry):(c.value=iv.AREA_3,e+=qg),l=ry/12*Math.tan(e),o=Math.sin(l)/(Math.cos(l)-1/Math.sqrt(2)),s=Math.atan(o),i=Math.cos(e),r=Math.tan(n),a=1-i*i*r*r*(1-Math.cos(Math.atan(1/Math.cos(s)))),a<-1?a=-1:a>1&&(a=1),this.face===nv.TOP)u=Math.acos(a),h.phi=qg-u,c.value===iv.AREA_0?h.lam=s+qg:c.value===iv.AREA_1?h.lam=s<0?s+ry:s-ry:c.value===iv.AREA_2?h.lam=s-qg:h.lam=s;else if(this.face===nv.BOTTOM)u=Math.acos(a),h.phi=u-qg,c.value===iv.AREA_0?h.lam=-s+qg:c.value===iv.AREA_1?h.lam=-s:c.value===iv.AREA_2?h.lam=-s-qg:h.lam=s<0?-s-ry:-s+ry;else{var p,f,d;p=a,l=p*p,d=l>=1?0:Math.sqrt(1-l)*Math.sin(s),l+=d*d,f=l>=1?0:Math.sqrt(1-l),c.value===iv.AREA_1?(l=f,f=-d,d=l):c.value===iv.AREA_2?(f=-f,d=-d):c.value===iv.AREA_3&&(l=f,f=d,d=-l),this.face===nv.RIGHT?(l=p,p=-f,f=l):this.face===nv.BACK?(p=-p,f=-f):this.face===nv.LEFT&&(l=p,p=f,f=-l),h.phi=Math.acos(-d)-qg,h.lam=Math.atan2(f,p),this.face===nv.RIGHT?h.lam=Gl(h.lam,-qg):this.face===nv.BACK?h.lam=Gl(h.lam,-ry):this.face===nv.LEFT&&(h.lam=Gl(h.lam,+qg))}if(0!==this.es){var m,g,y;m=h.phi<0?1:0,g=Math.tan(h.phi),y=this.b/Math.sqrt(g*g+this.one_minus_f_squared),h.phi=Math.atan(Math.sqrt(this.a*this.a-y*y)/(this.one_minus_f*y)),m&&(h.phi=-h.phi)}return h.lam+=this.long0,t.x=h.lam,t.y=h.phi,t}function Dl(t,e,n,i){var r;return t<$g?(i.value=iv.AREA_0,r=0):(r=Math.atan2(e,n),Math.abs(r)<=ny?i.value=iv.AREA_0:r>ny&&r<=qg+ny?(i.value=iv.AREA_1,r-=qg):r>qg+ny||r<=-(qg+ny)?(i.value=iv.AREA_2,r=r>=0?r-ry:r+ry):(i.value=iv.AREA_3,r+=qg)),r}function Gl(t,e){var n=t+e;return n<-ry?n+=iy:n>+ry&&(n-=iy),n}function zl(t,e,n,i){for(var r=e;i;--i){var o=t(r);if(r-=o,Math.abs(o)<n)break}return r}function Ul(){this.x0=this.x0||0,this.y0=this.y0||0,this.long0=this.long0||0,this.es=0,this.title=this.title||"Robinson"}function Bl(t){var e=Ys(t.x-this.long0),n=Math.abs(t.y),i=Math.floor(n*hv);i<0?i=0:i>=pv&&(i=pv-1),n=ey*(n-cv*i);var r={x:fv(sv[i],n)*e,y:fv(av[i],n)};return t.y<0&&(r.y=-r.y),r.x=r.x*this.a*uv+this.x0,r.y=r.y*this.a*lv+this.y0,r}function Zl(t){var e={x:(t.x-this.x0)/(this.a*uv),y:Math.abs(t.y-this.y0)/(this.a*lv)};if(e.y>=1)e.x/=sv[pv][0],e.y=t.y<0?-qg:qg;else{var n=Math.floor(e.y*pv);for(n<0?n=0:n>=pv&&(n=pv-1);;)if(av[n][0]>e.y)--n;else{if(!(av[n+1][0]<=e.y))break;++n}var i=av[n],r=5*(e.y-i[0])/(av[n+1][0]-i[0]);r=zl(function(t){return(fv(i,t)-e.y)/dv(i,t)},r,$g,100),e.x/=fv(sv[n],r),e.y=(5*n+r)*ty,t.y<0&&(e.y=-e.y)}return e.x=Ys(e.x+this.long0),e}var Wl=n(105),Xl=n.n(Wl),Vl=n(108),Hl=n(138),Yl=n(221),ql=n.n(Yl),Kl=n(224),Jl=n(227),Ql=n.n(Jl);i('.ol-box {\n  box-sizing: border-box;\n  border-radius: 2px;\n  border: 2px solid blue;\n}\n\n.ol-mouse-position {\n  top: 8px;\n  right: 8px;\n  position: absolute;\n}\n\n.ol-scale-line {\n  background: rgba(0,60,136,0.3);\n  border-radius: 4px;\n  bottom: 8px;\n  left: 8px;\n  padding: 2px;\n  position: absolute;\n}\n.ol-scale-line-inner {\n  border: 1px solid #eee;\n  border-top: none;\n  color: #eee;\n  font-size: 10px;\n  text-align: center;\n  margin: 1px;\n  will-change: contents, width;\n}\n.ol-overlay-container {\n  will-change: left,right,top,bottom;\n}\n\n.ol-unsupported {\n  display: none;\n}\n.ol-viewport, .ol-unselectable {\n  -webkit-touch-callout: none;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n.ol-selectable {\n  -webkit-touch-callout: default;\n  -webkit-user-select: text;\n  -moz-user-select: text;\n  -ms-user-select: text;\n  user-select: text;\n}\n.ol-grabbing {\n  cursor: -webkit-grabbing;\n  cursor: -moz-grabbing;\n  cursor: grabbing;\n}\n.ol-grab {\n  cursor: move;\n  cursor: -webkit-grab;\n  cursor: -moz-grab;\n  cursor: grab;\n}\n.ol-control {\n  position: absolute;\n  background-color: rgba(255,255,255,0.4);\n  border-radius: 4px;\n  padding: 2px;\n}\n.ol-control:hover {\n  background-color: rgba(255,255,255,0.6);\n}\n.ol-zoom {\n  top: .5em;\n  left: .5em;\n}\n.ol-rotate {\n  top: .5em;\n  right: .5em;\n  transition: opacity .25s linear, visibility 0s linear;\n}\n.ol-rotate.ol-hidden {\n  opacity: 0;\n  visibility: hidden;\n  transition: opacity .25s linear, visibility 0s linear .25s;\n}\n.ol-zoom-extent {\n  top: 4.643em;\n  left: .5em;\n}\n.ol-full-screen {\n  right: .5em;\n  top: .5em;\n}\n@media print {\n  .ol-control {\n    display: none;\n  }\n}\n\n.ol-control button {\n  display: block;\n  margin: 1px;\n  padding: 0;\n  color: white;\n  font-size: 1.14em;\n  font-weight: bold;\n  text-decoration: none;\n  text-align: center;\n  height: 1.375em;\n  width: 1.375em;\n  line-height: .4em;\n  background-color: rgba(0,60,136,0.5);\n  border: none;\n  border-radius: 2px;\n}\n.ol-control button::-moz-focus-inner {\n  border: none;\n  padding: 0;\n}\n.ol-zoom-extent button {\n  line-height: 1.4em;\n}\n.ol-compass {\n  display: block;\n  font-weight: normal;\n  font-size: 1.2em;\n  will-change: transform;\n}\n.ol-touch .ol-control button {\n  font-size: 1.5em;\n}\n.ol-touch .ol-zoom-extent {\n  top: 5.5em;\n}\n.ol-control button:hover,\n.ol-control button:focus {\n  text-decoration: none;\n  background-color: rgba(0,60,136,0.7);\n}\n.ol-zoom .ol-zoom-in {\n  border-radius: 2px 2px 0 0;\n}\n.ol-zoom .ol-zoom-out {\n  border-radius: 0 0 2px 2px;\n}\n\n\n.ol-attribution {\n  text-align: right;\n  bottom: .5em;\n  right: .5em;\n  max-width: calc(100% - 1.3em);\n}\n\n.ol-attribution ul {\n  margin: 0;\n  padding: 0 .5em;\n  font-size: .7rem;\n  line-height: 1.375em;\n  color: #000;\n  text-shadow: 0 0 2px #fff;\n}\n.ol-attribution li {\n  display: inline;\n  list-style: none;\n  line-height: inherit;\n}\n.ol-attribution li:not(:last-child):after {\n  content: " ";\n}\n.ol-attribution img {\n  max-height: 2em;\n  max-width: inherit;\n  vertical-align: middle;\n}\n.ol-attribution ul, .ol-attribution button {\n  display: inline-block;\n}\n.ol-attribution.ol-collapsed ul {\n  display: none;\n}\n.ol-attribution:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-attribution.ol-uncollapsible {\n  bottom: 0;\n  right: 0;\n  border-radius: 4px 0 0;\n  height: 1.1em;\n  line-height: 1em;\n}\n.ol-attribution.ol-uncollapsible img {\n  margin-top: -.2em;\n  max-height: 1.6em;\n}\n.ol-attribution.ol-uncollapsible button {\n  display: none;\n}\n\n.ol-zoomslider {\n  top: 4.5em;\n  left: .5em;\n  height: 200px;\n}\n.ol-zoomslider button {\n  position: relative;\n  height: 10px;\n}\n\n.ol-touch .ol-zoomslider {\n  top: 5.5em;\n}\n\n.ol-overviewmap {\n  left: 0.5em;\n  bottom: 0.5em;\n}\n.ol-overviewmap.ol-uncollapsible {\n  bottom: 0;\n  left: 0;\n  border-radius: 0 4px 0 0;\n}\n.ol-overviewmap .ol-overviewmap-map,\n.ol-overviewmap button {\n  display: inline-block;\n}\n.ol-overviewmap .ol-overviewmap-map {\n  border: 1px solid #7b98bc;\n  height: 150px;\n  margin: 2px;\n  width: 150px;\n}\n.ol-overviewmap:not(.ol-collapsed) button{\n  bottom: 1px;\n  left: 2px;\n  position: absolute;\n}\n.ol-overviewmap.ol-collapsed .ol-overviewmap-map,\n.ol-overviewmap.ol-uncollapsible button {\n  display: none;\n}\n.ol-overviewmap:not(.ol-collapsed) {\n  background: rgba(255,255,255,0.8);\n}\n.ol-overviewmap-box {\n  border: 2px dotted rgba(0,60,136,0.7);\n}\n\n.ol-overviewmap .ol-overviewmap-box:hover {\n  cursor: move;\n}\n');var $l="lamp",th="node",eh="nurse",nh="senior",ih="target",rh="supporter",oh="user",sh=window.location.protocol+"//t{0-7}.tianditu.com",ah=window.location.protocol+"//mapdev.reliablesense.cn/geoserver",uh={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"},lh="function"===typeof Object.assign?Object.assign:function(t,e){var n=arguments;if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),r=1,o=arguments.length;r<o;++r){var s=n[r];if(void 0!==s&&null!==s)for(var a in s)s.hasOwnProperty(a)&&(i[a]=s[a])}return i},hh={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"},ch=0,ph="5.3.1",fh={PROPERTYCHANGE:"propertychange"},dh=function(){this.disposed_=!1};dh.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},dh.prototype.disposeInternal=function(){};var mh=function(t){this.propagationStopped,this.type=t,this.target=null};mh.prototype.preventDefault=function(){this.propagationStopped=!0},mh.prototype.stopPropagation=function(){this.propagationStopped=!0};var gh=function(t){function e(){t.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addEventListener=function(t,e){var n=this.listeners_[t];n||(n=this.listeners_[t]=[]),-1===n.indexOf(e)&&n.push(e)},e.prototype.dispatchEvent=function(t){var e="string"===typeof t?new mh(t):t,n=e.type;e.target=this;var i,r=this.listeners_[n];if(r){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var o=0,s=r.length;o<s;++o)if(!1===r[o].call(this,e)||e.propagationStopped){i=!1;break}if(0===--this.dispatching_[n]){var a=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];a--;)this.removeEventListener(n,w);delete this.dispatching_[n]}return i}},e.prototype.disposeInternal=function(){y(this)},e.prototype.getListeners=function(t){return this.listeners_[t]},e.prototype.hasListener=function(t){return t?t in this.listeners_:Object.keys(this.listeners_).length>0},e.prototype.removeEventListener=function(t,e){var n=this.listeners_[t];if(n){var i=n.indexOf(e);t in this.pendingRemovals_?(n[i]=w,++this.pendingRemovals_[t]):(n.splice(i,1),0===n.length&&delete this.listeners_[t])}},e}(dh),yh=function(t){function e(){t.call(this),this.revision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){++this.revision_,this.dispatchEvent(hh.CHANGE)},e.prototype.getRevision=function(){return this.revision_},e.prototype.on=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=f(this,t[r],e);return i}return f(this,t,e)},e.prototype.once=function(t,e){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),r=0;r<n;++r)i[r]=d(this,t[r],e);return i}return d(this,t,e)},e.prototype.un=function(t,e){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)m(this,t[n],e);else m(this,t,e)},e}(gh),_h=function(t){function e(e,n,i){t.call(this,e),this.key=n,this.oldValue=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mh),vh=function(t){function e(e){t.call(this),v(this),this.values_={},void 0!==e&&this.setProperties(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},e.prototype.getKeys=function(){return Object.keys(this.values_)},e.prototype.getProperties=function(){return lh({},this.values_)},e.prototype.notify=function(t,e){var n;n=S(t),this.dispatchEvent(new _h(n,t,e)),n=fh.PROPERTYCHANGE,this.dispatchEvent(new _h(n,t,e))},e.prototype.set=function(t,e,n){if(n)this.values_[t]=e;else{var i=this.values_[t];this.values_[t]=e,i!==e&&this.notify(t,i)}},e.prototype.setProperties=function(t,e){for(var n in t)this.set(n,t[n],e)},e.prototype.unset=function(t,e){if(t in this.values_){var n=this.values_[t];delete this.values_[t],e||this.notify(t,n)}},e}(yh),bh={},xh={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"},wh=function(t){function e(e){var n="v"+ph.split("-")[0],i="Assertion failed. See https://openlayers.org/en/"+n+"/doc/errors/#"+e+" for details.";t.call(this,i),this.code=e,this.name="AssertionError",this.message=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error),Eh=function(){return"cosh"in Math?Math.cosh:function(t){var e=Math.exp(t);return(e+1/e)/2}}(),Sh=function(t){function e(e){t.call(this);var n=lh({},e);n[xh.OPACITY]=void 0!==e.opacity?e.opacity:1,n[xh.VISIBLE]=void 0===e.visible||e.visible,n[xh.Z_INDEX]=e.zIndex,n[xh.MAX_RESOLUTION]=void 0!==e.maxResolution?e.maxResolution:1/0,n[xh.MIN_RESOLUTION]=void 0!==e.minResolution?e.minResolution:0,this.setProperties(n),this.state_=null,this.type}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return this.type},e.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=C(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},e.prototype.getLayersArray=function(t){return _()},e.prototype.getLayerStatesArray=function(t){return _()},e.prototype.getExtent=function(){return this.get(xh.EXTENT)},e.prototype.getMaxResolution=function(){return this.get(xh.MAX_RESOLUTION)},e.prototype.getMinResolution=function(){return this.get(xh.MIN_RESOLUTION)},e.prototype.getOpacity=function(){return this.get(xh.OPACITY)},e.prototype.getSourceState=function(){return _()},e.prototype.getVisible=function(){return this.get(xh.VISIBLE)},e.prototype.getZIndex=function(){return this.get(xh.Z_INDEX)},e.prototype.setExtent=function(t){this.set(xh.EXTENT,t)},e.prototype.setMaxResolution=function(t){this.set(xh.MAX_RESOLUTION,t)},e.prototype.setMinResolution=function(t){this.set(xh.MIN_RESOLUTION,t)},e.prototype.setOpacity=function(t){this.set(xh.OPACITY,t)},e.prototype.setVisible=function(t){this.set(xh.VISIBLE,t)},e.prototype.setZIndex=function(t){this.set(xh.Z_INDEX,t)},e}(vh),Th={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"},Ch={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"},Mh=function(t){function e(e){var n=lh({},e);delete n.source,t.call(this,n),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,e.map&&this.setMap(e.map),f(this,S(xh.SOURCE),this.handleSourcePropertyChange_,this);var i=e.source?e.source:null;this.setSource(i)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayersArray=function(t){var e=t||[];return e.push(this),e},e.prototype.getLayerStatesArray=function(t){var e=t||[];return e.push(this.getLayerState()),e},e.prototype.getSource=function(){return this.get(xh.SOURCE)||null},e.prototype.getSourceState=function(){var t=this.getSource();return t?t.getState():Ch.UNDEFINED},e.prototype.handleSourceChange_=function(){this.changed()},e.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(g(this.sourceChangeKey_),this.sourceChangeKey_=null);var t=this.getSource();t&&(this.sourceChangeKey_=f(t,hh.CHANGE,this.handleSourceChange_,this)),this.changed()},e.prototype.setMap=function(t){this.mapPrecomposeKey_&&(g(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),t||this.changed(),this.mapRenderKey_&&(g(this.mapRenderKey_),this.mapRenderKey_=null),t&&(this.mapPrecomposeKey_=f(t,Th.PRECOMPOSE,function(t){var e=t,n=this.getLayerState();n.managed=!1,void 0===this.getZIndex()&&(n.zIndex=1/0),e.frameState.layerStatesArray.push(n),e.frameState.layerStates[v(this)]=n},this),this.mapRenderKey_=f(this,hh.CHANGE,t.render,t),this.changed())},e.prototype.setSource=function(t){this.set(xh.SOURCE,t)},e}(Sh),Lh=function(t){function e(e){var n=e||{};t.call(this,n),this.type=uh.IMAGE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Mh);Lh.prototype.getSource;var Ph="1.3.0",Oh=function(t){function e(e,n,i,r){t.call(this),this.extent=e,this.pixelRatio_=i,this.resolution=n,this.state=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(hh.CHANGE)},e.prototype.getExtent=function(){return this.extent},e.prototype.getImage=function(){return _()},e.prototype.getPixelRatio=function(){return this.pixelRatio_},e.prototype.getResolution=function(){return this.resolution},e.prototype.getState=function(){return this.state},e.prototype.load=function(){_()},e}(gh),Ah={IDLE:0,LOADING:1,LOADED:2,ERROR:3},Rh={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Ih={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16},kh=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,Ah.IDLE),this.src_=r,this.image_=new Image,null!==o&&(this.image_.crossOrigin=o),this.imageListenerKeys_=null,this.state=Ah.IDLE,this.imageLoadFunction_=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getImage=function(){return this.image_},e.prototype.handleImageError_=function(){this.state=Ah.ERROR,this.unlistenImage_(),this.changed()},e.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=lt(this.extent)/this.image_.height),this.state=Ah.LOADED,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state!=Ah.IDLE&&this.state!=Ah.ERROR||(this.state=Ah.LOADING,this.changed(),this.imageListenerKeys_=[d(this.image_,hh.ERROR,this.handleImageError_,this),d(this.image_,hh.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},e.prototype.setImage=function(t){this.image_=t},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(g),this.imageListenerKeys_=null},e}(Oh),Nh={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Fh=6371008.8,jh={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},Dh={};Dh[jh.DEGREES]=2*Math.PI*6370997/360,Dh[jh.FEET]=.3048,Dh[jh.METERS]=1,Dh[jh.USFEET]=1200/3937;var Gh=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};Gh.prototype.canWrapX=function(){return this.canWrapX_},Gh.prototype.getCode=function(){return this.code_},Gh.prototype.getExtent=function(){return this.extent_},Gh.prototype.getUnits=function(){return this.units_},Gh.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||Dh[this.units_]},Gh.prototype.getWorldExtent=function(){return this.worldExtent_},Gh.prototype.getAxisOrientation=function(){return this.axisOrientation_},Gh.prototype.isGlobal=function(){return this.global_},Gh.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},Gh.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},Gh.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},Gh.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},Gh.prototype.setWorldExtent=function(t){this.worldExtent_=t},Gh.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},Gh.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var zh=6378137,Uh=Math.PI*zh,Bh=[-Uh,-Uh,Uh,Uh],Zh=[-180,-85,180,85],Wh=function(t){function e(e){t.call(this,{code:e,units:jh.METERS,extent:Bh,global:!0,worldExtent:Zh,getPointResolution:function(t,e){return t/Eh(e[1]/zh)}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Gh),Xh=[new Wh("EPSG:3857"),new Wh("EPSG:102100"),new Wh("EPSG:102113"),new Wh("EPSG:900913"),new Wh("urn:ogc:def:crs:EPSG:6.18:3:3857"),new Wh("urn:ogc:def:crs:EPSG::3857"),new Wh("http://www.opengis.net/gml/srs/epsg.xml#3857")],Vh=[-180,-90,180,90],Hh=6378137*Math.PI/180,Yh=function(t){function e(e,n){t.call(this,{code:e,units:jh.DEGREES,extent:Vh,axisOrientation:n,global:!0,metersPerUnit:Hh,worldExtent:Vh})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Gh),qh=[new Yh("CRS:84"),new Yh("EPSG:4326","neu"),new Yh("urn:ogc:def:crs:EPSG::4326","neu"),new Yh("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Yh("urn:ogc:def:crs:OGC:1.3:CRS84"),new Yh("urn:ogc:def:crs:OGC:2:84"),new Yh("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Yh("urn:x-ogc:def:crs:EPSG:4326","neu")],Kh={},Jh={};!function(){It(Xh),It(qh),kt(qh,Xh,xt,wt)}();var Qh=.5,$h=function(t,e,n,i,r){this.sourceProj_=t,this.targetProj_=e;var o={},s=Dt(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=s(t)),o[e]},this.maxSourceExtent_=i,this.errorThresholdSquared_=r*r,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!i&&!!this.sourceProj_.getExtent()&&ft(i)==ft(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?ft(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?ft(this.targetProj_.getExtent()):null;var a=ct(n),u=pt(n),l=ot(n),h=rt(n),c=this.transformInv_(a),p=this.transformInv_(u),f=this.transformInv_(l),d=this.transformInv_(h);if(this.addQuad_(a,u,l,h,c,p,f,d,10),this.wrapsXInSource_){var m=1/0;this.triangles_.forEach(function(t,e,n){m=Math.min(m,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-m>this.sourceWorldWidth_/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-m>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-m>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-m>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);var n=Math.min(e[0][0],e[1][0],e[2][0]);Math.max(e[0][0],e[1][0],e[2][0])-n<this.sourceWorldWidth_/2&&(t.source=e)}}.bind(this))}o={}};$h.prototype.addTriangle_=function(t,e,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[t,e,n]})},$h.prototype.addQuad_=function(t,e,n,i,r,o,s,a,u){var l=N([r,o,s,a]),h=this.sourceWorldWidth_?ft(l)/this.sourceWorldWidth_:null,c=this.sourceWorldWidth_,p=this.sourceProj_.canWrapX()&&h>.5&&h<1,f=!1;if(u>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){f=ft(N([t,e,n,i]))/this.targetWorldWidth_>.25||f}!p&&this.sourceProj_.isGlobal()&&h&&(f=h>.25||f)}if(f||!this.maxSourceExtent_||dt(l,this.maxSourceExtent_)){if(!f&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(s[0])||!isFinite(s[1])||!isFinite(a[0])||!isFinite(a[1]))){if(!(u>0))return;f=!0}if(u>0){if(!f){var d,m=[(t[0]+n[0])/2,(t[1]+n[1])/2],g=this.transformInv_(m);if(p){d=(R(r[0],c)+R(s[0],c))/2-R(g[0],c)}else d=(r[0]+s[0])/2-g[0];var y=(r[1]+s[1])/2-g[1];f=d*d+y*y>this.errorThresholdSquared_}if(f){if(Math.abs(t[0]-n[0])<=Math.abs(t[1]-n[1])){var _=[(e[0]+n[0])/2,(e[1]+n[1])/2],v=this.transformInv_(_),b=[(i[0]+t[0])/2,(i[1]+t[1])/2],x=this.transformInv_(b);this.addQuad_(t,e,_,b,r,o,v,x,u-1),this.addQuad_(b,_,n,i,x,v,s,a,u-1)}else{var w=[(t[0]+e[0])/2,(t[1]+e[1])/2],E=this.transformInv_(w),S=[(n[0]+i[0])/2,(n[1]+i[1])/2],T=this.transformInv_(S);this.addQuad_(t,w,S,i,r,E,T,a,u-1),this.addQuad_(w,e,n,S,E,o,s,T,u-1)}return}}if(p){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(t,n,i,r,s,a),this.addTriangle_(t,e,n,r,o,s)}},$h.prototype.calculateSourceExtent=function(){var t=W();return this.triangles_.forEach(function(e,n,i){var r=e.source;Q(t,r[0]),Q(t,r[1]),Q(t,r[2])}),t},$h.prototype.getTriangles=function(){return this.triangles_};var tc=function(t){function e(e,n,i,r,o,s){var a=e.getExtent(),u=n.getExtent(),l=u?ht(i,u):i,h=st(l),c=Ht(e,n,h,r),p=Qh,f=new $h(e,n,l,a,c*p),d=f.calculateSourceExtent(),m=s(d,c,o),g=Ah.LOADED;m&&(g=Ah.IDLE);var y=m?m.getPixelRatio():1;t.call(this,i,r,y,g),this.targetProj_=n,this.maxSourceExtent_=a,this.triangulation_=f,this.targetResolution_=r,this.targetExtent_=i,this.sourceImage_=m,this.sourcePixelRatio_=y,this.canvas_=null,this.sourceListenerKey_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==Ah.LOADING&&this.unlistenSource_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.getProjection=function(){return this.targetProj_},e.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==Ah.LOADED){var e=ft(this.targetExtent_)/this.targetResolution_,n=lt(this.targetExtent_)/this.targetResolution_;this.canvas_=qt(e,n,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},e.prototype.load=function(){if(this.state==Ah.IDLE){this.state=Ah.LOADING,this.changed();var t=this.sourceImage_.getState();t==Ah.LOADED||t==Ah.ERROR?this.reproject_():(this.sourceListenerKey_=f(this.sourceImage_,hh.CHANGE,function(t){var e=this.sourceImage_.getState();e!=Ah.LOADED&&e!=Ah.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},e.prototype.unlistenSource_=function(){g(this.sourceListenerKey_),this.sourceListenerKey_=null},e}(Oh),ec=function(t){function e(e){t.call(this),this.projection_=At(e.projection),this.attributions_=se(e.attributions),this.attributionsCollapsible_=void 0===e.attributionsCollapsible||e.attributionsCollapsible,this.loading=!1,this.state_=void 0!==e.state?e.state:Ch.READY,this.wrapX_=void 0!==e.wrapX&&e.wrapX}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getAttributions=function(){return this.attributions_},e.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolutions=function(){return _()},e.prototype.getState=function(){return this.state_},e.prototype.getWrapX=function(){return this.wrapX_},e.prototype.refresh=function(){this.changed()},e.prototype.setAttributions=function(t){this.attributions_=se(t),this.changed()},e.prototype.setState=function(t){this.state_=t,this.changed()},e}(vh),nc={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},ic=function(t){function e(e,n){t.call(this,e),this.image=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mh),rc=function(t){function e(e){t.call(this,{attributions:e.attributions,projection:e.projection,state:e.state}),this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.findNearestResolution=function(t){if(this.resolutions_){var e=$t(this.resolutions_,t,0);t=this.resolutions_[e]}return t},e.prototype.getImage=function(t,e,n,i){var r=this.getProjection();if(r&&i&&!Ft(r,i)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&Ft(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==e&&K(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new tc(r,i,t,e,n,function(t,e,n){return this.getImageInternal(t,e,n,r)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return r&&(i=r),this.getImageInternal(t,e,n,i)},e.prototype.getImageInternal=function(t,e,n,i){return _()},e.prototype.handleImageChange=function(t){var e=t.target;switch(e.getState()){case Ah.LOADING:this.loading=!0,this.dispatchEvent(new ic(nc.IMAGELOADSTART,e));break;case Ah.LOADED:this.loading=!1,this.dispatchEvent(new ic(nc.IMAGELOADEND,e));break;case Ah.ERROR:this.loading=!1,this.dispatchEvent(new ic(nc.IMAGELOADERROR,e))}},e}(ec),oc={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"},sc=[101,101],ac=function(t){function e(e){var n=e||{};t.call(this,{attributions:n.attributions,projection:n.projection,resolutions:n.resolutions}),this.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null,this.url_=n.url,this.imageLoadFunction_=void 0!==n.imageLoadFunction?n.imageLoadFunction:ae,this.params_=n.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=n.serverType,this.hidpi_=void 0===n.hidpi||n.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==n.ratio?n.ratio:1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,n,i){if(void 0!==this.url_){var r=At(n),o=this.getProjection();o&&o!==r&&(e=Ht(o,r,t,e),t=Gt(t,r,o));var s=ut(t,e,0,sc),a={SERVICE:"WMS",VERSION:Ph,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};lh(a,this.params_,i);var u=Math.floor((t[0]-s[0])/e),l=Math.floor((s[3]-t[1])/e);return a[this.v13_?"I":"X"]=u,a[this.v13_?"J":"Y"]=l,this.getRequestUrl_(s,sc,1,o||r,a)}},e.prototype.getParams=function(){return this.params_},e.prototype.getImageInternal=function(t,e,n,i){if(void 0===this.url_)return null;e=this.findNearestResolution(e),1==n||this.hidpi_&&void 0!==this.serverType_||(n=1);var r=e/n,o=st(t),s=Math.ceil(ft(t)/r),a=Math.ceil(lt(t)/r),u=ut(o,r,0,[s,a]),l=Math.ceil(this.ratio_*ft(t)/r),h=Math.ceil(this.ratio_*lt(t)/r),c=ut(o,r,0,[l,h]),p=this.image_;if(p&&this.renderedRevision_==this.getRevision()&&p.getResolution()==e&&p.getPixelRatio()==n&&U(p.getExtent(),u))return p;var d={SERVICE:"WMS",VERSION:Ph,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};lh(d,this.params_),this.imageSize_[0]=Math.round(ft(c)/r),this.imageSize_[1]=Math.round(lt(c)/r);var m=this.getRequestUrl_(c,this.imageSize_,n,i,d);return this.image_=new kh(c,e,n,m,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),f(this.image_,hh.CHANGE,this.handleImageChange,this),this.image_},e.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},e.prototype.getRequestUrl_=function(t,e,n,i,r){if(T(void 0!==this.url_,9),r[this.v13_?"CRS":"SRS"]=i.getCode(),"STYLES"in this.params_||(r.STYLES=""),1!=n)switch(this.serverType_){case oc.GEOSERVER:var o=90*n+.5|0;"FORMAT_OPTIONS"in r?r.FORMAT_OPTIONS+=";dpi:"+o:r.FORMAT_OPTIONS="dpi:"+o;break;case oc.MAPSERVER:r.MAP_RESOLUTION=90*n;break;case oc.CARMENTA_SERVER:case oc.QGIS:r.DPI=90*n;break;default:T(!1,8)}r.WIDTH=e[0],r.HEIGHT=e[1];var s,a=i.getAxisOrientation();return s=this.v13_&&"ne"==a.substr(0,2)?[t[1],t[0],t[3],t[2]]:t,r.BBOX=s.join(","),le(this.url_,r)},e.prototype.getUrl=function(){return this.url_},e.prototype.setImageLoadFunction=function(t){this.image_=null,this.imageLoadFunction_=t,this.changed()},e.prototype.setUrl=function(t){t!=this.url_&&(this.url_=t,this.image_=null,this.changed())},e.prototype.updateParams=function(t){lh(this.params_,t),this.updateV13_(),this.image_=null,this.changed()},e.prototype.updateV13_=function(){var t=this.params_.VERSION||Ph;this.v13_=ue(t,"1.3")>=0},e}(rc),uc=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},lc=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),hc=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},cc=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},pc=function(t){function e(){return uc(this,e),cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){this.layer=new Lh,this.layer.setZIndex(0),this.context.map.addLayer(this.layer),this.loadPoi(this.props.map)}},{key:"shouldComponentUpdate",value:function(t){return null===t.map||(null===this.props.map||void 0===this.props.map)&&null!==t.map||null!==t.map&&t.map!==this.props.map}},{key:"componentWillUpdate",value:function(t){this.loadPoi(t.map)}},{key:"componentWillUnmount",value:function(){this.context.map.removeLayer(this.layer)}},{key:"loadPoi",value:function(t){var e=this;Object(Vl.c)(t).pipe(Object(Hl.h)(function(){return e.layer.setSource(null)}),Object(Hl.a)(function(t){return null!==t&&void 0!==t&&null!==t.poiLayerId&&void 0!==t.poiLayerId}),Object(Hl.h)(function(t){e.layer.setSource(new ac({url:ah+"/"+t.poiLayerId.split(":")[0]+"/wms",params:{FORMAT:"image/png",VERSION:"1.1.1",STYLES:"",LAYERS:t.poiLayerId},serverType:"geoserver"}))})).subscribe()}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);pc.defaultProps={map:null},pc.propTypes={map:ql.a.object},pc.contextTypes={map:ql.a.object};var fc={ADD:"add",REMOVE:"remove"},dc={LENGTH:"length"},mc=function(t){function e(e,n){t.call(this,e),this.element=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mh),gc=function(t){function e(e,n){t.call(this);var i=n||{};if(this.unique_=!!i.unique,this.array_=e||[],this.unique_)for(var r=0,o=this.array_.length;r<o;++r)this.assertUnique_(this.array_[r],r);this.updateLength_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},e.prototype.extend=function(t){for(var e=0,n=t.length;e<n;++e)this.push(t[e]);return this},e.prototype.forEach=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)t(e[n],n,e)},e.prototype.getArray=function(){return this.array_},e.prototype.item=function(t){return this.array_[t]},e.prototype.getLength=function(){return this.get(dc.LENGTH)},e.prototype.insertAt=function(t,e){this.unique_&&this.assertUnique_(e),this.array_.splice(t,0,e),this.updateLength_(),this.dispatchEvent(new mc(fc.ADD,e))},e.prototype.pop=function(){return this.removeAt(this.getLength()-1)},e.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},e.prototype.remove=function(t){for(var e=this.array_,n=0,i=e.length;n<i;++n)if(e[n]===t)return this.removeAt(n)},e.prototype.removeAt=function(t){var e=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new mc(fc.REMOVE,e)),e},e.prototype.setAt=function(t,e){var n=this.getLength();if(t<n){this.unique_&&this.assertUnique_(e,t);var i=this.array_[t];this.array_[t]=e,this.dispatchEvent(new mc(fc.REMOVE,i)),this.dispatchEvent(new mc(fc.ADD,e))}else{for(var r=n;r<t;++r)this.insertAt(r,void 0);this.insertAt(t,e)}},e.prototype.updateLength_=function(){this.set(dc.LENGTH,this.array_.length)},e.prototype.assertUnique_=function(t,e){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===t&&n!==e)throw new wh(58)},e}(vh),yc={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"},_c={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"},vc=("undefined"!==typeof window?window:"undefined"!==typeof t||"undefined"!==typeof self&&self,fe(function(t,e){!function(e,n){t.exports=function(){function t(t,n,r,o,s){e(t,n,r||0,o||t.length-1,s||i)}function e(t,i,r,o,s){for(;o>r;){if(o-r>600){var a=o-r+1,u=i-r+1,l=Math.log(a),h=.5*Math.exp(2*l/3),c=.5*Math.sqrt(l*h*(a-h)/a)*(u-a/2<0?-1:1);e(t,i,Math.max(r,Math.floor(i-u*h/a+c)),Math.min(o,Math.floor(i+(a-u)*h/a+c)),s)}var p=t[i],f=r,d=o;for(n(t,r,i),s(t[o],p)>0&&n(t,r,o);f<d;){for(n(t,f,d),f++,d--;s(t[f],p)<0;)f++;for(;s(t[d],p)>0;)d--}0===s(t[r],p)?n(t,r,d):(d++,n(t,d,o)),d<=i&&(r=d+1),i<=d&&(o=d-1)}}function n(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function i(t,e){return t<e?-1:t>e?1:0}return t}()}()})),bc=de,xc=de;de.prototype={all:function(){return this._all(this.data,[])},search:function(t){var e=this.data,n=[],i=this.toBBox;if(!Ce(t,e))return n;for(var r,o,s,a,u=[];e;){for(r=0,o=e.children.length;r<o;r++)s=e.children[r],a=e.leaf?i(s):s,Ce(t,a)&&(e.leaf?n.push(s):Te(t,a)?this._all(s,n):u.push(s));e=u.pop()}return n},collides:function(t){var e=this.data,n=this.toBBox;if(!Ce(t,e))return!1;for(var i,r,o,s,a=[];e;){for(i=0,r=e.children.length;i<r;i++)if(o=e.children[i],s=e.leaf?n(o):o,Ce(t,s)){if(e.leaf||Te(t,s))return!0;a.push(o)}e=a.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var e=0,n=t.length;e<n;e++)this.insert(t[e]);return this}var i=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===i.height)this._splitRoot(this.data,i);else{if(this.data.height<i.height){var r=this.data;this.data=i,i=r}this._insert(i,this.data.height-i.height-1,!0)}else this.data=i;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=Me([]),this},remove:function(t,e){if(!t)return this;for(var n,i,r,o,s=this.data,a=this.toBBox(t),u=[],l=[];s||u.length;){if(s||(s=u.pop(),i=u[u.length-1],n=l.pop(),o=!0),s.leaf&&-1!==(r=me(t,s.children,e)))return s.children.splice(r,1),u.push(s),this._condense(u),this;o||s.leaf||!Te(s,a)?i?(n++,s=i.children[n],o=!1):s=null:(u.push(s),l.push(n),n=0,i=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:ve,compareMinY:be,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,e){for(var n=[];t;)t.leaf?e.push.apply(e,t.children):n.push.apply(n,t.children),t=n.pop();return e},_build:function(t,e,n,i){var r,o=n-e+1,s=this._maxEntries;if(o<=s)return r=Me(t.slice(e,n+1)),ge(r,this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(s)),s=Math.ceil(o/Math.pow(s,i-1))),r=Me([]),r.leaf=!1,r.height=i;var a,u,l,h,c=Math.ceil(o/s),p=c*Math.ceil(Math.sqrt(s));for(Le(t,e,n,p,this.compareMinX),a=e;a<=n;a+=p)for(l=Math.min(a+p-1,n),Le(t,a,l,c,this.compareMinY),u=a;u<=l;u+=c)h=Math.min(u+c-1,l),r.children.push(this._build(t,u,h,i-1));return ge(r,this.toBBox),r},_chooseSubtree:function(t,e,n,i){for(var r,o,s,a,u,l,h,c;;){if(i.push(e),e.leaf||i.length-1===n)break;for(h=c=1/0,r=0,o=e.children.length;r<o;r++)s=e.children[r],u=xe(s),l=Ee(t,s)-u,l<c?(c=l,h=u<h?u:h,a=s):l===c&&u<h&&(h=u,a=s);e=a||e.children[0]}return e},_insert:function(t,e,n){var i=this.toBBox,r=n?t:i(t),o=[],s=this._chooseSubtree(r,this.data,e,o);for(s.children.push(t),_e(s,r);e>=0&&o[e].children.length>this._maxEntries;)this._split(o,e),e--;this._adjustParentBBoxes(r,o,e)},_split:function(t,e){var n=t[e],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),s=Me(n.children.splice(o,n.children.length-o));s.height=n.height,s.leaf=n.leaf,ge(n,this.toBBox),ge(s,this.toBBox),e?t[e-1].children.push(s):this._splitRoot(n,s)},_splitRoot:function(t,e){this.data=Me([t,e]),this.data.height=t.height+1,this.data.leaf=!1,ge(this.data,this.toBBox)},_chooseSplitIndex:function(t,e,n){var i,r,o,s,a,u,l,h;for(u=l=1/0,i=e;i<=n-e;i++)r=ye(t,0,i,this.toBBox),o=ye(t,i,n,this.toBBox),s=Se(r,o),a=xe(r)+xe(o),s<u?(u=s,h=i,l=a<l?a:l):s===u&&a<l&&(l=a,h=i);return h},_chooseSplitAxis:function(t,e,n){var i=t.leaf?this.compareMinX:ve,r=t.leaf?this.compareMinY:be;this._allDistMargin(t,e,n,i)<this._allDistMargin(t,e,n,r)&&t.children.sort(i)},_allDistMargin:function(t,e,n,i){t.children.sort(i);var r,o,s=this.toBBox,a=ye(t,0,e,s),u=ye(t,n-e,n,s),l=we(a)+we(u);for(r=e;r<n-e;r++)o=t.children[r],_e(a,t.leaf?s(o):o),l+=we(a);for(r=n-e-1;r>=e;r--)o=t.children[r],_e(u,t.leaf?s(o):o),l+=we(u);return l},_adjustParentBBoxes:function(t,e,n){for(var i=n;i>=0;i--)_e(e[i],t)},_condense:function(t){for(var e,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(e=t[n-1].children,e.splice(e.indexOf(t[n]),1)):this.clear():ge(t[n],this.toBBox)},_initFormat:function(t){var e=["return a"," - b",";"];this.compareMinX=new Function("a","b",e.join(t[0])),this.compareMinY=new Function("a","b",e.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}},bc.default=xc;var wc=function(t){this.rbush_=bc(t,void 0),this.items_={}};wc.prototype.insert=function(t,e){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};this.rbush_.insert(n),this.items_[v(e)]=n},wc.prototype.load=function(t,e){for(var n=new Array(e.length),i=0,r=e.length;i<r;i++){var o=t[i],s=e[i],a={minX:o[0],minY:o[1],maxX:o[2],maxY:o[3],value:s};n[i]=a,this.items_[v(s)]=a}this.rbush_.load(n)},wc.prototype.remove=function(t){var e=v(t),n=this.items_[e];return delete this.items_[e],null!==this.rbush_.remove(n)},wc.prototype.update=function(t,e){var n=this.items_[v(e)];K([n.minX,n.minY,n.maxX,n.maxY],t)||(this.remove(e),this.insert(t,e))},wc.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},wc.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},wc.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},wc.prototype.forEachInExtent=function(t,e,n){return this.forEach_(this.getInExtent(t),e,n)},wc.prototype.forEach_=function(t,e,n){for(var i,r=0,o=t.length;r<o;r++)if(i=e.call(n,t[r]))return i;return i},wc.prototype.isEmpty=function(){return s(this.items_)},wc.prototype.clear=function(){this.rbush_.clear(),this.items_={}},wc.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return X(e.minX,e.minY,e.maxX,e.maxY,t)},wc.prototype.concat=function(t){this.rbush_.load(t.rbush_.all());for(var e in t.items_)this.items_[e]=t.items_[e]};var Ec=function(t){function e(e,n){t.call(this,e),this.feature=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mh),Sc=function(t){function e(e){var n=e||{};t.call(this,{attributions:n.attributions,projection:void 0,state:Ch.READY,wrapX:void 0===n.wrapX||n.wrapX}),this.loader_=w,this.format_=n.format,this.overlaps_=void 0==n.overlaps||n.overlaps,this.url_=n.url,void 0!==n.loader?this.loader_=n.loader:void 0!==this.url_&&(T(this.format_,7),this.loader_=ce(this.url_,this.format_)),this.strategy_=void 0!==n.strategy?n.strategy:pe;var i=void 0===n.useSpatialIndex||n.useSpatialIndex;this.featuresRtree_=i?new wc:null,this.loadedExtentsRtree_=new wc,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null;var r,o;Array.isArray(n.features)?o=n.features:n.features&&(r=n.features,o=r.getArray()),i||void 0!==r||(r=new gc(o)),void 0!==o&&this.addFeaturesInternal(o),void 0!==r&&this.bindFeaturesCollection_(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){this.addFeatureInternal(t),this.changed()},e.prototype.addFeatureInternal=function(t){var e=v(t);if(this.addToIndex_(e,t)){this.setupChangeEvents_(e,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[e]=t;this.dispatchEvent(new Ec(_c.ADDFEATURE,t))}},e.prototype.setupChangeEvents_=function(t,e){this.featureChangeKeys_[t]=[f(e,hh.CHANGE,this.handleFeatureChange_,this),f(e,fh.PROPERTYCHANGE,this.handleFeatureChange_,this)]},e.prototype.addToIndex_=function(t,e){var n=!0,i=e.getId();return void 0!==i?i.toString()in this.idIndex_?n=!1:this.idIndex_[i.toString()]=e:(T(!(t in this.undefIdIndex_),30),this.undefIdIndex_[t]=e),n},e.prototype.addFeatures=function(t){this.addFeaturesInternal(t),this.changed()},e.prototype.addFeaturesInternal=function(t){for(var e=[],n=[],i=[],r=0,o=t.length;r<o;r++){var s=t[r],a=v(s);this.addToIndex_(a,s)&&n.push(s)}for(var u=0,l=n.length;u<l;u++){var h=n[u],c=v(h);this.setupChangeEvents_(c,h);var p=h.getGeometry();if(p){var f=p.getExtent();e.push(f),i.push(h)}else this.nullGeometryFeatures_[c]=h}this.featuresRtree_&&this.featuresRtree_.load(e,i);for(var d=0,m=n.length;d<m;d++)this.dispatchEvent(new Ec(_c.ADDFEATURE,n[d]))},e.prototype.bindFeaturesCollection_=function(t){var e=!1;f(this,_c.ADDFEATURE,function(n){e||(e=!0,t.push(n.feature),e=!1)}),f(this,_c.REMOVEFEATURE,function(n){e||(e=!0,t.remove(n.feature),e=!1)}),f(t,fc.ADD,function(t){e||(e=!0,this.addFeature(t.element),e=!1)},this),f(t,fc.REMOVE,function(t){e||(e=!0,this.removeFeature(t.element),e=!1)},this),this.featuresCollection_=t},e.prototype.clear=function(t){if(t){for(var e in this.featureChangeKeys_){this.featureChangeKeys_[e].forEach(g)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_){this.featuresRtree_.forEach(this.removeFeatureInternal,this);for(var n in this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n])}this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var i=new Ec(_c.CLEAR);this.dispatchEvent(i),this.changed()},e.prototype.forEachFeature=function(t){if(this.featuresRtree_)return this.featuresRtree_.forEach(t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},e.prototype.forEachFeatureAtCoordinateDirect=function(t,e){var n=[t[0],t[1],t[0],t[1]];return this.forEachFeatureInExtent(n,function(n){return n.getGeometry().intersectsCoordinate(t)?e(n):void 0})},e.prototype.forEachFeatureInExtent=function(t,e){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(t,e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},e.prototype.forEachFeatureIntersectingExtent=function(t,e){return this.forEachFeatureInExtent(t,function(n){if(n.getGeometry().intersectsExtent(t)){var i=e(n);if(i)return i}})},e.prototype.getFeaturesCollection=function(){return this.featuresCollection_},e.prototype.getFeatures=function(){var t;return this.featuresCollection_?t=this.featuresCollection_.getArray():this.featuresRtree_&&(t=this.featuresRtree_.getAll(),s(this.nullGeometryFeatures_)||ee(t,o(this.nullGeometryFeatures_))),t},e.prototype.getFeaturesAtCoordinate=function(t){var e=[];return this.forEachFeatureAtCoordinateDirect(t,function(t){e.push(t)}),e},e.prototype.getFeaturesInExtent=function(t){return this.featuresRtree_.getInExtent(t)},e.prototype.getClosestFeatureToCoordinate=function(t,e){var n=t[0],i=t[1],r=null,o=[NaN,NaN],s=1/0,a=[-1/0,-1/0,1/0,1/0],u=e||b;return this.featuresRtree_.forEachInExtent(a,function(t){if(u(t)){var e=t.getGeometry(),l=s;if((s=e.closestPointXY(n,i,o,s))<l){r=t;var h=Math.sqrt(s);a[0]=n-h,a[1]=i-h,a[2]=n+h,a[3]=i+h}}}),r},e.prototype.getExtent=function(t){return this.featuresRtree_.getExtent(t)},e.prototype.getFeatureById=function(t){var e=this.idIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getFormat=function(){return this.format_},e.prototype.getOverlaps=function(){return this.overlaps_},e.prototype.getUrl=function(){return this.url_},e.prototype.handleFeatureChange_=function(t){var e=t.target,n=v(e),i=e.getGeometry();if(i){var r=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(r,e)):this.featuresRtree_&&this.featuresRtree_.update(r,e)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(e),this.nullGeometryFeatures_[n]=e);var o=e.getId();if(void 0!==o){var s=o.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[s]=e):this.idIndex_[s]!==e&&(this.removeFromIdIndex_(e),this.idIndex_[s]=e)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(e),this.undefIdIndex_[n]=e);this.changed(),this.dispatchEvent(new Ec(_c.CHANGEFEATURE,e))},e.prototype.hasFeature=function(t){var e=t.getId();return void 0!==e?e in this.idIndex_:v(t)in this.undefIdIndex_},e.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&s(this.nullGeometryFeatures_)},e.prototype.loadFeatures=function(t,e,n){var i=this,r=this.loadedExtentsRtree_,o=this.strategy_(t,e);this.loading=!1;for(var s=0,a=o.length;s<a;++s)!function(t,s){var a=o[t];r.forEachInExtent(a,function(t){return U(t.extent,a)})||(i.loader_.call(i,a,e,n),r.insert(a,{extent:a.slice()}),i.loading=i.loader_!==w)}(s)},e.prototype.removeLoadedExtent=function(t){var e,n=this.loadedExtentsRtree_;n.forEachInExtent(t,function(n){if(K(n.extent,t))return e=n,!0}),e&&n.remove(e)},e.prototype.removeFeature=function(t){var e=v(t);e in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[e]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},e.prototype.removeFeatureInternal=function(t){var e=v(t);this.featureChangeKeys_[e].forEach(g),delete this.featureChangeKeys_[e];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[e],this.dispatchEvent(new Ec(_c.REMOVEFEATURE,t))},e.prototype.removeFromIdIndex_=function(t){var e=!1;for(var n in this.idIndex_)if(this.idIndex_[n]===t){delete this.idIndex_[n],e=!0;break}return e},e.prototype.setLoader=function(t){this.loader_=t},e}(ec),Tc={IMAGE:"image",VECTOR:"vector"},Cc=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,Mc=/^([a-z]*)$/i,Lc=function(){var t={},e=0;return function(n){var i;if(t.hasOwnProperty(n))i=t[n];else{if(e>=1024){var r=0;for(var o in t)0===(3&r++)&&(delete t[o],--e)}i=Re(n),t[n]=i,++e}return i}}(),Pc=["experimental-webgl","webgl","webkit-3d","moz-webgl"];if("undefined"!==typeof window&&"WebGLRenderingContext"in window)try{var Oc=document.createElement("canvas"),Ac=function(t,e){for(var n=Pc.length,i=0;i<n;++i)try{var r=t.getContext(Pc[i],e);if(r)return r}catch(t){}return null}(Oc,{failIfMajorPerformanceCaveat:!0});Ac&&(Ac.getParameter(Ac.MAX_TEXTURE_SIZE),Ac.getSupportedExtensions())}catch(t){}var Rc="undefined"!==typeof navigator?navigator.userAgent.toLowerCase():"",Ic=-1!==Rc.indexOf("firefox"),kc=-1!==Rc.indexOf("safari")&&-1==Rc.indexOf("chrom"),Nc=-1!==Rc.indexOf("webkit")&&-1==Rc.indexOf("edge"),Fc=-1!==Rc.indexOf("macintosh"),jc=window.devicePixelRatio||1,Dc=function(){var t=!1;try{t=!!document.createElement("canvas").getContext("2d").setLineDash}catch(t){}return t}(),Gc="ontouchstart"in window,zc="PointerEvent"in window,Uc=!!navigator.msPointerEnabled,Bc="ol-hidden",Zc="ol-selectable",Wc="ol-unselectable",Xc="ol-control",Vc="ol-collapsed",Hc=function(){var t,e={};return function(n){if(t||(t=document.createElement("div").style),!(n in e)){t.font=n;var i=t.fontFamily;if(t.font="",!i)return null;e[n]=i.split(/,\s?/)}return e[n]}}(),Yc=function(t){function e(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},e.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(hh.CLEAR)},e.prototype.containsKey=function(t){return this.entries_.hasOwnProperty(t)},e.prototype.forEach=function(t,e){for(var n=this.oldest_;n;)t.call(e,n.value_,n.key_,this),n=n.newer},e.prototype.get=function(t){var e=this.entries_[t];return T(void 0!==e,15),e===this.newest_?e.value_:(e===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(e.newer.older=e.older,e.older.newer=e.newer),e.newer=null,e.older=this.newest_,this.newest_.newer=e,this.newest_=e,e.value_)},e.prototype.remove=function(t){var e=this.entries_[t];return T(void 0!==e,15),e===this.newest_?(this.newest_=e.older,this.newest_&&(this.newest_.newer=null)):e===this.oldest_?(this.oldest_=e.newer,this.oldest_&&(this.oldest_.older=null)):(e.newer.older=e.older,e.older.newer=e.newer),delete this.entries_[t],--this.count_,e.value_},e.prototype.getCount=function(){return this.count_},e.prototype.getKeys=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.key_;return e},e.prototype.getValues=function(){var t,e=new Array(this.count_),n=0;for(t=this.newest_;t;t=t.older)e[n++]=t.value_;return e},e.prototype.peekLast=function(){return this.oldest_.value_},e.prototype.peekLastKey=function(){return this.oldest_.key_},e.prototype.peekFirstKey=function(){return this.newest_.key_},e.prototype.pop=function(){var t=this.oldest_;return delete this.entries_[t.key_],t.newer&&(t.newer.older=null),this.oldest_=t.newer,this.oldest_||(this.newest_=null),--this.count_,t.value_},e.prototype.replace=function(t,e){this.get(t),this.entries_[t].value_=e},e.prototype.set=function(t,e){T(!(t in this.entries_),16);var n={key_:t,newer:null,older:this.newest_,value_:e};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[t]=n,++this.count_},e.prototype.setSize=function(t){this.highWaterMark=t},e.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},e}(gh),qc=new Array(6),Kc=[0,0,0,1],Jc=[],Qc=[0,0,0,1],$c=[0,0,0,0],tp=new Yc,ep={},np=null,ip={},rp=function(){function t(t){for(var e=He(),n=100;n<=700;n+=300){for(var r=n+" ",o=!0,s=0;s<l;++s){var c=u[s];if(e.font=r+a+c,i=e.measureText(h).width,t!=c){e.font=r+a+t+","+c;var p=e.measureText(h).width;o=o&&p!=i}}if(o)return!0}return!1}function e(){var e=!0;for(var i in s)s[i]<o&&(t(i)?(s[i]=o,r(ip),np=null,tp.clear()):(++s[i],e=!1));e&&(clearInterval(n),n=void 0)}var n,i,o=60,s=ep,a="32px ",u=["monospace","serif"],l=u.length,h="wmytzilWMYTZIL@#/&?$%10\uf013";return function(i){var r=Hc(i);if(r)for(var a=0,u=r.length;a<u;++a){var l=r[a];l in s||(s[l]=o,t(l)||(s[l]=0,void 0===n&&(n=setInterval(e,32))))}}}(),op=function(){var t,e=ip;return function(n){var i=e[n];return void 0==i&&(t||(t=document.createElement("span"),t.textContent="M",t.style.margin=t.style.padding="0 !important",t.style.position="absolute !important",t.style.left="-99999px !important"),t.style.font=n,document.body.appendChild(t),i=e[n]=t.offsetHeight,document.body.removeChild(t)),i}}(),sp=Fe(),ap=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};ap.prototype.clone=function(){return new ap({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},ap.prototype.getOpacity=function(){return this.opacity_},ap.prototype.getRotateWithView=function(){return this.rotateWithView_},ap.prototype.getRotation=function(){return this.rotation_},ap.prototype.getScale=function(){return this.scale_},ap.prototype.getSnapToPixel=function(){return!1},ap.prototype.getAnchor=function(){return _()},ap.prototype.getImage=function(t){return _()},ap.prototype.getHitDetectionImage=function(t){return _()},ap.prototype.getImageState=function(){return _()},ap.prototype.getImageSize=function(){return _()},ap.prototype.getHitDetectionImageSize=function(){return _()},ap.prototype.getOrigin=function(){return _()},ap.prototype.getSize=function(){return _()},ap.prototype.setOpacity=function(t){this.opacity_=t},ap.prototype.setRotateWithView=function(t){this.rotateWithView_=t},ap.prototype.setRotation=function(t){this.rotation_=t},ap.prototype.setScale=function(t){this.scale_=t},ap.prototype.setSnapToPixel=function(t){},ap.prototype.listenImageChange=function(t,e){return _()},ap.prototype.load=function(){_()},ap.prototype.unlistenImageChange=function(t,e){_()};var up=function(t){function e(e){var n=void 0!==e.rotateWithView&&e.rotateWithView;t.call(this,{opacity:1,rotateWithView:n,rotation:void 0!==e.rotation?e.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==e.fill?e.fill:null,this.origin_=[0,0],this.points_=e.points,this.radius_=void 0!==e.radius?e.radius:e.radius1,this.radius2_=e.radius2,this.angle_=void 0!==e.angle?e.angle:0,this.stroke_=void 0!==e.stroke?e.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=e.atlasManager,this.render_(this.atlasManager_)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.getAnchor=function(){return this.anchor_},e.prototype.getAngle=function(){return this.angle_},e.prototype.getFill=function(){return this.fill_},e.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},e.prototype.getImage=function(t){return this.canvas_},e.prototype.getImageSize=function(){return this.imageSize_},e.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},e.prototype.getImageState=function(){return Ah.LOADED},e.prototype.getOrigin=function(){return this.origin_},e.prototype.getPoints=function(){return this.points_},e.prototype.getRadius=function(){return this.radius_},e.prototype.getRadius2=function(){return this.radius2_},e.prototype.getSize=function(){return this.size_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.listenImageChange=function(t,e){},e.prototype.load=function(){},e.prototype.unlistenImageChange=function(t,e){},e.prototype.render_=function(t){var e,n,i="",r="",o=0,s=null,a=0,u=0;this.stroke_&&(n=this.stroke_.getColor(),null===n&&(n=Qc),n=Ne(n),u=this.stroke_.getWidth(),void 0===u&&(u=1),s=this.stroke_.getLineDash(),a=this.stroke_.getLineDashOffset(),Dc||(s=null,a=0),r=this.stroke_.getLineJoin(),void 0===r&&(r="round"),i=this.stroke_.getLineCap(),void 0===i&&(i="round"),void 0===(o=this.stroke_.getMiterLimit())&&(o=10));var l=2*(this.radius_+u)+1,h={strokeStyle:n,strokeWidth:u,size:l,lineCap:i,lineDash:s,lineDashOffset:a,lineJoin:r,miterLimit:o};if(void 0===t){var c=Ut(l,l);this.canvas_=c.canvas,l=this.canvas_.width,e=l,this.draw_(h,c,0,0),this.createHitDetectionCanvas_(h)}else{l=Math.round(l);var p,f=!this.fill_;f&&(p=this.drawHitDetectionCanvas_.bind(this,h));var d=this.getChecksum(),m=t.add(d,l,l,this.draw_.bind(this,h),p);this.canvas_=m.image,this.origin_=[m.offsetX,m.offsetY],e=m.image.width,f?(this.hitDetectionCanvas_=m.hitImage,this.hitDetectionImageSize_=[m.hitImage.width,m.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[e,e])}this.anchor_=[l/2,l/2],this.size_=[l,l],this.imageSize_=[e,e]},e.prototype.draw_=function(t,e,n,i){var r,o,s;e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var a=this.points_;if(a===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(a*=2),r=0;r<=a;r++)o=2*r*Math.PI/a-Math.PI/2+this.angle_,s=r%2===0?this.radius_:u,e.lineTo(t.size/2+s*Math.cos(o),t.size/2+s*Math.sin(o))}if(this.fill_){var l=this.fill_.getColor();null===l&&(l=Kc),e.fillStyle=Ne(l),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},e.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)return void(this.hitDetectionCanvas_=this.canvas_);var e=Ut(t.size,t.size);this.hitDetectionCanvas_=e.canvas,this.drawHitDetectionCanvas_(t,e,0,0)},e.prototype.drawHitDetectionCanvas_=function(t,e,n,i){e.setTransform(1,0,0,1,0,0),e.translate(n,i),e.beginPath();var r=this.points_;if(r===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var o=void 0!==this.radius2_?this.radius2_:this.radius_;o!==this.radius_&&(r*=2);var s,a,u;for(s=0;s<=r;s++)u=2*s*Math.PI/r-Math.PI/2+this.angle_,a=s%2===0?this.radius_:o,e.lineTo(t.size/2+a*Math.cos(u),t.size/2+a*Math.sin(u))}e.fillStyle=Pe(Kc),e.fill(),this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.stroke()),e.closePath()},e.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",e=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||e!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var n="r"+t+e+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[n,t,e,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},e}(ap),lp=function(t){function e(e){var n=e||{};t.call(this,{points:1/0,fill:n.fill,radius:n.radius,stroke:n.stroke,atlasManager:n.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(up),hp=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.checksum_=void 0};hp.prototype.clone=function(){var t=this.getColor();return new hp({color:Array.isArray(t)?t.slice():t||void 0})},hp.prototype.getColor=function(){return this.color_},hp.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},hp.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+Pe(t):this.checksum_=v(this.color_):this.checksum_="f-"}return this.checksum_};var cp=function(t){var e=t||{};this.color_=void 0!==e.color?e.color:null,this.lineCap_=e.lineCap,this.lineDash_=void 0!==e.lineDash?e.lineDash:null,this.lineDashOffset_=e.lineDashOffset,this.lineJoin_=e.lineJoin,this.miterLimit_=e.miterLimit,this.width_=e.width,this.checksum_=void 0};cp.prototype.clone=function(){var t=this.getColor();return new cp({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},cp.prototype.getColor=function(){return this.color_},cp.prototype.getLineCap=function(){return this.lineCap_},cp.prototype.getLineDash=function(){return this.lineDash_},cp.prototype.getLineDashOffset=function(){return this.lineDashOffset_},cp.prototype.getLineJoin=function(){return this.lineJoin_},cp.prototype.getMiterLimit=function(){return this.miterLimit_},cp.prototype.getWidth=function(){return this.width_},cp.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},cp.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},cp.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},cp.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},cp.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},cp.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},cp.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},cp.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"===typeof this.color_?this.checksum_+=this.color_:this.checksum_+=v(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};var pp=function(t){var e=t||{};this.geometry_=null,this.geometryFunction_=$e,void 0!==e.geometry&&this.setGeometry(e.geometry),this.fill_=void 0!==e.fill?e.fill:null,this.image_=void 0!==e.image?e.image:null,this.renderer_=void 0!==e.renderer?e.renderer:null,this.stroke_=void 0!==e.stroke?e.stroke:null,this.text_=void 0!==e.text?e.text:null,this.zIndex_=e.zIndex};pp.prototype.clone=function(){var t=this.getGeometry();return t&&"object"===typeof t&&(t=t.clone()),new pp({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},pp.prototype.getRenderer=function(){return this.renderer_},pp.prototype.setRenderer=function(t){this.renderer_=t},pp.prototype.getGeometry=function(){return this.geometry_},pp.prototype.getGeometryFunction=function(){return this.geometryFunction_},pp.prototype.getFill=function(){return this.fill_},pp.prototype.setFill=function(t){this.fill_=t},pp.prototype.getImage=function(){return this.image_},pp.prototype.setImage=function(t){this.image_=t},pp.prototype.getStroke=function(){return this.stroke_},pp.prototype.setStroke=function(t){this.stroke_=t},pp.prototype.getText=function(){return this.text_},pp.prototype.setText=function(t){this.text_=t},pp.prototype.getZIndex=function(){return this.zIndex_},pp.prototype.setGeometry=function(t){"function"===typeof t?this.geometryFunction_=t:"string"===typeof t?this.geometryFunction_=function(e){return e.get(t)}:t?void 0!==t&&(this.geometryFunction_=function(){return t}):this.geometryFunction_=$e,this.geometry_=t},pp.prototype.setZIndex=function(t){this.zIndex_=t};var fp=null,dp={RENDER_ORDER:"renderOrder"},mp=function(t){function e(e){var n=e||{},i=lh({},n);delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,t.call(this,i),this.declutter_=void 0!==n.declutter&&n.declutter,this.renderBuffer_=void 0!==n.renderBuffer?n.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(n.style),this.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,this.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,this.renderMode_=n.renderMode||Tc.VECTOR,this.type=uh.VECTOR}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getDeclutter=function(){return this.declutter_},e.prototype.setDeclutter=function(t){this.declutter_=t},e.prototype.getRenderBuffer=function(){return this.renderBuffer_},e.prototype.getRenderOrder=function(){return this.get(dp.RENDER_ORDER)},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},e.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},e.prototype.setRenderOrder=function(t){this.set(dp.RENDER_ORDER,t)},e.prototype.setStyle=function(t){this.style_=void 0!==t?t:Qe,this.styleFunction_=null===t?void 0:Je(this.style_),this.changed()},e.prototype.getRenderMode=function(){return this.renderMode_},e}(Mh);mp.prototype.getSource;var gp=function(t){function e(){return uc(this,e),cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){this.source=new Sc;var t=new mp({source:this.source});t.setZIndex(1),this.context.map.addLayer(t),this.loadData(this.props.data)}},{key:"shouldComponentUpdate",value:function(t){var e=this;return null===this.props.data||void 0===this.props.data||null!==t.data&&(t.data.length!==this.props.data.length||!t.data.every(function(t,n){return t===e.props.data[n]}))}},{key:"componentWillUpdate",value:function(t){this.loadData(t.data)}},{key:"loadData",value:function(t){var e=this;Object(Vl.c)(t).pipe(Object(Hl.h)(function(){return e.source.clear()}),Object(Hl.a)(function(t){return null!==t&&void 0!==t}),Object(Hl.c)(function(t){return t}),Object(Hl.d)(function(t){return e.props.createLabel(t)}),Object(Hl.a)(function(t){return null!==t}),Object(Hl.i)(),Object(Hl.h)(function(t){return e.source.addFeatures(t)})).subscribe()}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);gp.defaultProps={data:null},gp.propTypes={data:ql.a.arrayOf(ql.a.object),createLabel:ql.a.func.isRequired},gp.contextTypes={map:ql.a.object};var yp=function(t){function e(e){if(t.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,f(this,S(this.geometryName_),this.handleGeometryChanged_,this),e)if("function"===typeof e.getSimplifiedGeometry){var n=e;this.setGeometry(n)}else{var i=e;this.setProperties(i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e(this.getProperties());t.setGeometryName(this.getGeometryName());var n=this.getGeometry();n&&t.setGeometry(n.clone());var i=this.getStyle();return i&&t.setStyle(i),t},e.prototype.getGeometry=function(){return this.get(this.geometryName_)},e.prototype.getId=function(){return this.id_},e.prototype.getGeometryName=function(){return this.geometryName_},e.prototype.getStyle=function(){return this.style_},e.prototype.getStyleFunction=function(){return this.styleFunction_},e.prototype.handleGeometryChange_=function(){this.changed()},e.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(g(this.geometryChangeKey_),this.geometryChangeKey_=null);var t=this.getGeometry();t&&(this.geometryChangeKey_=f(t,hh.CHANGE,this.handleGeometryChange_,this)),this.changed()},e.prototype.setGeometry=function(t){this.set(this.geometryName_,t)},e.prototype.setStyle=function(t){this.style_=t,this.styleFunction_=t?tn(t):void 0,this.changed()},e.prototype.setId=function(t){this.id_=t,this.changed()},e.prototype.setGeometryName=function(t){m(this,S(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=t,f(this,S(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},e}(vh),_p=Fe(),vp=function(t){function e(){t.call(this),this.extent_=W(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return _()},e.prototype.closestPointXY=function(t,e,n,i){return _()},e.prototype.containsXY=function(t,e){return!1},e.prototype.getClosestPoint=function(t,e){var n=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],n,1/0),n},e.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},e.prototype.computeExtent=function(t){return _()},e.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),gt(this.extent_,t)},e.prototype.rotate=function(t,e){_()},e.prototype.scale=function(t,e,n){_()},e.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},e.prototype.getSimplifiedGeometry=function(t){return _()},e.prototype.getType=function(){return _()},e.prototype.applyTransform=function(t){_()},e.prototype.intersectsExtent=function(t){return _()},e.prototype.translate=function(t,e){_()},e.prototype.transform=function(t,e){var n=At(t),i=n.getUnits()==jh.TILE_PIXELS?function(t,i,r){var o=n.getExtent(),s=n.getWorldExtent(),a=lt(s)/lt(o);return We(_p,s[0],s[3],a,-a,0,0,0),en(t,0,t.length,r,_p,i),Dt(n,e)(t,i,r)}:Dt(n,e);return this.applyTransform(i),this},e}(vh),bp={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"},xp=function(t){function e(){t.call(this),this.layout=bp.XY,this.stride=2,this.flatCoordinates=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.computeExtent=function(t){return q(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinates=function(){return _()},e.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.getFlatCoordinates=function(){return this.flatCoordinates},e.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},e.prototype.getLayout=function(){return this.layout},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(r(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var n=this.getSimplifiedGeometryInternal(t);return n.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=n,n):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},e.prototype.getSimplifiedGeometryInternal=function(t){return this},e.prototype.getStride=function(){return this.stride},e.prototype.setFlatCoordinates=function(t,e){this.stride=an(t),this.layout=t,this.flatCoordinates=e},e.prototype.setCoordinates=function(t,e){_()},e.prototype.setLayout=function(t,e,n){var i;if(t)i=an(t);else{for(var r=0;r<n;++r){if(0===e.length)return this.layout=bp.XY,void(this.stride=2);e=e[0]}i=e.length,t=sn(i)}this.layout=t,this.stride=i},e.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},e.prototype.rotate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();nn(n,0,n.length,i,t,e,n),this.changed()}},e.prototype.scale=function(t,e,n){var i=e;void 0===i&&(i=t);var r=n;r||(r=st(this.getExtent()));var o=this.getFlatCoordinates();if(o){var s=this.getStride();rn(o,0,o.length,s,t,i,r,o),this.changed()}},e.prototype.translate=function(t,e){var n=this.getFlatCoordinates();if(n){var i=this.getStride();on(n,0,n.length,i,t,e,n),this.changed()}},e}(vp),wp=function(t){function e(e,n){t.call(this),this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=P(t,e,r[0],r[1]);if(o<i){for(var s=this.stride,a=0;a<s;++a)n[a]=r[a];return n.length=s,o}return i},e.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},e.prototype.computeExtent=function(t){return H(this.flatCoordinates,t)},e.prototype.getType=function(){return Nh.POINT},e.prototype.intersectsExtent=function(t){return B(t,this.flatCoordinates[0],this.flatCoordinates[1])},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ln(this.flatCoordinates,0,t,this.stride),this.changed()},e}(xp),Ep={FRACTION:"fraction",PIXELS:"pixels"},Sp=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};Sp.prototype.clear=function(){this.cache_={},this.cacheSize_=0},Sp.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var t=0;for(var e in this.cache_){var n=this.cache_[e];0!==(3&t++)||n.hasListener()||(delete this.cache_[e],--this.cacheSize_)}}},Sp.prototype.get=function(t,e,n){var i=fn(t,e,n);return i in this.cache_?this.cache_[i]:null},Sp.prototype.set=function(t,e,n,i){var r=fn(t,e,n);this.cache_[r]=i,++this.cacheSize_},Sp.prototype.setSize=function(t){this.maxCacheSize_=t,this.expire()};var Tp=new Sp,Cp=function(t){function e(e,n,i,r,o,s){t.call(this),this.hitDetectionImage_=null,this.image_=e||new Image,null!==r&&(this.image_.crossOrigin=r),this.canvas_=s?document.createElement("canvas"):null,this.color_=s,this.imageListenerKeys_=null,this.imageState_=o,this.size_=i,this.src_=n,this.tainted_}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===Ah.LOADED){this.tainted_=!1;var t=Ut(1,1);try{t.drawImage(this.image_,0,0),t.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},e.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(hh.CHANGE)},e.prototype.handleImageError_=function(){this.imageState_=Ah.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},e.prototype.handleImageLoad_=function(){this.imageState_=Ah.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},e.prototype.getImage=function(t){return this.canvas_?this.canvas_:this.image_},e.prototype.getImageState=function(){return this.imageState_},e.prototype.getHitDetectionImage=function(t){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],n=this.size_[1],i=Ut(e,n);i.fillRect(0,0,e,n),this.hitDetectionImage_=i.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},e.prototype.getSize=function(){return this.size_},e.prototype.getSrc=function(){return this.src_},e.prototype.load=function(){if(this.imageState_==Ah.IDLE){this.imageState_=Ah.LOADING,this.imageListenerKeys_=[d(this.image_,hh.ERROR,this.handleImageError_,this),d(this.image_,hh.LOAD,this.handleImageLoad_,this)];try{this.image_.src=this.src_}catch(t){this.handleImageError_()}}},e.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var t=this.canvas_.getContext("2d");t.drawImage(this.image_,0,0);for(var e=t.getImageData(0,0,this.image_.width,this.image_.height),n=e.data,i=this.color_[0]/255,r=this.color_[1]/255,o=this.color_[2]/255,s=0,a=n.length;s<a;s+=4)n[s]*=i,n[s+1]*=r,n[s+2]*=o;t.putImageData(e,0,0)}},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(g),this.imageListenerKeys_=null},e}(gh),Mp={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"},Lp=function(t){function e(e){var n=e||{},i=void 0!==n.opacity?n.opacity:1,r=void 0!==n.rotation?n.rotation:0,o=void 0!==n.scale?n.scale:1,s=void 0!==n.rotateWithView&&n.rotateWithView;t.call(this,{opacity:i,rotation:r,scale:o,rotateWithView:s}),this.anchor_=void 0!==n.anchor?n.anchor:[.5,.5],this.normalizedAnchor_=null,this.anchorOrigin_=void 0!==n.anchorOrigin?n.anchorOrigin:Mp.TOP_LEFT,this.anchorXUnits_=void 0!==n.anchorXUnits?n.anchorXUnits:Ep.FRACTION,this.anchorYUnits_=void 0!==n.anchorYUnits?n.anchorYUnits:Ep.FRACTION,this.crossOrigin_=void 0!==n.crossOrigin?n.crossOrigin:null;var a=void 0!==n.img?n.img:null,u=void 0!==n.imgSize?n.imgSize:null,l=n.src;T(!(void 0!==l&&a),4),T(!a||a&&u,5),void 0!==l&&0!==l.length||!a||(l=a.src||v(a)),T(void 0!==l&&l.length>0,6);var h=void 0!==n.src?Ah.IDLE:Ah.LOADED;this.color_=void 0!==n.color?Ae(n.color):null,this.iconImage_=dn(a,l,u,this.crossOrigin_,h,this.color_),this.offset_=void 0!==n.offset?n.offset:[0,0],this.offsetOrigin_=void 0!==n.offsetOrigin?n.offsetOrigin:Mp.TOP_LEFT,this.origin_=null,this.size_=void 0!==n.size?n.size:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null!==this.size_?this.size_.slice():void 0,opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var t=this.anchor_,e=this.getSize();if(this.anchorXUnits_==Ep.FRACTION||this.anchorYUnits_==Ep.FRACTION){if(!e)return null;t=this.anchor_.slice(),this.anchorXUnits_==Ep.FRACTION&&(t[0]*=e[0]),this.anchorYUnits_==Ep.FRACTION&&(t[1]*=e[1])}if(this.anchorOrigin_!=Mp.TOP_LEFT){if(!e)return null;t===this.anchor_&&(t=this.anchor_.slice()),this.anchorOrigin_!=Mp.TOP_RIGHT&&this.anchorOrigin_!=Mp.BOTTOM_RIGHT||(t[0]=-t[0]+e[0]),this.anchorOrigin_!=Mp.BOTTOM_LEFT&&this.anchorOrigin_!=Mp.BOTTOM_RIGHT||(t[1]=-t[1]+e[1])}return this.normalizedAnchor_=t,this.normalizedAnchor_},e.prototype.setAnchor=function(t){this.anchor_=t,this.normalizedAnchor_=null},e.prototype.getColor=function(){return this.color_},e.prototype.getImage=function(t){return this.iconImage_.getImage(t)},e.prototype.getImageSize=function(){return this.iconImage_.getSize()},e.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},e.prototype.getImageState=function(){return this.iconImage_.getImageState()},e.prototype.getHitDetectionImage=function(t){return this.iconImage_.getHitDetectionImage(t)},e.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var t=this.offset_;if(this.offsetOrigin_!=Mp.TOP_LEFT){var e=this.getSize(),n=this.iconImage_.getSize();if(!e||!n)return null;t=t.slice(),this.offsetOrigin_!=Mp.TOP_RIGHT&&this.offsetOrigin_!=Mp.BOTTOM_RIGHT||(t[0]=n[0]-e[0]-t[0]),this.offsetOrigin_!=Mp.BOTTOM_LEFT&&this.offsetOrigin_!=Mp.BOTTOM_RIGHT||(t[1]=n[1]-e[1]-t[1])}return this.origin_=t,this.origin_},e.prototype.getSrc=function(){return this.iconImage_.getSrc()},e.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},e.prototype.listenImageChange=function(t,e){return f(this.iconImage_,hh.CHANGE,t,e)},e.prototype.load=function(){this.iconImage_.load()},e.prototype.unlistenImageChange=function(t,e){m(this.iconImage_,hh.CHANGE,t,e)},e}(ap),Pp=function(t){function e(e,n){t.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendCoordinate=function(t){this.flatCoordinates?ee(this.flatCoordinates,t):this.flatCoordinates=t.slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<G(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(gn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),vn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.forEachSegment=function(t){return Rn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.getCoordinateAtM=function(t,e){if(this.layout!=bp.XYM&&this.layout!=bp.XYZM)return null;var n=void 0!==e&&e;return Cn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n)},e.prototype.getCoordinates=function(){return wn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinateAt=function(t,e){return Tn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},e.prototype.getLength=function(){return Dn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Gn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,bp.XY)},e.prototype.getType=function(){return Nh.LINE_STRING},e.prototype.intersectsExtent=function(t){return In(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=hn(this.flatCoordinates,0,t,this.stride),this.changed()},e}(xp),Op="data:image/png;base64,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",Ap="data:image/png;base64,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",Rp=function(t){function e(){var t,n,i,r;uc(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=i=cc(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.createStartPoint=function(t,e){var n=new yp({geometry:new wp([t,e])});return n.setStyle([new pp({image:new Lp({anchor:[.5,1],scale:.4,src:Ap})})]),n},i.createEndPoint=function(t,e){var n=new yp({geometry:new wp([t,e])});return n.setStyle([new pp({image:new Lp({anchor:[.5,1],scale:.4,src:Op})})]),n},r=n,cc(i,r)}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){this.source=new Sc;var t=new mp({source:this.source,style:new pp({stroke:new cp({color:"#0DC56E",lineDash:[6],width:5})})});this.context.map.addLayer(t),this.loadRoutes(this.props.routes,this.props.map)}},{key:"shouldComponentUpdate",value:function(t){return null===this.props.map||void 0===this.props.map||(null===this.props.routes||void 0===this.props.routes||(null!==t.routes||null!==t.map)&&(t.map!==this.props.map||!Ql.a.isEqual(this.props.routes,t.routes)))}},{key:"componentWillUpdate",value:function(t){this.loadRoutes(t.routes,t.map)}},{key:"loadRoutes",value:function(t,e){var n=this;Object(Vl.c)(t).pipe(Object(Hl.h)(function(){return n.source.clear()}),Object(Hl.a)(function(t){return null!==e&&void 0!==e&&null!==t&&void 0!==t&&t.source_floor&&t.source_longitude&&t.source_latitude&&t.target_floor&&t.target_longitude&&t.target_latitude}),Object(Hl.c)(function(t){return Object(Kl.a)({url:"http://101.200.36.227:9000/api/web/routing/routes?sourceFloor="+t.source_floor+"&sourceLongitude="+t.source_longitude+"&sourceLatitude="+t.source_latitude+"&targetFloor="+t.target_floor+"&targetLongitude="+t.target_longitude+"&targetLatitude="+t.target_latitude,crossDomain:!0,headers:{Authorization:"eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJyZWxpYWJsZXNlbnNlLmNvbSIsImlhdCI6MTUyODA0MTA5MSwidXNlcklkIjoxLCJ1c2VyVHlwZSI6IlNVUEVSX0FETUlOIiwidXNlck5hbWUiOiJhZG1pbiJ9.oXUEj0oXLi5rKnGjC8o1FlTWDie5bkgs0zsGSLnGeyI","Content-Type":"application/json",Accept:"application/json, text/plain, */*"}})}),Object(Hl.d)(function(t){return t.response}),Object(Hl.b)(function(t){return null!==t&&200===t.code}),Object(Hl.d)(function(t){return t.result}),Object(Hl.c)(function(t){return t}),Object(Hl.a)(function(t){return t.floor===e.floor}),Object(Hl.d)(function(t){return t.geojsonRoutes}),Object(Hl.c)(function(t){return t}),Object(Hl.d)(function(t){return JSON.parse(t)}),Object(Hl.f)("coordinates"),Object(Hl.e)(),Object(Hl.g)(function(t,e){var n=e[0],i=e[1],r=n.filter(function(t){return JSON.stringify(i[0])===JSON.stringify(t)||JSON.stringify(i[1])===JSON.stringify(t)}).shift();return t.length>0?t.concat(i.filter(function(t){return JSON.stringify(t)!==JSON.stringify(r)})):t.concat(n.filter(function(t){return JSON.stringify(t)!==JSON.stringify(r)}),[r],i.filter(function(t){return JSON.stringify(t)!==JSON.stringify(r)}))},[]),Object(Hl.d)(function(n){return t.source_floor===e.floor?[[t.source_longitude,t.source_latitude]].concat(n):n}),Object(Hl.d)(function(n){return t.target_floor===e.floor?n.concat([[t.target_longitude,t.target_latitude]]):n}),Object(Hl.c)(function(t){return t}),Object(Hl.e)(),Object(Hl.d)(function(t){return{geometry:new Pp(t)}}),Object(Hl.d)(function(t){return new yp(t)})).subscribe(function(t){return n.source.addFeature(t)},function(){},function(){t.source_floor===e.floor&&n.source.addFeature(n.createStartPoint(t.source_longitude,t.source_latitude)),t.target_floor===e.floor&&n.source.addFeature(n.createEndPoint(t.target_longitude,t.target_latitude))})}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);Rp.defaultProps={routes:null,map:null},Rp.propTypes={routes:ql.a.object,map:ql.a.object},Rp.contextTypes={map:ql.a.object};var Ip="data:image/png;base64,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",kp="data:image/png;base64,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",Np="data:image/png;base64,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",Fp="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAAFSklEQVRIDaVWXWxURRQ+M3e7u/3bpVuKC5RAoRRQEFFKVBLQxJgS/yLYPhgjb8SA8QWDr8ujJPpg1KBvok9touiD9k00VgwUlKxEKKXYoNja0k0ru+3+3Bm/b3Zv3a086aTd3Zk55/vOmfOduVfJ3UYqpSWVMotbL328cmfn2jUhscmFgt8UCnt3RNTE8OjUTfnkwB+Ldkv9Khtq0SD4UWXYnfpmf1cycaitJdZZHw0nGxoaOSSbzUoul83OLxQmpjJzoyMTMx+eT+391EFU+QeQtSTWKlHKirwTefbtRz+4f1PHwfZVCakLiRhfxFr8WTGeEg0jpbFeLIn8dmtG0lfGTn1+9OwhkdfysKrglGlg9u/Rc2LXW7u7tx9sbQ5Z37d+MW91Cah725W6PG28yZyy9SExhbyIVsp0rE54zbHYy/k3/TuDb8iRpYg6WOjt7/eYxcOp7/p2bF5/hASlkkHkNoR0dcEX3R4XtW+jJ/GwqDzmzMgYGyrCjvY7tqw/TH/iOLwKeJkE6Q309eFAxNuQjL+ydk2b+EY417pyoPwCkcQiIk9t1NJUJwIi8YCAIwSZ+PSjP3EcHo+NIPzoHRgokx3+6sFVbS2P8cDFGK8IfeWKPBJMsRTxRMYzVorGyv7NWmLhMpHbhz396C/AqcYtg3MFY1tLtKs1kVCeJybvW7UuJrJ9hZIciotoXVq5gsjAFUxA/HRXmYj1YrG1FtPamlDEcYCVD0fS39vreqJzxbLuSDQsFjMfjg11SvZ04L8dRFggURjZzKLgX1w10lIv0rMBhQFhmQfZRsLSmVzWTfwA16lLOdmKxJsiW6NRpIF6N6Dc6WkrIZzBnnWIRWkAWUduofIHViBsIN/IVLJUCsFZS/94Q3gbSQLcGgmHtV7OnvARKSOrR9QXJkVKqOrutXqxJs90aNmaVPLtr0aGsd9YQWGm9A9rr5UkwaghAXOEaik5ijJREyzS0yJZqODJDVruu0c5lQ1eM3IVWTRj3501EJmph7MjTkCAb5yBK2F5CRk7yVUZuF2URsbnqDSCIFOgjs2KsIHu4gGS2lWS8GTcQLrud8DEgrIX6tETL2xWKLSSsRkr85DTi1uVNEPC81BeYL8UJ5iTZHGgu/OMkm50JEAciR/YoiAAEGJOCff/gu7D/nObtCQbcbwIjfb0oj9xMA2GrSEpGDPNCw96R8OJrATA82g6OhI4V7Auq9sLIqevWolHRZ6ACHC9OKXhmNyFSZyAgd+OBMwMROayxfTCgs/CKXY1o8zMW/kMzTeHDEJAK2dqZSfUxUDSkxbqQxaQtcJtSf/ZXP5n4gW4jqSvcq1cm5wZzueBBkrIXS4jntMj1qmJVworRpIe9M29UNkQJHwBJDxKypeZ0H90Yu48SQLcGgmnMwsjt2/P2ERsNWLic0VUBI505nWJq0Y2tikX+ZkxIz9NQcIoPpuS9mgnTf90JjdCkmC4TAYq14q8v+/iranMGQNQrbXPyMnEKDnIxaiHxo1cBEEjVEcC7tOefvQnDu0DXEfCA63c//71P2dPjt+cYvHxfFnsM1dcXvVD41YuMYMqAmRqaE+/6xOzJ4HvB88nkjG4fwYFAMKeEz+8+/gjDx1ZzgcXnoxIR+G+Ui14WE3NW1WnFS1dV+GYDAThTf9VUl+f/fG9wWO7XkVqDicALmcSzCrfg8fOHR06f+mjG7/PKKtVKBTB7e9pnSloidZ5vkbbY6rrIlpzn3bfD186NXjsy9cdxPHjNcHXTJxB1dvG0rcVvqrUNzQKXlT+x9tKkFEVkVuqvHehxMnSf3jv+htZK4dhZ1wLsQAAAABJRU5ErkJggg==",jp="data:image/png;base64,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",Dp="data:image/png;base64,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",Gp="data:image/png;base64,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",zp="data:image/png;base64,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",Up=function(t){if(null===t||void 0===t||null===t.latitude||void 0===t.latitude||null===t.longitude||void 0===t.longitude)return null;if(t.projection&&"EPSG:4326"===t.projection){var e=Gt([t.longitude,t.latitude],"EPSG:4326","EPSG:3857");t.longitude=e[0],t.latitude=e[1],t.projection="EPSG:3857"}var n=new yp({geometry:new wp([t.longitude,t.latitude])});return n.data=t,n.setStyle([new pp({image:new Lp({anchor:[.5,.5],scale:.4,src:void 0===t.direction?Ip:kp,rotation:void 0===t.direction?0:t.direction*Math.PI/180})})]),n},Bp=function(t){if(null===t||void 0===t||null===t.latitude||void 0===t.latitude||null===t.longitude||void 0===t.longitude)return null;if(t.projection&&"EPSG:4326"===t.projection){var e=Gt([t.longitude,t.latitude],"EPSG:4326","EPSG:3857");t.longitude=e[0],t.latitude=e[1],t.projection="EPSG:3857"}var n=new yp({geometry:new wp([t.longitude,t.latitude])});return t.type=$l,n.data=t,n.setStyle([new pp({image:new Lp({anchor:[.5,1],scale:.4,src:Np})})]),n},Zp=function(t){if(null===t||void 0===t||null===t.latitude||void 0===t.latitude||null===t.longitude||void 0===t.longitude)return null;if(t.projection&&"EPSG:4326"===t.projection){var e=Gt([t.longitude,t.latitude],"EPSG:4326","EPSG:3857");t.longitude=e[0],t.latitude=e[1],t.projection="EPSG:3857"}var n=new yp({geometry:new wp([t.longitude,t.latitude])});return t.type=th,n.data=t,n.setStyle([new pp({image:new Lp({anchor:[.5,.5],scale:.8,src:Fp})})]),n},Wp=function(t){if(null===t||void 0===t||null===t.tag||void 0===t.tag||null===t.tag.latitude||void 0===t.tag.latitude||null===t.tag.longitude||void 0===t.tag.longitude)return null;if(t.tag.projection&&"EPSG:4326"===t.tag.projection){var e=Gt([t.tag.longitude,t.tag.latitude],"EPSG:4326","EPSG:3857");t.tag.longitude=e[0],t.tag.latitude=e[1],t.tag.projection="EPSG:3857"}var n=new yp({geometry:new wp([t.tag.longitude,t.tag.latitude])});return t.type=eh,n.data=t,n.setStyle([new pp({image:new Lp({anchor:[.5,1],scale:.4,src:jp})})]),n},Xp=function(t){if(null===t||void 0===t||null===t.tag||void 0===t.tag||null===t.tag.latitude||void 0===t.tag.latitude||null===t.tag.longitude||void 0===t.tag.longitude)return null;if(t.tag.projection&&"EPSG:4326"===t.tag.projection){var e=Gt([t.tag.longitude,t.tag.latitude],"EPSG:4326","EPSG:3857");t.tag.longitude=e[0],t.tag.latitude=e[1],t.tag.projection="EPSG:3857"}var n=new yp({geometry:new wp([t.tag.longitude,t.tag.latitude])});return t.type=nh,n.data=t,n.setStyle([new pp({image:new Lp({anchor:[.5,1],scale:.4,src:Dp})})]),n},Vp=function(t){if(null===t||void 0===t||null===t.latitude||void 0===t.latitude||null===t.longitude||void 0===t.longitude)return null;if(t.projection&&"EPSG:4326"===t.projection){var e=Gt([t.longitude,t.latitude],"EPSG:4326","EPSG:3857");t.longitude=e[0],t.latitude=e[1],t.projection="EPSG:3857"}var n=new yp({geometry:new wp([t.longitude,t.latitude])});return t.type=ih,n.data=t,n.setStyle([new pp({image:new Lp({anchor:[.5,.5],scale:.4,src:"data:image/png;base64,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"})})]),n},Hp=function(t){if(null===t||void 0===t||null===t.latitude||void 0===t.latitude||null===t.longitude||void 0===t.longitude)return null;if(t.projection&&"EPSG:4326"===t.projection){var e=Gt([t.longitude,t.latitude],"EPSG:4326","EPSG:3857");t.longitude=e[0],t.latitude=e[1],t.projection="EPSG:3857"}var n=new yp({geometry:new wp([t.longitude,t.latitude])});return t.type=rh,n.data=t,n.setStyle([new pp({image:new Lp({anchor:[.5,1],scale:.4,src:Gp})})]),n},Yp=function(t){if(null===t||void 0===t||null===t.latitude||void 0===t.latitude||null===t.longitude||void 0===t.longitude)return null;if(t.projection&&"EPSG:4326"===t.projection){var e=Gt([t.longitude,t.latitude],"EPSG:4326","EPSG:3857");t.longitude=e[0],t.latitude=e[1],t.projection="EPSG:3857"}var n=new yp({geometry:new wp([t.longitude,t.latitude])});return t.type=oh,n.data=t,n.setStyle([new pp({image:new Lp({anchor:[.5,1],scale:.4,src:zp})})]),n},qp=function(t){function e(){return uc(this,e),cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){this.source=new Sc;var t=new mp({source:this.source});t.setZIndex(2),this.context.map.addLayer(t),this.loadPosition(this.props.position)}},{key:"shouldComponentUpdate",value:function(t){return null===this.props.position||void 0===this.props.position||t.position!==this.props.position}},{key:"componentWillUpdate",value:function(t){this.loadPosition(t.position)}},{key:"loadPosition",value:function(t){var e=this;Object(Vl.c)(t).pipe(Object(Hl.h)(function(){return e.source.clear()}),Object(Hl.a)(function(t){return null!==t&&void 0!==t}),Object(Hl.d)(function(t){return Up(t)}),Object(Hl.h)(function(t){return e.source.addFeature(t)})).subscribe()}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);qp.defaultProps={position:null},qp.propTypes={position:ql.a.object},qp.contextTypes={map:ql.a.object};var Kp={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"},Jp={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"},Qp={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},$p=function(t){function e(e){t.call(this),this.options=e,this.id=e.id,this.insertFirst=void 0===e.insertFirst||e.insertFirst,this.stopEvent=void 0===e.stopEvent||e.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==e.className?e.className:"ol-overlay-container "+Zc,this.element.style.position="absolute",this.autoPan=void 0!==e.autoPan&&e.autoPan,this.autoPanAnimation=e.autoPanAnimation||{},this.autoPanMargin=void 0!==e.autoPanMargin?e.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,f(this,S(Qp.ELEMENT),this.handleElementChanged,this),f(this,S(Qp.MAP),this.handleMapChanged,this),f(this,S(Qp.OFFSET),this.handleOffsetChanged,this),f(this,S(Qp.POSITION),this.handlePositionChanged,this),f(this,S(Qp.POSITIONING),this.handlePositioningChanged,this),void 0!==e.element&&this.setElement(e.element),this.setOffset(void 0!==e.offset?e.offset:[0,0]),this.setPositioning(void 0!==e.positioning?e.positioning:Jp.TOP_LEFT),void 0!==e.position&&this.setPosition(e.position)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getElement=function(){return this.get(Qp.ELEMENT)},e.prototype.getId=function(){return this.id},e.prototype.getMap=function(){return this.get(Qp.MAP)},e.prototype.getOffset=function(){return this.get(Qp.OFFSET)},e.prototype.getPosition=function(){return this.get(Qp.POSITION)},e.prototype.getPositioning=function(){return this.get(Qp.POSITIONING)},e.prototype.handleElementChanged=function(){Vt(this.element);var t=this.getElement();t&&this.element.appendChild(t)},e.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&(Xt(this.element),g(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var t=this.getMap();if(t){this.mapPostrenderListenerKey=f(t,Kp.POSTRENDER,this.render,this),this.updatePixelPosition();var e=this.stopEvent?t.getOverlayContainerStopEvent():t.getOverlayContainer();this.insertFirst?e.insertBefore(this.element,e.childNodes[0]||null):e.appendChild(this.element)}},e.prototype.render=function(){this.updatePixelPosition()},e.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},e.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(Qp.POSITION)&&this.autoPan&&this.panIntoView()},e.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},e.prototype.setElement=function(t){this.set(Qp.ELEMENT,t)},e.prototype.setMap=function(t){this.set(Qp.MAP,t)},e.prototype.setOffset=function(t){this.set(Qp.OFFSET,t)},e.prototype.setPosition=function(t){this.set(Qp.POSITION,t)},e.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),n=this.getElement(),i=this.getRect(n,[Bt(n),Zt(n)]),r=this.autoPanMargin;if(!U(e,i)){var o=i[0]-e[0],s=e[2]-i[2],a=i[1]-e[1],u=e[3]-i[3],l=[0,0];if(o<0?l[0]=o-r:s<0&&(l[0]=Math.abs(s)+r),a<0?l[1]=a-r:u<0&&(l[1]=Math.abs(u)+r),0!==l[0]||0!==l[1]){var h=t.getView().getCenter(),c=t.getPixelFromCoordinate(h),p=[c[0]+l[0],c[1]+l[1]];t.getView().animate({center:t.getCoordinateFromPixel(p),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},e.prototype.getRect=function(t,e){var n=t.getBoundingClientRect(),i=n.left+window.pageXOffset,r=n.top+window.pageYOffset;return[i,r,i+e[0],r+e[1]]},e.prototype.setPositioning=function(t){this.set(Qp.POSITIONING,t)},e.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},e.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(!t||!t.isRendered()||!e)return void this.setVisible(!1);var n=t.getPixelFromCoordinate(e),i=t.getSize();this.updateRenderedPosition(n,i)},e.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,i=this.getOffset(),r=this.getPositioning();this.setVisible(!0);var o=i[0],s=i[1];if(r==Jp.BOTTOM_RIGHT||r==Jp.CENTER_RIGHT||r==Jp.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=n.left="");var a=Math.round(e[0]-t[0]-o)+"px";this.rendered.right_!=a&&(this.rendered.right_=n.right=a)}else{""!==this.rendered.right_&&(this.rendered.right_=n.right=""),r!=Jp.BOTTOM_CENTER&&r!=Jp.CENTER_CENTER&&r!=Jp.TOP_CENTER||(o-=this.element.offsetWidth/2);var u=Math.round(t[0]+o)+"px";this.rendered.left_!=u&&(this.rendered.left_=n.left=u)}if(r==Jp.BOTTOM_LEFT||r==Jp.BOTTOM_CENTER||r==Jp.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=n.top="");var l=Math.round(e[1]-t[1]-s)+"px";this.rendered.bottom_!=l&&(this.rendered.bottom_=n.bottom=l)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=n.bottom=""),r!=Jp.CENTER_LEFT&&r!=Jp.CENTER_CENTER&&r!=Jp.CENTER_RIGHT||(s-=this.element.offsetHeight/2);var h=Math.round(t[1]+s)+"px";this.rendered.top_!=h&&(this.rendered.top_=n.top=h)}},e.prototype.getOptions=function(){return this.options},e}(vh),tf="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAABGdBTUEAALGPC/xhBQAABENJREFUWAnFWGmITWEYfs6ZYawxkWWGjJghZYkspTCIEik0fqgZZEnZMv6RH6IoxPAHNRP/+EETskSWsv0gJGrsZiOksTS2ucfznuXec76z3HO58tbtnO/93uX53u/93vN+V8MfUP/9RsFPA8U6UJBIoEBM6DqaEkBTOw1P6tdoTZma1eIqFB4wStrasJAKcw0DY6L0NA13DKA2JwfHGldrdVGyzlxaIIVVRr82A1thoIJKDEJGlICGIzkatjSu1RqiNCOB9N1nbKDydkagQ5SRdHN00kpAm5vXaXvCZAOBDK4y8r4mcIjhLQ9T/BM+nR3trGPF07Xad1XfB8QGcYEgJqnC2RjT4TWCmaGC8e25HYl/AkIWIgsUH+qiPEAkJ7K9HapDG0y5nX/J6eTWyOlgTagjkI7JWftlZC/g7VfgDX9R1LU9MGswcLsReNkSJQnmLlpZe0qc05SMiBzRIBCjegMnFgDXK4DK8UCHnGAH84YAD5YDO0qB7jHOmPgyy4JtzgQixcquEz4vEgmd8Du1AzZOAOYP9YlgAmvr/pkEmQusPg/ce+uXCeSwNpm+OWkCkYrpvKsKzV+A6vspbtkwoL0SlZWjLbD1n4AzT1OyMd5027cFhAueG6W08yaw/Iy19+O4+urZXjCD8i3tjowIbXlobF+g2J73TNgDx7cuH7B0344fbcBprrTsJHDpJTCtKAUmj9HpwiQV6tkJ2DQxBWZOMXB8HiB5FkbiWzBofaqMyUjgSpigypdtkYgImC1XgVI+Swd4pT60At9+AYVdreeIw8DnH14Zz0jHlFwmSQE/37FJorP0NFAxHJhaBExRQIihHnYBSPBoVF5MA4LygiHX6SfEQFySPCgtCgbxhsktq3/2ETh4F7gVozMRDEyvzEhyomaOfzvEypVXwOJTwHdGLRNi/2LorG4xMFtmJT/CQFyvBx6/B/JjFDMVJIE068yPWEBMEExSNTHF6I0GKwqr2LdJFe7TWXUVPRYMuvSY0WJWsaohCElOlWQ7Lr5IzQ3snjkYwaBLoys9purAPV7IairHa2w1sOtWasbJCam8lwnIoUzAiG/BQPNmj1DrGAl6FnUDzj0HGj4Dxx5ZEg4ISUz5LWGSBoFxjnKQXeHxhJu+TSDSbZPHrQqmU9y8ZSPpjL/d04NPRxgY0YmghO3b+taYLT+77TCFh++AlWeB3izhtXXAIq4h6IgGgXndEmaVfPp0rhuaIxbVGDkycZ+ST9KftLBFPs8tDSI69jRGSSAibLaKBnYHKWabxyStdF8vPEBMMHuNI0yg8mw7dtuj06PN67UKN89MVjdD7h0UvObmZfNdbIsP1aYPiNw35N4hqFXhvx2LzaA7jdjlXDiZLb+BbdwqX2cfruWfoZO0V05fRNxmJJn4USwh3BryQ+uMW0d5l0t4jdhwJ6YiYw4jI+JW+O9/S7jBOO//4o+a32bQdanFekpiAAAAAElFTkSuQmCC",ef="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAiCAYAAAA6RwvCAAAABGdBTUEAALGPC/xhBQAABBJJREFUWAnNWFuIVlUU/tY+v3NJRrBRqL8cQ21MCJEmkgh6NCPUSiGfHPLBt7Fw8CGIeQjrJaYH7SmIsodACG18iOolECK6GEqKYKUyo6MwdvEyzq2zV2vt+c//n9s+c2acQTf8/Huv63fW2WvttQ9hDoMPba1iKng8tFwloKomGBgODA1jUfg79Rwfnq1ZsVNucP8rnRb8Gpi3MXNXkRYRnQTRgAEdod5j54tkI96MQPjgq4/ayfAdeeRuBptIscw/gSwIh01T0Ed7j14u0ikEEvZv3QeLdyXsLUVGZuJJhMZA/HbQe/wDn2wuED7Y02wnBj+SCOzyKc6FLhH6zDR37KG9hybS+hkgCiKcHPxW9sLzaeF5WROdCJo6NqXBZN65RmLBQOiTyAM6H6mnSgDRPTHfryPlzy3Vh9t/MWb91dSy47ykZmuM758ufhC0YTNo+WNOhkcugU99DYz+7deJcXQDSzZ1RtlUiXiaoqVBdKyHefktUNMDkTpozUbwU1tgB94DBn+r030T9eXKArBbZVxEXLGy9lypOiHOzesfgtrac33wreuwn/QAk3dy+XGi1hljzDotem6PaMUsBUKRr+ryglAn1LbMycQd+ubq01VrEZjerFK2fcIZem1PZOhxQhmZSL7m2+gBNtPZEem4/9F/EsvcRRmZmqL6VgxGT9FcYx4iD52VUiBF3zOUx0NnPFwPWTAYPco97HzyyEVJ06/yeUJ1PEnl2QzFUJG0qfqfL98cf/cx7Pht0MYdIBM4IbYh+McvwD8cyVcqoCqGeh0pkMuy1On3n4N//hJ4aPU0/9qfpVI2a0woZLminVUu00ckaXfWPges3ABathJobdPzAxi7Cb4u1fXir8AfPwnN+ixk6MzmakXbuzDM8LKEoCIl/SVQ1xbQkuVZ/tKHQdW1wPoXwP9eA58cAJ/+BpDozTQUA2nqhOO4UijcvBhme584eqJQLM3U7LHHDsgrG0uzEuugBY8YbXRdj5lgJRfmxTdnDUIt0IonYTa/kTSWWqlvxTBdWaXRTfEby0UtcqA901jPckadzwJiwztqvh0Q121ro5s3iozkyefRmhundJztDj3p9JXmgLiWX7rtuFB9/t9kYSWty3kmrgpPZVrUaWnxGV036nVEW37pD3aKYrIxkuPcftojJ+rTQPsKUOsSSVn5aaRISpGksxuarprGU+PA+C3wnRvAX0PgC78AE6MZmLXGqC9iiKXGcK2iRX+DsnAzwd8bv14kgKjb8P1th+XY2rVwECSIcq0I9g90x33U4tog6b1DQn6iQZnnmdh2PlJmM0D0vuHuHYI6JXvXSxeJnDuNGs68mrg31/IzHchs4LhQibluzDldOeO274tLeALQvf4sEQcTzRfiQ83/xvegH5oa35MAAAAASUVORK5CYII=",nf="data:image/png;base64,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",rf=function(t){function e(t){uc(this,e);var n=cc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.selectFeature=function(t){if(t){var e=t.getStyle()[0].getImage();switch(t.data.type){case $l:case nh:case eh:case oh:case rh:e.setScale(.5),t.setStyle([new pp({image:e})])}}},n.unselectFeature=function(t){if(t){var e=t.getStyle()[0].getImage();switch(t.data.type){case $l:case nh:case eh:case oh:case rh:e.setScale(.4),t.setStyle([new pp({image:e})])}}},n.showPopup=function(t){if(n.unselectFeature(n.feature),t&&t.data)switch(t.data.type){case th:n.selectFeature(t),n.feature=t,n.showNodePopup(t.data);break;case ih:n.selectFeature(t),n.feature=t,n.showTargetPopup(t.data);break;case $l:n.selectFeature(t),n.feature=t,n.showLampPopup(t.data);break;case nh:n.selectFeature(t),n.feature=t,n.showSeniorPopup(t.data);break;case eh:n.selectFeature(t),n.feature=t,n.showNursePopup(t.data);break;case oh:n.selectFeature(t),n.feature=t,n.showUserPopup(t.data);break;case rh:n.selectFeature(t),n.feature=t,n.showSupporterPopup(t.data);break;default:n.feature=null}else n.layer.setPosition(void 0),n.feature=null},n.showNodePopup=function(t){n.ref.innerHTML="<div class='popup' style='background:url("+nf+") no-repeat'><span style='display:block;'><strong>\u84dd\u7259\u8282\u70b9\u4fe1\u606f</strong></span><span style='display:block;'>\u5730\u5740:"+(t.mac_address?t.mac_address:"")+"</span><span style='display:block;'>\u7ecf\u5ea6:"+t.longitude.toFixed(5)+"</span><span style='display:block;'>\u7eac\u5ea6:"+t.latitude.toFixed(5)+"</span></div>",n.layer.setPosition([t.longitude,t.latitude])},n.showTargetPopup=function(t){n.ref.innerHTML="<div class='popup' style='background:url("+nf+") no-repeat'><span style='display:block;'><strong>\u76ee\u6807\u4fe1\u606f</strong></span><span style='display:block;'>\u7ecf\u5ea6:"+t.longitude.toFixed(5)+"</span><span style='display:block;'>\u7eac\u5ea6:"+t.latitude.toFixed(5)+"</span></div>",n.layer.setPosition([t.longitude,t.latitude])},n.showLampPopup=function(t){n.ref.innerHTML="<div class='popup' style='background:url("+nf+") no-repeat'><span style='display:block;'><strong>\u5b9a\u4f4d\u706f\u4fe1\u606f</strong></span><span style='display:block;'>\u7ecf\u5ea6:"+t.longitude.toFixed(5)+"</span><span style='display:block;'>\u7eac\u5ea6:"+t.latitude.toFixed(5)+"</span></div>",n.layer.setPosition([t.longitude,t.latitude])},n.showSeniorPopup=function(t){var e="undefined"!==typeof android&&"undefined"!==typeof android.showSenior?"<span class='detail-btn' onclick={android.showSenior("+t.id+")}>\u67e5\u770b\u8be6\u60c5</span>":"";n.ref.innerHTML="<div class='popup' style='background:url("+nf+") no-repeat'><span style='display:block;'><strong>\u8001\u4eba\u4fe1\u606f</strong></span><span style='display:block;'>\u7535\u8bdd: xxxxxxx</span><br/><span style='display:block;'>\u4f4d\u7f6e: xxxxxxx</span><span style='display:block;'>\u5176\u4ed6: xxxxxxx</span>"+e+"</div>",n.layer.setPosition([t.tag.longitude,t.tag.latitude])},n.showNursePopup=function(t){var e="undefined"!==typeof android&&"undefined"!==typeof android.showNurse?"<span class='detail-btn' onclick={android.showNurse("+t.id+")}>\u67e5\u770b\u8be6\u60c5</span>":"";n.ref.innerHTML="<div class='popup' style='background:url("+nf+") no-repeat'><span style='display:block;'><strong>\u62a4\u58eb\u4fe1\u606f</strong><span style='display:block;'>\u7535\u8bdd: xxxxxxx</span><br/><span style='display:block;'>\u4f4d\u7f6e: xxxxxxx</span><span style='display:block;'>\u5176\u4ed6: xxxxxxx</span>"+e+"</div>",n.layer.setPosition([t.tag.longitude,t.tag.latitude])},n.showUserPopup=function(t){var e="undefined"!==typeof android&&"undefined"!==typeof android.showUser?"<span class='detail-btn' onclick={android.showUser("+t.id+")}>\u67e5\u770b\u8be6\u60c5</span>":"",i=n.getPopupStatus(t.updateTime);n.ref.innerHTML="<div class='popup' style='background:url("+nf+") no-repeat'><div><img src=\""+ef+"\"/><span class='title'><strong>"+(t.name?t.name:"")+"</strong>"+i+"</span></div><div class='subtitle'>"+(t.company&&t.company.name?t.company.name:"")+"</div><span class='subsubtitle'>"+(t.id?t.id:"")+"</span>"+e+"</div>",n.layer.setPosition([t.longitude,t.latitude])},n.showSupporterPopup=function(t){var e="undefined"!==typeof android&&"undefined"!==typeof android.showSupporter?"<span class='detail-btn' onclick={android.showSupporter("+t.id+")}>\u67e5\u770b\u8be6\u60c5</span>":"",i=n.getPopupStatus(t.updateTime);n.ref.innerHTML="<div class='popup' style='background:url("+nf+") no-repeat'><div><img src=\""+tf+"\"/><span class='title'><strong>"+t.name+"</strong>"+i+"</span></div><div class='subtitle'>"+(t.company&&t.company.name?t.company.name:"")+"</div><span class='subsubtitle'>\u7528\u6237ID: "+t.id+"</span>"+e+"</div>",n.layer.setPosition([t.longitude,t.latitude])},n.getPopupStatus=function(t){var e=Math.floor(((new Date).getTime()-new Date(t).getTime())/1e3);return e>0&&e<5?'<span class="dot-green"></span>':e<300?'<span class="dot-orange"></span>':e<1800?'<span class="dot-red"></span>':e<3600?'<span class="dot-grey"></span>':""},n.feature=null,n}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){var t=this;this.layer=new $p({element:this.ref,positioning:"bottom-center",offset:[0,-10]}),this.context.map.addOverlay(this.layer),Object(Vl.b)(this.context.map,"singleclick").pipe(Object(Hl.a)(function(t){return!t.dragging}),Object(Hl.h)(function(){return t.layer.setPosition(null)}),Object(Hl.d)(function(e){return t.context.map.getEventPixel(e.originalEvent)}),Object(Hl.d)(function(e){return t.context.map.forEachFeatureAtPixel(e,function(t){return t})}),Object(Hl.a)(function(t){return t}),Object(Hl.h)(function(t){"undefined"!==typeof android&&"undefined"!==typeof android.clickFeature&&android.clickFeature(t&&t.data?JSON.stringify(t.data):"")}),Object(Hl.h)(function(e){t.props.onFeatureClick(e.data)&&t.loadSelect(e.data)})).subscribe(),this.loadSelect(this.props.select)}},{key:"shouldComponentUpdate",value:function(t){return t.select!==this.props.select||null!==t&&null!==this.props.select}},{key:"componentWillUpdate",value:function(t){this.loadSelect(t.select)}},{key:"loadSelect",value:function(t){var e=this;Object(Vl.c)(t).pipe(Object(Hl.h)(function(){e.feature&&(e.unselectFeature(e.feature),e.layer.setPosition(void 0))}),Object(Hl.a)(function(t){return null!==t&&void 0!==t}),Object(Hl.d)(function(){return e.context.map.getLayers().getArray()}),Object(Hl.c)(function(t){return t}),Object(Hl.a)(function(t){return"VECTOR"===t.getType()}),Object(Hl.c)(function(t){return t.getSource().getFeatures()}),Object(Hl.a)(function(t){return t.data}),Object(Hl.a)(function(e){return Object.keys(e.data).filter(function(t){return"type"!==t}).every(function(n){return JSON.stringify(e.data[n])===JSON.stringify(t[n])})}),Object(Hl.h)(function(t){e.showPopup(t),e.context.map.getView().animate({center:t.getGeometry().getCoordinates(),duration:800})})).subscribe()}},{key:"render",value:function(){var t=this;return Xl.a.createElement("div",{ref:function(e){return t.ref=e}})}}]),e}(Wl.Component);rf.defaultProps={select:null,onFeatureClick:function(){return!0}},rf.propTypes={select:ql.a.object,onFeatureClick:ql.a.func},rf.contextTypes={map:ql.a.object};var of=function(t){function e(){return uc(this,e),cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){var t=this;Object(Vl.b)(this.context.map,"singleclick").pipe(Object(Hl.h)(function(e){return t.props.onSingleClick(e)}),Object(Hl.d)(function(t){return t.coordinate}),Object(Hl.h)(function(e){console.log({coord3857:e,coord4326:Gt(e,"EPSG:3857","EPSG:4326"),zoom:t.context.map.getView().getZoom(),maxZoom:t.context.map.getView().getMaxZoom(),minZoom:t.context.map.getView().getMinZoom(),resolution:t.context.map.getView().getResolution(),extent:t.context.map.getView().calculateExtent(t.context.map.getSize())})})).subscribe(),Object(Vl.b)(this.context.map,"dblclick").pipe(Object(Hl.h)(function(e){return t.props.onDoubleClick(e)}),Object(Hl.d)(function(t){return t.coordinate}),Object(Hl.h)(function(t){return console.log(t)}),Object(Hl.h)(function(t){"undefined"!==typeof android&&"undefined"!==typeof android.showPosition&&android.showPosition(t[0],t[1])})).subscribe()}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);of.defaultProps={onSingleClick:function(){return!1},onDoubleClick:function(){return!1}},of.propTypes={onSingleClick:ql.a.func,onDoubleClick:ql.a.func},of.contextTypes={map:ql.a.object};var sf=function(){this.dataProjection=null,this.defaultFeatureProjection=null};sf.prototype.getReadOptions=function(t,e){var n;return e&&(n={dataProjection:e.dataProjection?e.dataProjection:this.readProjection(t),featureProjection:e.featureProjection}),this.adaptOptions(n)},sf.prototype.adaptOptions=function(t){return lh({dataProjection:this.dataProjection,featureProjection:this.defaultFeatureProjection},t)},sf.prototype.getLastExtent=function(){return null},sf.prototype.getType=function(){return _()},sf.prototype.readFeature=function(t,e){return _()},sf.prototype.readFeatures=function(t,e){return _()},sf.prototype.readGeometry=function(t,e){return _()},sf.prototype.readProjection=function(t){return _()},sf.prototype.writeFeature=function(t,e){return _()},sf.prototype.writeFeatures=function(t,e){return _()},sf.prototype.writeGeometry=function(t,e){return _()};var af=function(t){function e(){t.call(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return yc.JSON},e.prototype.readFeature=function(t,e){return this.readFeatureFromObject(Vn(t),this.getReadOptions(t,e))},e.prototype.readFeatures=function(t,e){return this.readFeaturesFromObject(Vn(t),this.getReadOptions(t,e))},e.prototype.readFeatureFromObject=function(t,e){return _()},e.prototype.readFeaturesFromObject=function(t,e){return _()},e.prototype.readGeometry=function(t,e){return this.readGeometryFromObject(Vn(t),this.getReadOptions(t,e))},e.prototype.readGeometryFromObject=function(t,e){return _()},e.prototype.readProjection=function(t){return this.readProjectionFromObject(Vn(t))},e.prototype.readProjectionFromObject=function(t){return _()},e.prototype.writeFeature=function(t,e){return JSON.stringify(this.writeFeatureObject(t,e))},e.prototype.writeFeatureObject=function(t,e){return _()},e.prototype.writeFeatures=function(t,e){return JSON.stringify(this.writeFeaturesObject(t,e))},e.prototype.writeFeaturesObject=function(t,e){return _()},e.prototype.writeGeometry=function(t,e){return JSON.stringify(this.writeGeometryObject(t,e))},e.prototype.writeGeometryObject=function(t,e){return _()},e}(sf),uf=function(t){function e(e){t.call(this),this.geometries_=e||null,this.listenGeometriesChange_()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)m(this.geometries_[t],hh.CHANGE,this.changed,this)},e.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var t=0,e=this.geometries_.length;t<e;++t)f(this.geometries_[t],hh.CHANGE,this.changed,this)},e.prototype.clone=function(){var t=new e(null);return t.setGeometries(this.geometries_),t},e.prototype.closestPointXY=function(t,e,n,i){if(i<G(this.getExtent(),t,e))return i;for(var r=this.geometries_,o=0,s=r.length;o<s;++o)i=r[o].closestPointXY(t,e,n,i);return i},e.prototype.containsXY=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)if(n[i].containsXY(t,e))return!0;return!1},e.prototype.computeExtent=function(t){V(t);for(var e=this.geometries_,n=0,i=e.length;n<i;++n)J(t,e[n].getExtent());return t},e.prototype.getGeometries=function(){return Hn(this.geometries_)},e.prototype.getGeometriesArray=function(){return this.geometries_},e.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&(r(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var n=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(n))return this.simplifiedGeometryCache[n];for(var i=[],o=this.geometries_,s=!1,a=0,u=o.length;a<u;++a){var l=o[a],h=l.getSimplifiedGeometry(t);i.push(h),h!==l&&(s=!0)}if(s){var c=new e(null);return c.setGeometriesArray(i),this.simplifiedGeometryCache[n]=c,c}return this.simplifiedGeometryMaxMinSquaredTolerance=t,this},e.prototype.getType=function(){return Nh.GEOMETRY_COLLECTION},e.prototype.intersectsExtent=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)if(e[n].intersectsExtent(t))return!0;return!1},e.prototype.isEmpty=function(){return 0===this.geometries_.length},e.prototype.rotate=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].rotate(t,e);this.changed()},e.prototype.scale=function(t,e,n){var i=n;i||(i=st(this.getExtent()));for(var r=this.geometries_,o=0,s=r.length;o<s;++o)r[o].scale(t,e,i);this.changed()},e.prototype.setGeometries=function(t){this.setGeometriesArray(Hn(t))},e.prototype.setGeometriesArray=function(t){this.unlistenGeometriesChange_(),this.geometries_=t,this.listenGeometriesChange_(),this.changed()},e.prototype.applyTransform=function(t){for(var e=this.geometries_,n=0,i=e.length;n<i;++n)e[n].applyTransform(t);this.changed()},e.prototype.translate=function(t,e){for(var n=this.geometries_,i=0,r=n.length;i<r;++i)n[i].translate(t,e);this.changed()},e.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),t.prototype.disposeInternal.call(this)},e}(vp),lf=function(t){function e(e,n,i){if(t.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,n);else if(void 0!==n&&i)this.setFlatCoordinates(n,e),this.ends_=i;else{for(var r=this.getLayout(),o=e,s=[],a=[],u=0,l=o.length;u<l;++u){var h=o[u];0===u&&(r=h.getLayout()),ee(s,h.getFlatCoordinates()),a.push(s.length)}this.setFlatCoordinates(r,s),this.ends_=a}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLineString=function(t){this.flatCoordinates?ee(this.flatCoordinates,t.getFlatCoordinates().slice()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<G(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(yn(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bn(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,e,n,i))},e.prototype.getCoordinateAtM=function(t,e,n){if(this.layout!=bp.XYM&&this.layout!=bp.XYZM||0===this.flatCoordinates.length)return null;var i=void 0!==e&&e,r=void 0!==n&&n;return Mn(this.flatCoordinates,0,this.ends_,this.stride,t,i,r)},e.prototype.getCoordinates=function(){return En(this.flatCoordinates,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new Pp(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,n=this.layout,i=[],r=0,o=0,s=e.length;o<s;++o){var a=e[o],u=new Pp(t.slice(r,a),n);i.push(u),r=a}return i},e.prototype.getFlatMidpoints=function(){for(var t=[],e=this.flatCoordinates,n=0,i=this.ends_,r=this.stride,o=0,s=i.length;o<s;++o){var a=i[o];ee(t,Tn(e,n,a,r,.5)),n=a}return t},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=zn(this.flatCoordinates,0,this.ends_,this.stride,t,n,0,i),new e(n,bp.XY,i)},e.prototype.getType=function(){return Nh.MULTI_LINE_STRING},e.prototype.intersectsExtent=function(t){return kn(this.flatCoordinates,0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=cn(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(xp),hf=function(t){function e(e,n){t.call(this),n&&!Array.isArray(e[0])?this.setFlatCoordinates(n,e):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPoint=function(t){this.flatCoordinates?ee(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){if(i<G(this.getExtent(),t,e))return i;for(var r=this.flatCoordinates,o=this.stride,s=0,a=r.length;s<a;s+=o){var u=P(t,e,r[s],r[s+1]);if(u<i){i=u;for(var l=0;l<o;++l)n[l]=r[s+l];n.length=o}}return i},e.prototype.getCoordinates=function(){return wn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new wp(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},e.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,n=this.stride,i=[],r=0,o=t.length;r<o;r+=n){var s=new wp(t.slice(r,r+n),e);i.push(s)}return i},e.prototype.getType=function(){return Nh.MULTI_POINT},e.prototype.intersectsExtent=function(t){for(var e=this.flatCoordinates,n=this.stride,i=0,r=e.length;i<r;i+=n){if(B(t,e[i],e[i+1]))return!0}return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=hn(this.flatCoordinates,0,t,this.stride),this.changed()},e}(xp),cf=function(t){function e(e,n){t.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===n||Array.isArray(e[0])?this.setCoordinates(e,n):this.setFlatCoordinates(n,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout)},e.prototype.closestPointXY=function(t,e,n,i){return i<G(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(gn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),vn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.getArea=function(){return Yn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getCoordinates=function(){return wn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[];return n.length=Gn(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,n,0),new e(n,bp.XY)},e.prototype.getType=function(){return Nh.LINEAR_RING},e.prototype.intersectsExtent=function(t){return!1},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=hn(this.flatCoordinates,0,t,this.stride),this.changed()},e}(xp),pf=function(t){function e(e,n,i){t.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==n&&i?(this.setFlatCoordinates(n,e),this.ends_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendLinearRing=function(t){this.flatCoordinates?ee(this.flatCoordinates,t.getFlatCoordinates()):this.flatCoordinates=t.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},e.prototype.closestPointXY=function(t,e,n,i){return i<G(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(yn(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),bn(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return On(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},e.prototype.getArea=function(){return qn(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),ii(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,En(e,0,this.ends_,this.stride)},e.prototype.getEnds=function(){return this.ends_},e.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=st(this.getExtent());this.flatInteriorPoint_=Jn(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},e.prototype.getInteriorPoint=function(){return new wp(this.getFlatInteriorPoint(),bp.XYM)},e.prototype.getLinearRingCount=function(){return this.ends_.length},e.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new cf(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},e.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o],u=new cf(e.slice(r,a),t);i.push(u),r=a}return i},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;ei(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=ii(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Zn(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),n,0,i),new e(n,bp.XY,i)},e.prototype.getType=function(){return Nh.POLYGON},e.prototype.intersectsExtent=function(t){return Fn(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=cn(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()},e}(xp),ff=function(t){function e(e,n,i){if(t.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!i&&!Array.isArray(e[0])){for(var r=this.getLayout(),o=e,s=[],a=[],u=0,l=o.length;u<l;++u){var h=o[u];0===u&&(r=h.getLayout());for(var c=s.length,p=h.getEnds(),f=0,d=p.length;f<d;++f)p[f]+=c;ee(s,h.getFlatCoordinates()),a.push(p)}n=r,e=s,i=a}void 0!==n&&i?(this.setFlatCoordinates(n,e),this.endss_=i):this.setCoordinates(e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.appendPolygon=function(t){var e;if(this.flatCoordinates){var n=this.flatCoordinates.length;ee(this.flatCoordinates,t.getFlatCoordinates()),e=t.getEnds().slice();for(var i=0,r=e.length;i<r;++i)e[i]+=n}else this.flatCoordinates=t.getFlatCoordinates().slice(),e=t.getEnds().slice(),this.endss_.push();this.endss_.push(e),this.changed()},e.prototype.clone=function(){for(var t=this.endss_.length,n=new Array(t),i=0;i<t;++i)n[i]=this.endss_[i].slice();return new e(this.flatCoordinates.slice(),this.layout,n)},e.prototype.closestPointXY=function(t,e,n,i){return i<G(this.getExtent(),t,e)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_n(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),xn(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,e,n,i))},e.prototype.containsXY=function(t,e){return An(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},e.prototype.getArea=function(){return Kn(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},e.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),ri(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,Sn(e,0,this.endss_,this.stride)},e.prototype.getEndss=function(){return this.endss_},e.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=si(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Qn(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},e.prototype.getInteriorPoints=function(){return new hf(this.getFlatInteriorPoints().slice(),bp.XYM)},e.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;ni(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=ri(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},e.prototype.getSimplifiedGeometryInternal=function(t){var n=[],i=[];return n.length=Wn(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),n,0,i),new e(n,bp.XY,i)},e.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var n=this.endss_[t-1];e=n[n.length-1]}var i=this.endss_[t].slice(),r=i[i.length-1];if(0!==e)for(var o=0,s=i.length;o<s;++o)i[o]-=e;return new pf(this.flatCoordinates.slice(e,r),this.layout,i)},e.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,n=this.endss_,i=[],r=0,o=0,s=n.length;o<s;++o){var a=n[o].slice(),u=a[a.length-1];if(0!==r)for(var l=0,h=a.length;l<h;++l)a[l]-=r;var c=new pf(e.slice(r,u),t,a);i.push(c),r=u}return i},e.prototype.getType=function(){return Nh.MULTI_POLYGON},e.prototype.intersectsExtent=function(t){return jn(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},e.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var n=pn(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===n.length)this.flatCoordinates.length=0;else{var i=n[n.length-1];this.flatCoordinates.length=0===i.length?0:i[i.length-1]}this.changed()},e}(xp),df=function(t){function e(e){var n=e||{};t.call(this),this.dataProjection=At(n.dataProjection?n.dataProjection:"EPSG:4326"),n.featureProjection&&(this.defaultFeatureProjection=At(n.featureProjection)),this.geometryName_=n.geometryName,this.extractGeometryName_=n.extractGeometryName}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeatureFromObject=function(t,e){var n=null;n="Feature"===t.type?t:{type:"Feature",geometry:t,properties:null};var i=ai(n.geometry,e),r=new yp;return this.geometryName_?r.setGeometryName(this.geometryName_):this.extractGeometryName_&&"geometry_name"in n!==void 0&&r.setGeometryName(n.geometry_name),r.setGeometry(i),"id"in n&&r.setId(n.id),n.properties&&r.setProperties(n.properties),r},e.prototype.readFeaturesFromObject=function(t,e){var n=t,i=null;if("FeatureCollection"===n.type){var r=t;i=[];for(var o=r.features,s=0,a=o.length;s<a;++s)i.push(this.readFeatureFromObject(o[s],e))}else i=[this.readFeatureFromObject(t,e)];return i},e.prototype.readGeometryFromObject=function(t,e){return ai(t,e)},e.prototype.readProjectionFromObject=function(t){var e,n=t.crs;return n?"name"==n.type?e=At(n.properties.name):T(!1,36):e=this.dataProjection,e},e.prototype.writeFeatureObject=function(t,e){e=this.adaptOptions(e);var n={type:"Feature",geometry:null,properties:null},i=t.getId();void 0!==i&&(n.id=i);var r=t.getGeometry();r&&(n.geometry=mi(r,e));var o=t.getProperties();return delete o[t.getGeometryName()],s(o)||(n.properties=o),n},e.prototype.writeFeaturesObject=function(t,e){e=this.adaptOptions(e);for(var n=[],i=0,r=t.length;i<r;++i)n.push(this.writeFeatureObject(t[i],e));return{type:"FeatureCollection",features:n}},e.prototype.writeGeometryObject=function(t,e){return mi(t,this.adaptOptions(e))},e}(af),mf=document.implementation.createDocument("","",null),gf=Ii(),yf=function(t){function e(){t.call(this),this.xmlSerializer_=new XMLSerializer}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getType=function(){return yc.XML},e.prototype.readFeature=function(t,e){if(t){if("string"===typeof t){var n=Li(t);return this.readFeatureFromDocument(n,e)}return Ci(t)?this.readFeatureFromDocument(t,e):this.readFeatureFromNode(t,e)}return null},e.prototype.readFeatureFromDocument=function(t,e){var n=this.readFeaturesFromDocument(t,e);return n.length>0?n[0]:null},e.prototype.readFeatureFromNode=function(t,e){return null},e.prototype.readFeatures=function(t,e){if(t){if("string"===typeof t){var n=Li(t);return this.readFeaturesFromDocument(n,e)}return Ci(t)?this.readFeaturesFromDocument(t,e):this.readFeaturesFromNode(t,e)}return[]},e.prototype.readFeaturesFromDocument=function(t,e){for(var n=[],i=t.firstChild;i;i=i.nextSibling)i.nodeType==Node.ELEMENT_NODE&&ee(n,this.readFeaturesFromNode(i,e));return n},e.prototype.readFeaturesFromNode=function(t,e){return _()},e.prototype.readGeometry=function(t,e){if(t){if("string"===typeof t){var n=Li(t);return this.readGeometryFromDocument(n,e)}return Ci(t)?this.readGeometryFromDocument(t,e):this.readGeometryFromNode(t,e)}return null},e.prototype.readGeometryFromDocument=function(t,e){return null},e.prototype.readGeometryFromNode=function(t,e){return null},e.prototype.readProjection=function(t){if(t){if("string"===typeof t){var e=Li(t);return this.readProjectionFromDocument(e)}return Ci(t)?this.readProjectionFromDocument(t):this.readProjectionFromNode(t)}return null},e.prototype.readProjectionFromDocument=function(t){return this.dataProjection},e.prototype.readProjectionFromNode=function(t){return this.dataProjection},e.prototype.writeFeature=function(t,e){var n=this.writeFeatureNode(t,e);return this.xmlSerializer_.serializeToString(n)},e.prototype.writeFeatureNode=function(t,e){return null},e.prototype.writeFeatures=function(t,e){var n=this.writeFeaturesNode(t,e);return this.xmlSerializer_.serializeToString(n)},e.prototype.writeFeaturesNode=function(t,e){return null},e.prototype.writeGeometry=function(t,e){var n=this.writeGeometryNode(t,e);return this.xmlSerializer_.serializeToString(n)},e.prototype.writeGeometryNode=function(t,e){return null},e}(sf),_f="http://www.opengis.net/gml",vf=/^[\s\xa0]*$/,bf=function(t){function e(e){t.call(this);var n=e||{};this.featureType=n.featureType,this.featureNS=n.featureNS,this.srsName=n.srsName,this.schemaLocation="",this.FEATURE_COLLECTION_PARSERS={},this.FEATURE_COLLECTION_PARSERS[this.namespace]={featureMember:Pi(this.readFeaturesInternal),featureMembers:Oi(this.readFeaturesInternal)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFeaturesInternal=function(t,e){var n=t.localName,i=null;if("FeatureCollection"==n)i=Ni([],this.FEATURE_COLLECTION_PARSERS,t,e,this);else if("featureMembers"==n||"featureMember"==n){var r=e[0],o=r.featureType,s=r.featureNS;if(!o&&t.childNodes){o=[],s={};for(var a=0,u=t.childNodes.length;a<u;++a){var l=t.childNodes[a];if(1===l.nodeType){var h=l.nodeName.split(":").pop();if(-1===o.indexOf(h)){var c="",p=0,f=l.namespaceURI;for(var d in s){if(s[d]===f){c=d;break}++p}c||(c="p"+p,s[c]=f),o.push(c+":"+h)}}}"featureMember"!=n&&(r.featureType=o,r.featureNS=s)}if("string"===typeof s){var m=s;s={},s.p0=m}var g={},y=Array.isArray(o)?o:[o];for(var _ in s){for(var v={},b=0,x=y.length;b<x;++b){var w=-1===y[b].indexOf(":")?"p0":y[b].split(":")[0];w===_&&(v[y[b].split(":").pop()]="featureMembers"==n?Pi(this.readFeatureElement,this):Oi(this.readFeatureElement,this))}g[s[_]]=v}i="featureMember"==n?Ni(void 0,g,t,e):Ni([],g,t,e)}return null===i&&(i=[]),i},e.prototype.readGeometryElement=function(t,e){var n=e[0];n.srsName=t.firstElementChild.getAttribute("srsName"),n.srsDimension=t.firstElementChild.getAttribute("srsDimension");var i=Ni(null,this.GEOMETRY_PARSERS,t,e,this);return i?Xn(i,!1,n):void 0},e.prototype.readFeatureElementInternal=function(t,e,n){for(var i,r={},o=t.firstElementChild;o;o=o.nextElementSibling){var s=void 0,a=o.localName;0===o.childNodes.length||1===o.childNodes.length&&(3===o.firstChild.nodeType||4===o.firstChild.nodeType)?(s=Si(o,!1),vf.test(s)&&(s=void 0)):(n&&(s=this.readGeometryElement(o,e)),s?"boundedBy"!==a&&(i=a):s=this.readFeatureElementInternal(o,e,!1)),r[a]?(r[a]instanceof Array||(r[a]=[r[a]]),r[a].push(s)):r[a]=s;var u=o.attributes.length;if(u>0){r[a]={_content_:r[a]};for(var l=0;l<u;l++){var h=o.attributes[l].name;r[a][h]=o.attributes[l].value}}}if(n){var c=new yp(r);i&&c.setGeometryName(i);var p=t.getAttribute("fid")||Mi(t,this.namespace,"id");return p&&c.setId(p),c}return r},e.prototype.readFeatureElement=function(t,e){return this.readFeatureElementInternal(t,e,!0)},e.prototype.readPoint=function(t,e){var n=this.readFlatCoordinatesFromNode_(t,e);if(n)return new wp(n,bp.XYZ)},e.prototype.readMultiPoint=function(t,e){var n=Ni([],this.MULTIPOINT_PARSERS_,t,e,this);return n?new hf(n):void 0},e.prototype.readMultiLineString=function(t,e){var n=Ni([],this.MULTILINESTRING_PARSERS_,t,e,this);if(n)return new lf(n)},e.prototype.readMultiPolygon=function(t,e){var n=Ni([],this.MULTIPOLYGON_PARSERS_,t,e,this);if(n)return new ff(n)},e.prototype.pointMemberParser_=function(t,e){ki(this.POINTMEMBER_PARSERS_,t,e,this)},e.prototype.lineStringMemberParser_=function(t,e){ki(this.LINESTRINGMEMBER_PARSERS_,t,e,this)},e.prototype.polygonMemberParser_=function(t,e){ki(this.POLYGONMEMBER_PARSERS_,t,e,this)},e.prototype.readLineString=function(t,e){var n=this.readFlatCoordinatesFromNode_(t,e);if(n){return new Pp(n,bp.XYZ)}},e.prototype.readFlatLinearRing_=function(t,e){var n=Ni(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this);return n||void 0},e.prototype.readLinearRing=function(t,e){var n=this.readFlatCoordinatesFromNode_(t,e);if(n)return new cf(n,bp.XYZ)},e.prototype.readPolygon=function(t,e){var n=Ni([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this);if(n&&n[0]){var i,r,o=n[0],s=[o.length];for(i=1,r=n.length;i<r;++i)ee(o,n[i]),s.push(o.length);return new pf(o,bp.XYZ,s)}},e.prototype.readFlatCoordinatesFromNode_=function(t,e){return Ni(null,this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.readGeometryFromNode=function(t,e){var n=this.readGeometryElement(t,[this.getReadOptions(t,e||{})]);return n||null},e.prototype.readFeaturesFromNode=function(t,e){var n={featureType:this.featureType,featureNS:this.featureNS};return e&&lh(n,this.getReadOptions(t,e)),this.readFeaturesInternal(t,[n])||[]},e.prototype.readProjectionFromNode=function(t){return At(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))},e}(yf);bf.prototype.namespace=_f,bf.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{}},bf.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{}},bf.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{}},bf.prototype.MULTIPOINT_PARSERS_={"http://www.opengis.net/gml":{pointMember:Pi(bf.prototype.pointMemberParser_),pointMembers:Pi(bf.prototype.pointMemberParser_)}},bf.prototype.MULTILINESTRING_PARSERS_={"http://www.opengis.net/gml":{lineStringMember:Pi(bf.prototype.lineStringMemberParser_),lineStringMembers:Pi(bf.prototype.lineStringMemberParser_)}},bf.prototype.MULTIPOLYGON_PARSERS_={"http://www.opengis.net/gml":{polygonMember:Pi(bf.prototype.polygonMemberParser_),polygonMembers:Pi(bf.prototype.polygonMemberParser_)}},bf.prototype.POINTMEMBER_PARSERS_={"http://www.opengis.net/gml":{Point:Pi(bf.prototype.readFlatCoordinatesFromNode_)}},bf.prototype.LINESTRINGMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:Pi(bf.prototype.readLineString)}},bf.prototype.POLYGONMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:Pi(bf.prototype.readPolygon)}},bf.prototype.RING_PARSERS={"http://www.opengis.net/gml":{LinearRing:Oi(bf.prototype.readFlatLinearRing_)}};var xf=_f+" http://schemas.opengis.net/gml/2.1.2/feature.xsd",wf={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Ef=function(t){function e(e){var n=e||{};t.call(this,n),this.FEATURE_COLLECTION_PARSERS[_f].featureMember=Pi(this.readFeaturesInternal),this.schemaLocation=n.schemaLocation?n.schemaLocation:xf}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readFlatCoordinates_=function(t,e){var n=Si(t,!1).replace(/^\s*|\s*$/g,""),i=e[0],r=i.srsName,o="enu";if(r){var s=At(r);s&&(o=s.getAxisOrientation())}for(var a=n.trim().split(/\s+/),u=[],l=0,h=a.length;l<h;l++){var c=a[l].split(/,+/),p=parseFloat(c[0]),f=parseFloat(c[1]),d=3===c.length?parseFloat(c[2]):0;"en"===o.substr(0,2)?u.push(p,f,d):u.push(f,p,d)}return u},e.prototype.readBox_=function(t,e){var n=Ni([null],this.BOX_PARSERS_,t,e,this);return X(n[1][0],n[1][1],n[1][3],n[1][4])},e.prototype.innerBoundaryIsParser_=function(t,e){var n=Ni(void 0,this.RING_PARSERS,t,e,this);if(n){e[e.length-1].push(n)}},e.prototype.outerBoundaryIsParser_=function(t,e){var n=Ni(void 0,this.RING_PARSERS,t,e,this);if(n){e[e.length-1][0]=n}},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,n){var i,r=e[e.length-1],o=r.multiSurface,s=r.surface,a=r.multiCurve;return Array.isArray(t)?i="Envelope":(i=t.getType(),"MultiPolygon"===i&&!0===o?i="MultiSurface":"Polygon"===i&&!0===s?i="Surface":"MultiLineString"===i&&!0===a&&(i="MultiCurve")),Ei("http://www.opengis.net/gml",i)},e.prototype.writeFeatureElement=function(t,e,n){var i=e.getId();i&&t.setAttribute("fid",i);var r=n[n.length-1],o=r.featureNS,s=e.getGeometryName();r.serializers||(r.serializers={},r.serializers[o]={});var a=e.getProperties(),u=[],l=[];for(var h in a){var c=a[h];null!==c&&(u.push(h),l.push(c),h==s||"function"===typeof c.getSimplifiedGeometry?h in r.serializers[o]||(r.serializers[o][h]=Ri(this.writeGeometryElement,this)):h in r.serializers[o]||(r.serializers[o][h]=Ri(zi)))}var p=lh({},r);p.node=t,ji(p,r.serializers,Ii(void 0,o),l,n,u)},e.prototype.writeCurveOrLineString_=function(t,e,n){var i=n[n.length-1],r=i.srsName;if("LineStringSegment"!==t.nodeName&&r&&t.setAttribute("srsName",r),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var o=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(o),this.writeCoordinates_(o,e,n)}else if("Curve"===t.nodeName){var s=Ei(t.namespaceURI,"segments");t.appendChild(s),this.writeCurveSegments_(s,e,n)}},e.prototype.writeLineStringOrCurveMember_=function(t,e,n){var i=this.GEOMETRY_NODE_FACTORY_(e,n);i&&(t.appendChild(i),this.writeCurveOrLineString_(i,e,n))},e.prototype.writeMultiCurveOrLineString_=function(t,e,n){var i=n[n.length-1],r=i.hasZ,o=i.srsName,s=i.curve;o&&t.setAttribute("srsName",o);var a=e.getLineStrings();ji({node:t,hasZ:r,srsName:o,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)},e.prototype.writeGeometryElement=function(t,e,n){var i=n[n.length-1],r=lh({},i);r.node=t;var o;o=Array.isArray(e)?i.dataProjection?zt(e,i.featureProjection,i.dataProjection):e:Xn(e,!0,i),ji(r,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[o],n,void 0,this)},e.prototype.createCoordinatesNode_=function(t){var e=Ei(t,"coordinates");return e.setAttribute("decimal","."),e.setAttribute("cs",","),e.setAttribute("ts"," "),e},e.prototype.writeCoordinates_=function(t,e,n){for(var i=n[n.length-1],r=i.hasZ,o=i.srsName,s=e.getCoordinates(),a=s.length,u=new Array(a),l=0;l<a;++l){var h=s[l];u[l]=this.getCoords_(h,o,r)}zi(t,u.join(" "))},e.prototype.writeCurveSegments_=function(t,e,n){var i=Ei(t.namespaceURI,"LineStringSegment");t.appendChild(i),this.writeCurveOrLineString_(i,e,n)},e.prototype.writeSurfaceOrPolygon_=function(t,e,n){var i=n[n.length-1],r=i.hasZ,o=i.srsName;if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var s=e.getLinearRings();ji({node:t,hasZ:r,srsName:o},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,s,n,void 0,this)}else if("Surface"===t.nodeName){var a=Ei(t.namespaceURI,"patches");t.appendChild(a),this.writeSurfacePatches_(a,e,n)}},e.prototype.RING_NODE_FACTORY_=function(t,e,n){var i=e[e.length-1],r=i.node,o=i.exteriorWritten;return void 0===o&&(i.exteriorWritten=!0),Ei(r.namespaceURI,void 0!==o?"innerBoundaryIs":"outerBoundaryIs")},e.prototype.writeSurfacePatches_=function(t,e,n){var i=Ei(t.namespaceURI,"PolygonPatch");t.appendChild(i),this.writeSurfaceOrPolygon_(i,e,n)},e.prototype.writeRing_=function(t,e,n){var i=Ei(t.namespaceURI,"LinearRing");t.appendChild(i),this.writeLinearRing_(i,e,n)},e.prototype.getCoords_=function(t,e,n){var i="enu";e&&(i=At(e).getAxisOrientation());var r="en"===i.substr(0,2)?t[0]+","+t[1]:t[1]+","+t[0];if(n){r+=","+(t[2]||0)}return r},e.prototype.writePoint_=function(t,e,n){var i=n[n.length-1],r=i.hasZ,o=i.srsName;o&&t.setAttribute("srsName",o);var s=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(s);var a=e.getCoordinates();zi(s,this.getCoords_(a,o,r))},e.prototype.writeMultiPoint_=function(t,e,n){var i=n[n.length-1],r=i.hasZ,o=i.srsName;o&&t.setAttribute("srsName",o);var s=e.getPoints();ji({node:t,hasZ:r,srsName:o},this.POINTMEMBER_SERIALIZERS_,Ii("pointMember"),s,n,void 0,this)},e.prototype.writePointMember_=function(t,e,n){var i=Ei(t.namespaceURI,"Point");t.appendChild(i),this.writePoint_(i,e,n)},e.prototype.writeLinearRing_=function(t,e,n){var i=n[n.length-1],r=i.srsName;r&&t.setAttribute("srsName",r);var o=this.createCoordinatesNode_(t.namespaceURI);t.appendChild(o),this.writeCoordinates_(o,e,n)},e.prototype.writeMultiSurfaceOrPolygon_=function(t,e,n){var i=n[n.length-1],r=i.hasZ,o=i.srsName,s=i.surface;o&&t.setAttribute("srsName",o);var a=e.getPolygons();ji({node:t,hasZ:r,srsName:o,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)},e.prototype.writeSurfaceOrPolygonMember_=function(t,e,n){var i=this.GEOMETRY_NODE_FACTORY_(e,n);i&&(t.appendChild(i),this.writeSurfaceOrPolygon_(i,e,n))},e.prototype.writeEnvelope=function(t,e,n){var i=n[n.length-1],r=i.srsName;r&&t.setAttribute("srsName",r);var o=["lowerCorner","upperCorner"],s=[e[0]+" "+e[1],e[2]+" "+e[3]];ji({node:t},this.ENVELOPE_SERIALIZERS_,gf,s,n,o,this)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,n){var i=e[e.length-1].node;return Ei("http://www.opengis.net/gml",wf[i.nodeName])},e}(bf);Ef.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{coordinates:Oi(Ef.prototype.readFlatCoordinates_)}},Ef.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{innerBoundaryIs:Ef.prototype.innerBoundaryIsParser_,outerBoundaryIs:Ef.prototype.outerBoundaryIsParser_}},Ef.prototype.BOX_PARSERS_={"http://www.opengis.net/gml":{coordinates:Pi(Ef.prototype.readFlatCoordinates_)}},Ef.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Oi(bf.prototype.readPoint),MultiPoint:Oi(bf.prototype.readMultiPoint),LineString:Oi(bf.prototype.readLineString),MultiLineString:Oi(bf.prototype.readMultiLineString),LinearRing:Oi(bf.prototype.readLinearRing),Polygon:Oi(bf.prototype.readPolygon),MultiPolygon:Oi(bf.prototype.readMultiPolygon),Box:Oi(Ef.prototype.readBox_)}},Ef.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:Ri(Ef.prototype.writeCurveOrLineString_),MultiCurve:Ri(Ef.prototype.writeMultiCurveOrLineString_),Point:Ri(Ef.prototype.writePoint_),MultiPoint:Ri(Ef.prototype.writeMultiPoint_),LineString:Ri(Ef.prototype.writeCurveOrLineString_),MultiLineString:Ri(Ef.prototype.writeMultiCurveOrLineString_),LinearRing:Ri(Ef.prototype.writeLinearRing_),Polygon:Ri(Ef.prototype.writeSurfaceOrPolygon_),MultiPolygon:Ri(Ef.prototype.writeMultiSurfaceOrPolygon_),Surface:Ri(Ef.prototype.writeSurfaceOrPolygon_),MultiSurface:Ri(Ef.prototype.writeMultiSurfaceOrPolygon_),Envelope:Ri(Ef.prototype.writeEnvelope)}},Ef.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:Ri(Ef.prototype.writeLineStringOrCurveMember_),curveMember:Ri(Ef.prototype.writeLineStringOrCurveMember_)}},Ef.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{outerBoundaryIs:Ri(Ef.prototype.writeRing_),innerBoundaryIs:Ri(Ef.prototype.writeRing_)}},Ef.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:Ri(Ef.prototype.writePointMember_)}},Ef.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:Ri(Ef.prototype.writeSurfaceOrPolygonMember_),polygonMember:Ri(Ef.prototype.writeSurfaceOrPolygonMember_)}},Ef.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:Ri(zi),upperCorner:Ri(zi)}};var Sf=_f+" http://schemas.opengis.net/gml/3.1.1/profiles/gmlsfProfile/1.0.0/gmlsf.xsd",Tf={MultiLineString:"lineStringMember",MultiCurve:"curveMember",MultiPolygon:"polygonMember",MultiSurface:"surfaceMember"},Cf=function(t){function e(e){var n=e||{};t.call(this,n),this.surface_=void 0!==n.surface&&n.surface,this.curve_=void 0!==n.curve&&n.curve,this.multiCurve_=void 0===n.multiCurve||n.multiCurve,this.multiSurface_=void 0===n.multiSurface||n.multiSurface,this.schemaLocation=n.schemaLocation?n.schemaLocation:Sf,this.hasZ=void 0!==n.hasZ&&n.hasZ}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.readMultiCurve_=function(t,e){var n=Ni([],this.MULTICURVE_PARSERS_,t,e,this);if(n){return new lf(n)}},e.prototype.readMultiSurface_=function(t,e){var n=Ni([],this.MULTISURFACE_PARSERS_,t,e,this);if(n)return new ff(n)},e.prototype.curveMemberParser_=function(t,e){ki(this.CURVEMEMBER_PARSERS_,t,e,this)},e.prototype.surfaceMemberParser_=function(t,e){ki(this.SURFACEMEMBER_PARSERS_,t,e,this)},e.prototype.readPatch_=function(t,e){return Ni([null],this.PATCHES_PARSERS_,t,e,this)},e.prototype.readSegment_=function(t,e){return Ni([null],this.SEGMENTS_PARSERS_,t,e,this)},e.prototype.readPolygonPatch_=function(t,e){return Ni([null],this.FLAT_LINEAR_RINGS_PARSERS,t,e,this)},e.prototype.readLineStringSegment_=function(t,e){return Ni([null],this.GEOMETRY_FLAT_COORDINATES_PARSERS,t,e,this)},e.prototype.interiorParser_=function(t,e){var n=Ni(void 0,this.RING_PARSERS,t,e,this);if(n){e[e.length-1].push(n)}},e.prototype.exteriorParser_=function(t,e){var n=Ni(void 0,this.RING_PARSERS,t,e,this);if(n){e[e.length-1][0]=n}},e.prototype.readSurface_=function(t,e){var n=Ni([null],this.SURFACE_PARSERS_,t,e,this);if(n&&n[0]){var i,r,o=n[0],s=[o.length];for(i=1,r=n.length;i<r;++i)ee(o,n[i]),s.push(o.length);return new pf(o,bp.XYZ,s)}},e.prototype.readCurve_=function(t,e){var n=Ni([null],this.CURVE_PARSERS_,t,e,this);if(n){return new Pp(n,bp.XYZ)}},e.prototype.readEnvelope_=function(t,e){var n=Ni([null],this.ENVELOPE_PARSERS_,t,e,this);return X(n[1][0],n[1][1],n[2][0],n[2][1])},e.prototype.readFlatPos_=function(t,e){for(var n,i=Si(t,!1),r=/^\s*([+\-]?\d*\.?\d+(?:[eE][+\-]?\d+)?)\s*/,o=[];n=r.exec(i);)o.push(parseFloat(n[1])),i=i.substr(n[0].length);if(""===i){var s=e[0],a=s.srsName,u="enu";if(a){u=At(a).getAxisOrientation()}if("neu"===u){var l,h;for(l=0,h=o.length;l<h;l+=3){var c=o[l],p=o[l+1];o[l]=p,o[l+1]=c}}var f=o.length;if(2==f&&o.push(0),0!==f)return o}},e.prototype.readFlatPosList_=function(t,e){var n=Si(t,!1).replace(/^\s*|\s*$/g,""),i=e[0],r=i.srsName,o=i.srsDimension,s="enu";if(r){s=At(r).getAxisOrientation()}var a=n.split(/\s+/),u=2;t.getAttribute("srsDimension")?u=Gi(t.getAttribute("srsDimension")):t.getAttribute("dimension")?u=Gi(t.getAttribute("dimension")):t.parentNode.getAttribute("srsDimension")?u=Gi(t.parentNode.getAttribute("srsDimension")):o&&(u=Gi(o));for(var l,h,c,p=[],f=0,d=a.length;f<d;f+=u)l=parseFloat(a[f]),h=parseFloat(a[f+1]),c=3===u?parseFloat(a[f+2]):0,"en"===s.substr(0,2)?p.push(l,h,c):p.push(h,l,c);return p},e.prototype.writePos_=function(t,e,n){var i=n[n.length-1],r=i.hasZ,o=r?"3":"2";t.setAttribute("srsDimension",o);var s=i.srsName,a="enu";s&&(a=At(s).getAxisOrientation());var u,l=e.getCoordinates();if(u="en"===a.substr(0,2)?l[0]+" "+l[1]:l[1]+" "+l[0],r){u+=" "+(l[2]||0)}zi(t,u)},e.prototype.getCoords_=function(t,e,n){var i="enu";e&&(i=At(e).getAxisOrientation());var r="en"===i.substr(0,2)?t[0]+" "+t[1]:t[1]+" "+t[0];if(n){r+=" "+(t[2]||0)}return r},e.prototype.writePosList_=function(t,e,n){var i=n[n.length-1],r=i.hasZ,o=r?"3":"2";t.setAttribute("srsDimension",o);for(var s,a=i.srsName,u=e.getCoordinates(),l=u.length,h=new Array(l),c=0;c<l;++c)s=u[c],h[c]=this.getCoords_(s,a,r);zi(t,h.join(" "))},e.prototype.writePoint_=function(t,e,n){var i=n[n.length-1],r=i.srsName;r&&t.setAttribute("srsName",r);var o=Ei(t.namespaceURI,"pos");t.appendChild(o),this.writePos_(o,e,n)},e.prototype.writeEnvelope=function(t,e,n){var i=n[n.length-1],r=i.srsName;r&&t.setAttribute("srsName",r);var o=["lowerCorner","upperCorner"],s=[e[0]+" "+e[1],e[2]+" "+e[3]];ji({node:t},this.ENVELOPE_SERIALIZERS_,gf,s,n,o,this)},e.prototype.writeLinearRing_=function(t,e,n){var i=n[n.length-1],r=i.srsName;r&&t.setAttribute("srsName",r);var o=Ei(t.namespaceURI,"posList");t.appendChild(o),this.writePosList_(o,e,n)},e.prototype.RING_NODE_FACTORY_=function(t,e,n){var i=e[e.length-1],r=i.node,o=i.exteriorWritten;return void 0===o&&(i.exteriorWritten=!0),Ei(r.namespaceURI,void 0!==o?"interior":"exterior")},e.prototype.writeSurfaceOrPolygon_=function(t,e,n){var i=n[n.length-1],r=i.hasZ,o=i.srsName;if("PolygonPatch"!==t.nodeName&&o&&t.setAttribute("srsName",o),"Polygon"===t.nodeName||"PolygonPatch"===t.nodeName){var s=e.getLinearRings();ji({node:t,hasZ:r,srsName:o},this.RING_SERIALIZERS_,this.RING_NODE_FACTORY_,s,n,void 0,this)}else if("Surface"===t.nodeName){var a=Ei(t.namespaceURI,"patches");t.appendChild(a),this.writeSurfacePatches_(a,e,n)}},e.prototype.writeCurveOrLineString_=function(t,e,n){var i=n[n.length-1],r=i.srsName;if("LineStringSegment"!==t.nodeName&&r&&t.setAttribute("srsName",r),"LineString"===t.nodeName||"LineStringSegment"===t.nodeName){var o=Ei(t.namespaceURI,"posList");t.appendChild(o),this.writePosList_(o,e,n)}else if("Curve"===t.nodeName){var s=Ei(t.namespaceURI,"segments");t.appendChild(s),this.writeCurveSegments_(s,e,n)}},e.prototype.writeMultiSurfaceOrPolygon_=function(t,e,n){var i=n[n.length-1],r=i.hasZ,o=i.srsName,s=i.surface;o&&t.setAttribute("srsName",o);var a=e.getPolygons();ji({node:t,hasZ:r,srsName:o,surface:s},this.SURFACEORPOLYGONMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)},e.prototype.writeMultiPoint_=function(t,e,n){var i=n[n.length-1],r=i.srsName,o=i.hasZ;r&&t.setAttribute("srsName",r);var s=e.getPoints();ji({node:t,hasZ:o,srsName:r},this.POINTMEMBER_SERIALIZERS_,Ii("pointMember"),s,n,void 0,this)},e.prototype.writeMultiCurveOrLineString_=function(t,e,n){var i=n[n.length-1],r=i.hasZ,o=i.srsName,s=i.curve;o&&t.setAttribute("srsName",o);var a=e.getLineStrings();ji({node:t,hasZ:r,srsName:o,curve:s},this.LINESTRINGORCURVEMEMBER_SERIALIZERS_,this.MULTIGEOMETRY_MEMBER_NODE_FACTORY_,a,n,void 0,this)},e.prototype.writeRing_=function(t,e,n){var i=Ei(t.namespaceURI,"LinearRing");t.appendChild(i),this.writeLinearRing_(i,e,n)},e.prototype.writeSurfaceOrPolygonMember_=function(t,e,n){var i=this.GEOMETRY_NODE_FACTORY_(e,n);i&&(t.appendChild(i),this.writeSurfaceOrPolygon_(i,e,n))},e.prototype.writePointMember_=function(t,e,n){var i=Ei(t.namespaceURI,"Point");t.appendChild(i),this.writePoint_(i,e,n)},e.prototype.writeLineStringOrCurveMember_=function(t,e,n){var i=this.GEOMETRY_NODE_FACTORY_(e,n);i&&(t.appendChild(i),this.writeCurveOrLineString_(i,e,n))},e.prototype.writeSurfacePatches_=function(t,e,n){var i=Ei(t.namespaceURI,"PolygonPatch");t.appendChild(i),this.writeSurfaceOrPolygon_(i,e,n)},e.prototype.writeCurveSegments_=function(t,e,n){var i=Ei(t.namespaceURI,"LineStringSegment");t.appendChild(i),this.writeCurveOrLineString_(i,e,n)},e.prototype.writeGeometryElement=function(t,e,n){var i=n[n.length-1],r=lh({},i);r.node=t;var o;o=Array.isArray(e)?i.dataProjection?zt(e,i.featureProjection,i.dataProjection):e:Xn(e,!0,i),ji(r,this.GEOMETRY_SERIALIZERS_,this.GEOMETRY_NODE_FACTORY_,[o],n,void 0,this)},e.prototype.writeFeatureElement=function(t,e,n){var i=e.getId();i&&t.setAttribute("fid",i);var r=n[n.length-1],o=r.featureNS,s=e.getGeometryName();r.serializers||(r.serializers={},r.serializers[o]={});var a=e.getProperties(),u=[],l=[];for(var h in a){var c=a[h];null!==c&&(u.push(h),l.push(c),h==s||"function"===typeof c.getSimplifiedGeometry?h in r.serializers[o]||(r.serializers[o][h]=Ri(this.writeGeometryElement,this)):h in r.serializers[o]||(r.serializers[o][h]=Ri(zi)))}var p=lh({},r);p.node=t,ji(p,r.serializers,Ii(void 0,o),l,n,u)},e.prototype.writeFeatureMembers_=function(t,e,n){var i=n[n.length-1],r=i.featureType,o=i.featureNS,s={};s[o]={},s[o][r]=Ri(this.writeFeatureElement,this);var a=lh({},i);a.node=t,ji(a,s,Ii(r,o),e,n)},e.prototype.MULTIGEOMETRY_MEMBER_NODE_FACTORY_=function(t,e,n){var i=e[e.length-1].node;return Ei(this.namespace,Tf[i.nodeName])},e.prototype.GEOMETRY_NODE_FACTORY_=function(t,e,n){var i,r=e[e.length-1],o=r.multiSurface,s=r.surface,a=r.curve,u=r.multiCurve;return Array.isArray(t)?i="Envelope":(i=t.getType(),"MultiPolygon"===i&&!0===o?i="MultiSurface":"Polygon"===i&&!0===s?i="Surface":"LineString"===i&&!0===a?i="Curve":"MultiLineString"===i&&!0===u&&(i="MultiCurve")),Ei(this.namespace,i)},e.prototype.writeGeometryNode=function(t,e){e=this.adaptOptions(e);var n=Ei(this.namespace,"geom"),i={node:n,hasZ:this.hasZ,srsName:this.srsName,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_};return e&&lh(i,e),this.writeGeometryElement(n,t,[i]),n},e.prototype.writeFeaturesNode=function(t,e){e=this.adaptOptions(e);var n=Ei(this.namespace,"featureMembers");n.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation);var i={srsName:this.srsName,hasZ:this.hasZ,curve:this.curve_,surface:this.surface_,multiSurface:this.multiSurface_,multiCurve:this.multiCurve_,featureNS:this.featureNS,featureType:this.featureType};return e&&lh(i,e),this.writeFeatureMembers_(n,t,[i]),n},e}(bf);Cf.prototype.GEOMETRY_FLAT_COORDINATES_PARSERS={"http://www.opengis.net/gml":{pos:Oi(Cf.prototype.readFlatPos_),posList:Oi(Cf.prototype.readFlatPosList_)}},Cf.prototype.FLAT_LINEAR_RINGS_PARSERS={"http://www.opengis.net/gml":{interior:Cf.prototype.interiorParser_,exterior:Cf.prototype.exteriorParser_}},Cf.prototype.GEOMETRY_PARSERS={"http://www.opengis.net/gml":{Point:Oi(bf.prototype.readPoint),MultiPoint:Oi(bf.prototype.readMultiPoint),LineString:Oi(bf.prototype.readLineString),MultiLineString:Oi(bf.prototype.readMultiLineString),LinearRing:Oi(bf.prototype.readLinearRing),Polygon:Oi(bf.prototype.readPolygon),MultiPolygon:Oi(bf.prototype.readMultiPolygon),Surface:Oi(Cf.prototype.readSurface_),MultiSurface:Oi(Cf.prototype.readMultiSurface_),Curve:Oi(Cf.prototype.readCurve_),MultiCurve:Oi(Cf.prototype.readMultiCurve_),Envelope:Oi(Cf.prototype.readEnvelope_)}},Cf.prototype.MULTICURVE_PARSERS_={"http://www.opengis.net/gml":{curveMember:Pi(Cf.prototype.curveMemberParser_),curveMembers:Pi(Cf.prototype.curveMemberParser_)}},Cf.prototype.MULTISURFACE_PARSERS_={"http://www.opengis.net/gml":{surfaceMember:Pi(Cf.prototype.surfaceMemberParser_),surfaceMembers:Pi(Cf.prototype.surfaceMemberParser_)}},Cf.prototype.CURVEMEMBER_PARSERS_={"http://www.opengis.net/gml":{LineString:Pi(bf.prototype.readLineString),Curve:Pi(Cf.prototype.readCurve_)}},Cf.prototype.SURFACEMEMBER_PARSERS_={"http://www.opengis.net/gml":{Polygon:Pi(bf.prototype.readPolygon),Surface:Pi(Cf.prototype.readSurface_)}},Cf.prototype.SURFACE_PARSERS_={"http://www.opengis.net/gml":{patches:Oi(Cf.prototype.readPatch_)}},Cf.prototype.CURVE_PARSERS_={"http://www.opengis.net/gml":{segments:Oi(Cf.prototype.readSegment_)}},Cf.prototype.ENVELOPE_PARSERS_={"http://www.opengis.net/gml":{lowerCorner:Pi(Cf.prototype.readFlatPosList_),upperCorner:Pi(Cf.prototype.readFlatPosList_)}},Cf.prototype.PATCHES_PARSERS_={"http://www.opengis.net/gml":{PolygonPatch:Oi(Cf.prototype.readPolygonPatch_)}},Cf.prototype.SEGMENTS_PARSERS_={"http://www.opengis.net/gml":{LineStringSegment:Oi(Cf.prototype.readLineStringSegment_)}},Cf.prototype.writeFeatures,Cf.prototype.RING_SERIALIZERS_={"http://www.opengis.net/gml":{exterior:Ri(Cf.prototype.writeRing_),interior:Ri(Cf.prototype.writeRing_)}},Cf.prototype.ENVELOPE_SERIALIZERS_={"http://www.opengis.net/gml":{lowerCorner:Ri(zi),upperCorner:Ri(zi)}},Cf.prototype.SURFACEORPOLYGONMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{surfaceMember:Ri(Cf.prototype.writeSurfaceOrPolygonMember_),polygonMember:Ri(Cf.prototype.writeSurfaceOrPolygonMember_)}},Cf.prototype.POINTMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{pointMember:Ri(Cf.prototype.writePointMember_)}},Cf.prototype.LINESTRINGORCURVEMEMBER_SERIALIZERS_={"http://www.opengis.net/gml":{lineStringMember:Ri(Cf.prototype.writeLineStringOrCurveMember_),curveMember:Ri(Cf.prototype.writeLineStringOrCurveMember_)}},Cf.prototype.GEOMETRY_SERIALIZERS_={"http://www.opengis.net/gml":{Curve:Ri(Cf.prototype.writeCurveOrLineString_),MultiCurve:Ri(Cf.prototype.writeMultiCurveOrLineString_),Point:Ri(Cf.prototype.writePoint_),MultiPoint:Ri(Cf.prototype.writeMultiPoint_),LineString:Ri(Cf.prototype.writeCurveOrLineString_),MultiLineString:Ri(Cf.prototype.writeMultiCurveOrLineString_),LinearRing:Ri(Cf.prototype.writeLinearRing_),Polygon:Ri(Cf.prototype.writeSurfaceOrPolygon_),MultiPolygon:Ri(Cf.prototype.writeMultiSurfaceOrPolygon_),Surface:Ri(Cf.prototype.writeSurfaceOrPolygon_),MultiSurface:Ri(Cf.prototype.writeMultiSurfaceOrPolygon_),Envelope:Ri(Cf.prototype.writeEnvelope)}};var Mf=function(t){this.tagName_=t};Mf.prototype.getTagName=function(){return this.tagName_};var Lf=function(t){function e(e,n){t.call(this,e),this.conditions=n,T(this.conditions.length>=2,57)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Mf),Pf=function(t){function e(e){t.call(this,"And",Array.prototype.slice.call(arguments))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Lf),Of=function(t){function e(e,n,i){t.call(this,"BBOX"),this.geometryName=e,this.extent=n,this.srsName=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Mf),Af={"http://www.opengis.net/gml":{boundedBy:Ai(bf.prototype.readGeometryElement,"bounds")}},Rf={"http://www.opengis.net/wfs":{totalInserted:Ai(Di),totalUpdated:Ai(Di),totalDeleted:Ai(Di)}},If={"http://www.opengis.net/wfs":{TransactionSummary:Ai(Zi,"transactionSummary"),InsertResults:Ai(Xi,"insertIds")}},kf={"http://www.opengis.net/wfs":{PropertyName:Ri(zi)}},Nf={"http://www.opengis.net/wfs":{Insert:Ri(Vi),Update:Ri(Ki),Delete:Ri(qi),Property:Ri(Ji),Native:Ri(Qi)}},Ff="feature",jf="http://www.w3.org/2000/xmlns/",Df="http://www.opengis.net/ogc",Gf="http://www.opengis.net/wfs",zf="http://www.opengis.net/fes",Uf={"1.1.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.1.0/wfs.xsd","1.0.0":"http://www.opengis.net/wfs http://schemas.opengis.net/wfs/1.0.0/wfs.xsd"},Bf="1.1.0",Zf=function(t){function e(e){t.call(this);var n=e||{};this.featureType_=n.featureType,this.featureNS_=n.featureNS,this.gmlFormat_=n.gmlFormat?n.gmlFormat:new Cf,this.schemaLocation_=n.schemaLocation?n.schemaLocation:Uf[Bf]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getFeatureType=function(){return this.featureType_},e.prototype.setFeatureType=function(t){this.featureType_=t},e.prototype.readFeaturesFromNode=function(t,e){var n={node:t};lh(n,{featureType:this.featureType_,featureNS:this.featureNS_}),lh(n,this.getReadOptions(t,e||{}));var i=[n];this.gmlFormat_.FEATURE_COLLECTION_PARSERS[_f].featureMember=Pi(bf.prototype.readFeaturesInternal);var r=Ni([],this.gmlFormat_.FEATURE_COLLECTION_PARSERS,t,i,this.gmlFormat_);return r||(r=[]),r},e.prototype.readTransactionResponse=function(t){if(t){if("string"===typeof t){var e=Li(t);return this.readTransactionResponseFromDocument(e)}return Ci(t)?this.readTransactionResponseFromDocument(t):this.readTransactionResponseFromNode(t)}},e.prototype.readFeatureCollectionMetadata=function(t){if(t){if("string"===typeof t){var e=Li(t);return this.readFeatureCollectionMetadataFromDocument(e)}return Ci(t)?this.readFeatureCollectionMetadataFromDocument(t):this.readFeatureCollectionMetadataFromNode(t)}},e.prototype.readFeatureCollectionMetadataFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readFeatureCollectionMetadataFromNode(e)},e.prototype.readFeatureCollectionMetadataFromNode=function(t){var e={},n=Gi(t.getAttribute("numberOfFeatures"));return e.numberOfFeatures=n,Ni(e,Af,t,[],this.gmlFormat_)},e.prototype.readTransactionResponseFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readTransactionResponseFromNode(e)},e.prototype.readTransactionResponseFromNode=function(t){return Ni({},If,t,[])},e.prototype.writeGetFeature=function(t){var e=Ei(Gf,"GetFeature");e.setAttribute("service","WFS"),e.setAttribute("version","1.1.0");var n;if(t&&(t.handle&&e.setAttribute("handle",t.handle),t.outputFormat&&e.setAttribute("outputFormat",t.outputFormat),void 0!==t.maxFeatures&&e.setAttribute("maxFeatures",String(t.maxFeatures)),t.resultType&&e.setAttribute("resultType",t.resultType),void 0!==t.startIndex&&e.setAttribute("startIndex",String(t.startIndex)),void 0!==t.count&&e.setAttribute("count",String(t.count)),void 0!==t.viewParams&&e.setAttribute("viewParams ",t.viewParams),n=t.filter,t.bbox)){T(t.geometryName,12);var i=Bi(t.geometryName,t.bbox,t.srsName);n=n?Ui(n,i):i}e.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",this.schemaLocation_);var r={node:e};return lh(r,{srsName:t.srsName,featureNS:t.featureNS?t.featureNS:this.featureNS_,featurePrefix:t.featurePrefix,geometryName:t.geometryName,filter:n,propertyNames:t.propertyNames?t.propertyNames:[]}),T(Array.isArray(t.featureTypes),11),gr(e,t.featureTypes,[r]),e},e.prototype.writeTransaction=function(t,e,n,i){var r=[],o=Ei(Gf,"Transaction"),s=i.version?i.version:Bf,a="1.0.0"===s?2:3;o.setAttribute("service","WFS"),o.setAttribute("version",s);var u,l;i&&(u=i.gmlOptions?i.gmlOptions:{},i.handle&&o.setAttribute("handle",i.handle));var h=Uf[s];o.setAttributeNS("http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation",h);var c=i.featurePrefix?i.featurePrefix:Ff;return t&&(l=lh({node:o},{featureNS:i.featureNS,featureType:i.featureType,featurePrefix:c,gmlVersion:a,hasZ:i.hasZ,srsName:i.srsName}),lh(l,u),ji(l,Nf,Ii("Insert"),t,r)),e&&(l=lh({node:o},{featureNS:i.featureNS,featureType:i.featureType,featurePrefix:c,gmlVersion:a,hasZ:i.hasZ,srsName:i.srsName}),lh(l,u),ji(l,Nf,Ii("Update"),e,r)),n&&ji({node:o,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:c,gmlVersion:a,srsName:i.srsName},Nf,Ii("Delete"),n,r),i.nativeElements&&ji({node:o,featureNS:i.featureNS,featureType:i.featureType,featurePrefix:c,gmlVersion:a,srsName:i.srsName},Nf,Ii("Native"),i.nativeElements,r),o},e.prototype.readProjectionFromDocument=function(t){for(var e=t.firstChild;e;e=e.nextSibling)if(e.nodeType==Node.ELEMENT_NODE)return this.readProjectionFromNode(e);return null},e.prototype.readProjectionFromNode=function(t){if(t.firstElementChild&&t.firstElementChild.firstElementChild){t=t.firstElementChild.firstElementChild;for(var e=t.firstElementChild;e;e=e.nextElementSibling)if(0!==e.childNodes.length&&(1!==e.childNodes.length||3!==e.firstChild.nodeType)){var n=[{}];return this.gmlFormat_.readGeometryElement(e,n),At(n.pop().srsName)}}return null},e}(yf),Wf={"http://www.opengis.net/ogc":{FeatureId:Pi(function(t,e){return t.getAttribute("fid")})}},Xf={"http://www.opengis.net/wfs":{Feature:Wi}},Vf={"http://www.opengis.net/wfs":{Query:Ri($i)},"http://www.opengis.net/ogc":{During:Ri(or),And:Ri(sr),Or:Ri(sr),Not:Ri(ar),BBOX:Ri(er),Contains:Ri(nr),Intersects:Ri(ir),Within:Ri(rr),PropertyIsEqualTo:Ri(ur),PropertyIsNotEqualTo:Ri(ur),PropertyIsLessThan:Ri(ur),PropertyIsLessThanOrEqualTo:Ri(ur),PropertyIsGreaterThan:Ri(ur),PropertyIsGreaterThanOrEqualTo:Ri(ur),PropertyIsNull:Ri(lr),PropertyIsBetween:Ri(hr),PropertyIsLike:Ri(cr)}},Hf=function(t){function e(){return uc(this,e),cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){var t=this;this.source=new Sc;var e=new mp({source:this.source,style:new pp({fill:new cp({color:"transparent"})})});this.context.map.addLayer(e),this.loadTrigger(this.props.map),Object(Vl.b)(this.context.map,"singleclick").pipe(Object(Hl.a)(function(t){return!t.dragging}),Object(Hl.d)(function(e){return t.context.map.getPixelFromCoordinate(e.coordinate)}),Object(Hl.d)(function(e){return t.context.map.forEachFeatureAtPixel(e,function(t){return t})}),Object(Hl.a)(function(t){return void 0!==t&&null!==t&&void 0!==t.values_.name}),Object(Hl.h)(function(t){return console.log(t.values_.name)})).subscribe()}},{key:"shouldComponentUpdate",value:function(t){return null===this.props.map||void 0===this.props.map||null===this.props.position||void 0===this.props.position||(null!==t.map||null!==t.position)&&(t.map!==this.props.map||t.position!==this.props.position)}},{key:"componentWillUpdate",value:function(t){t.map!==this.props.map&&this.loadTrigger(t.map),t.position!==this.props.position&&this.checkPosition(t.position)}},{key:"loadTrigger",value:function(t){var e=this;Object(Vl.c)(t).pipe(Object(Hl.h)(function(){return e.source.clear()}),Object(Hl.a)(function(t){return null!==t&&void 0!==t&&null!==t.triggerLayerId&&void 0!==t.triggerLayerId}),Object(Hl.c)(function(t){return Object(Kl.a)({url:ah+"/"+t.triggerLayerId.split(":")[0]+"/wfs",method:"POST",body:(new XMLSerializer).serializeToString((new Zf).writeGetFeature({srsName:"EPSG:3857",featureTypes:[t.triggerLayerId],outputFormat:"application/json"})),headers:{"Content-Type":"application/json"}})}),Object(Hl.a)(function(t){return 200===t.status}),Object(Hl.d)(function(t){return t.response}),Object(Hl.h)(function(t){return e.source.addFeatures((new df).readFeatures(t))})).subscribe()}},{key:"checkPosition",value:function(t){var e=this;Object(Vl.c)(t).pipe(Object(Hl.d)(function(t){return[t.longitude,t.latitude]}),Object(Hl.d)(function(t){return e.context.map.getPixelFromCoordinate(t)}),Object(Hl.d)(function(t){return e.context.map.forEachFeatureAtPixel(t,function(t){return t})}),Object(Hl.a)(function(t){return void 0!==t&&null!==t}),Object(Hl.h)(function(t){return console.log(t.values_.name)})).subscribe()}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);Hf.defaultProps={position:null,map:null},Hf.propTypes={position:ql.a.object,map:ql.a.object},Hf.contextTypes={map:ql.a.object};var Yf=42,qf=256,Kf={ANIMATING:0,INTERACTING:1},Jf={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},Qf=0,$f=function(t){function e(e){t.call(this);var n=lh({},e);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=Nt(n.projection,"EPSG:3857"),this.applyOptions_(n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.applyOptions_=function(t){var e={};e[Jf.CENTER]=void 0!==t.center?t.center:null;var n=Fr(t);this.maxResolution_=n.maxResolution,this.minResolution_=n.minResolution,this.zoomFactor_=n.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=n.minZoom;var i=Nr(t),r=n.constraint,o=jr(t);this.constraints_={center:i,resolution:r,rotation:o},void 0!==t.resolution?e[Jf.RESOLUTION]=t.resolution:void 0!==t.zoom&&(e[Jf.RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(e[Jf.RESOLUTION]=C(Number(this.getResolution()||e[Jf.RESOLUTION]),this.minResolution_,this.maxResolution_))),e[Jf.ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(e),this.options_=t},e.prototype.getUpdatedOptions_=function(t){var e=lh({},this.options_);return void 0!==e.resolution?e.resolution=this.getResolution():e.zoom=this.getZoom(),e.center=this.getCenter(),e.rotation=this.getRotation(),lh({},e,t)},e.prototype.animate=function(t){var e,n=arguments,i=arguments.length;if(i>1&&"function"===typeof arguments[i-1]&&(e=arguments[i-1],--i),!this.isDef()){var r=arguments[i-1];return r.center&&this.setCenter(r.center),void 0!==r.zoom&&this.setZoom(r.zoom),void 0!==r.rotation&&this.setRotation(r.rotation),void(e&&kr(e,!0))}for(var o=Date.now(),s=this.getCenter().slice(),a=this.getResolution(),u=this.getRotation(),l=[],h=0;h<i;++h){var c=n[h],p={start:o,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||Rr};if(c.center&&(p.sourceCenter=s,p.targetCenter=c.center,s=p.targetCenter),void 0!==c.zoom?(p.sourceResolution=a,p.targetResolution=this.constrainResolution(this.maxResolution_,c.zoom-this.minZoom_,0),a=p.targetResolution):c.resolution&&(p.sourceResolution=a,p.targetResolution=c.resolution,a=p.targetResolution),void 0!==c.rotation){p.sourceRotation=u;var f=R(c.rotation-u+Math.PI,2*Math.PI)-Math.PI;p.targetRotation=u+f,u=p.targetRotation}p.callback=e,Dr(p)?p.complete=!0:o+=p.duration,l.push(p)}this.animations_.push(l),this.setHint(Kf.ANIMATING,1),this.updateAnimations_()},e.prototype.getAnimating=function(){return this.hints_[Kf.ANIMATING]>0},e.prototype.getInteracting=function(){return this.hints_[Kf.INTERACTING]>0},e.prototype.cancelAnimations=function(){this.setHint(Kf.ANIMATING,-this.hints_[Kf.ANIMATING]);for(var t=0,e=this.animations_.length;t<e;++t){var n=this.animations_[t];n[0].callback&&kr(n[0].callback,!1)}this.animations_.length=0},e.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),e=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,o=0,s=i.length;o<s;++o){var a=i[o];if(!a.complete){var u=t-a.start,l=a.duration>0?u/a.duration:1;l>=1?(a.complete=!0,l=1):r=!1;var h=a.easing(l);if(a.sourceCenter){var c=a.sourceCenter[0],p=a.sourceCenter[1],f=a.targetCenter[0],d=a.targetCenter[1],m=c+h*(f-c),g=p+h*(d-p);this.set(Jf.CENTER,[m,g])}if(a.sourceResolution&&a.targetResolution){var y=1===h?a.targetResolution:a.sourceResolution+h*(a.targetResolution-a.sourceResolution);a.anchor&&this.set(Jf.CENTER,this.calculateCenterZoom(y,a.anchor)),this.set(Jf.RESOLUTION,y)}if(void 0!==a.sourceRotation&&void 0!==a.targetRotation){var _=1===h?R(a.targetRotation+Math.PI,2*Math.PI)-Math.PI:a.sourceRotation+h*(a.targetRotation-a.sourceRotation);a.anchor&&this.set(Jf.CENTER,this.calculateCenterRotate(_,a.anchor)),this.set(Jf.ROTATION,_)}if(e=!0,!a.complete)break}}if(r){this.animations_[n]=null,this.setHint(Kf.ANIMATING,-1);var v=i[0].callback;v&&kr(v,!0)}}this.animations_=this.animations_.filter(Boolean),e&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},e.prototype.calculateCenterRotate=function(t,e){var n,i=this.getCenter();return void 0!==i&&(n=[i[0]-e[0],i[1]-e[1]],Mr(n,t-this.getRotation()),Tr(n,e)),n},e.prototype.calculateCenterZoom=function(t,e){var n,i=this.getCenter(),r=this.getResolution();if(void 0!==i&&void 0!==r){n=[e[0]-t*(e[0]-i[0])/r,e[1]-t*(e[1]-i[1])/r]}return n},e.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+v(this)+'"]',n=document.querySelector(e);if(n){var i=getComputedStyle(n);t[0]=parseInt(i.width,10),t[1]=parseInt(i.height,10)}return t},e.prototype.constrainCenter=function(t){return this.constraints_.center(t)},e.prototype.constrainResolution=function(t,e,n){var i=e||0,r=n||0;return this.constraints_.resolution(t,i,r)},e.prototype.constrainRotation=function(t,e){var n=e||0;return this.constraints_.rotation(t,n)},e.prototype.getCenter=function(){return this.get(Jf.CENTER)},e.prototype.getConstraints=function(){return this.constraints_},e.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},e.prototype.calculateExtent=function(t){var e=t||this.getSizeFromViewport_(),n=this.getCenter();T(n,1);var i=this.getResolution();T(void 0!==i,2);var r=this.getRotation();return T(void 0!==r,3),ut(n,i,r,e)},e.prototype.getMaxResolution=function(){return this.maxResolution_},e.prototype.getMinResolution=function(){return this.minResolution_},e.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},e.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},e.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},e.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},e.prototype.getProjection=function(){return this.projection_},e.prototype.getResolution=function(){return this.get(Jf.RESOLUTION)},e.prototype.getResolutions=function(){return this.resolutions_},e.prototype.getResolutionForExtent=function(t,e){var n=e||this.getSizeFromViewport_(),i=ft(t)/n[0],r=lt(t)/n[1];return Math.max(i,r)},e.prototype.getResolutionForValueFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return n/Math.pow(e,t*r)}},e.prototype.getRotation=function(){return this.get(Jf.ROTATION)},e.prototype.getValueForResolutionFunction=function(t){var e=t||2,n=this.maxResolution_,i=this.minResolution_,r=Math.log(n/i)/Math.log(e);return function(t){return Math.log(n/t)/Math.log(e)/r}},e.prototype.getState=function(t){var e=this.getCenter(),n=this.getProjection(),i=this.getResolution(),r=i/t,o=this.getRotation();return{center:[Math.round(e[0]/r)*r,Math.round(e[1]/r)*r],projection:void 0!==n?n:null,resolution:i,rotation:o,zoom:this.getZoom()}},e.prototype.getZoom=function(){var t,e=this.getResolution();return void 0!==e&&(t=this.getZoomForResolution(e)),t},e.prototype.getZoomForResolution=function(t){var e,n,i=this.minZoom_||0;if(this.resolutions_){var r=$t(this.resolutions_,t,1);i=r,e=this.resolutions_[r],n=r==this.resolutions_.length-1?2:e/this.resolutions_[r+1]}else e=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(e/t)/Math.log(n)},e.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},e.prototype.fit=function(t,e){var n=e||{},i=n.size;i||(i=this.getSizeFromViewport_());var r;T(Array.isArray(t)||"function"===typeof t.getSimplifiedGeometry,24),Array.isArray(t)?(T(!mt(t),25),r=oi(t)):t.getType()===Nh.CIRCLE?(t=t.getExtent(),r=oi(t),r.rotate(this.getRotation(),st(t))):r=t;var o,s=void 0!==n.padding?n.padding:[0,0,0,0],a=void 0===n.constrainResolution||n.constrainResolution,u=void 0!==n.nearest&&n.nearest;o=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.constrainResolution(this.maxResolution_,n.maxZoom-this.minZoom_,0):0;for(var l=r.getFlatCoordinates(),h=this.getRotation(),c=Math.cos(-h),p=Math.sin(-h),f=1/0,d=1/0,m=-1/0,g=-1/0,y=r.getStride(),_=0,v=l.length;_<v;_+=y){var b=l[_]*c-l[_+1]*p,x=l[_]*p+l[_+1]*c;f=Math.min(f,b),d=Math.min(d,x),m=Math.max(m,b),g=Math.max(g,x)}var E=this.getResolutionForExtent([f,d,m,g],[i[0]-s[1]-s[3],i[1]-s[0]-s[2]]);if(E=isNaN(E)?o:Math.max(E,o),a){var S=this.constrainResolution(E,0,0);!u&&S<E&&(S=this.constrainResolution(S,-1,0)),E=S}p=-p;var C=(f+m)/2,M=(d+g)/2;C+=(s[1]-s[3])/2*E,M+=(s[0]-s[2])/2*E;var L=C*c-M*p,P=M*c+C*p,O=[L,P],A=n.callback?n.callback:w;void 0!==n.duration?this.animate({resolution:E,center:O,duration:n.duration,easing:n.easing},A):(this.setResolution(E),this.setCenter(O),kr(A,!0))},e.prototype.centerOn=function(t,e,n){var i=this.getRotation(),r=Math.cos(-i),o=Math.sin(-i),s=t[0]*r-t[1]*o,a=t[1]*r+t[0]*o,u=this.getResolution();s+=(e[0]/2-n[0])*u,a+=(n[1]-e[1]/2)*u,o=-o;var l=s*r-a*o,h=a*r+s*o;this.setCenter([l,h])},e.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},e.prototype.rotate=function(t,e){if(void 0!==e){var n=this.calculateCenterRotate(t,e);this.setCenter(n)}this.setRotation(t)},e.prototype.setCenter=function(t){this.set(Jf.CENTER,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setHint=function(t,e){return this.hints_[t]+=e,this.changed(),this.hints_[t]},e.prototype.setResolution=function(t){this.set(Jf.RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setRotation=function(t){this.set(Jf.ROTATION,t),this.getAnimating()&&this.cancelAnimations()},e.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},e}(vh),td=.45,ed=[13581135.47915831,3474532.6891957317],nd=["EPSG:3857:0","EPSG:3857:1","EPSG:3857:2","EPSG:3857:3","EPSG:3857:4","EPSG:3857:5","EPSG:3857:6","EPSG:3857:7","EPSG:3857:8","EPSG:3857:9","EPSG:3857:10","EPSG:3857:11","EPSG:3857:12","EPSG:3857:13","EPSG:3857:14","EPSG:3857:15","EPSG:3857:16","EPSG:3857:17","EPSG:3857:18","EPSG:3857:19","EPSG:3857:20","EPSG:3857:21","EPSG:3857:22","EPSG:3857:23","EPSG:3857:24","EPSG:3857:25","EPSG:3857:26","EPSG:3857:27","EPSG:3857:28","EPSG:3857:29","EPSG:3857:30"],id=[156543.03390625,78271.516953125,39135.7584765625,19567.87923828125,9783.939619140625,4891.9698095703125,2445.9849047851562,1222.9924523925781,611.4962261962891,305.74811309814453,152.87405654907226,76.43702827453613,38.218514137268066,19.109257068634033,9.554628534317017,4.777314267158508,2.388657133579254,1.194328566789627,.5971642833948135,.2985821416974068,.1492910708487034,.0746455354243517,.0373227677121758,.0186613838560879,.009330691928044,.004665345964022,.002332672982011,.0011663364910055,.0005831682455027,.0002915841227514,.0001457920613757],rd=function(t){function e(){return uc(this,e),cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){var t=this;window.rotate=function(){var e=t.context.map.getView().getRotation();t.context.map.getView().animate({rotation:e?e-Math.PI/2:e+Math.PI/2})},window.center=function(){t.props.position&&t.props.position.longitude&&t.props.position.latitude&&t.context.map.getView().animate({center:[t.props.position.longitude,t.props.position.latitude],duration:800})},window.bounds=function(){t.props.map&&t.props.map.xmin&&t.props.map.ymin&&t.props.map.xmax&&t.props.map.ymax&&t.context.map.getView().fit([t.props.map.xmin,t.props.map.ymin,t.props.map.xmax,t.props.map.ymax],t.context.map.getSize())},window.setIndoor=function(){t.context.map.setView(new $f(Object.assign(t.context.map.getView().options_,{zoom:19,maxZoom:24,minZoom:19})))},window.setOutdoor=function(){var e=t.context.map.getView().getCenter();t.context.map.setView(new $f(Object.assign(t.context.map.getView().options_,{zoom:16,maxZoom:22,minZoom:2}))),t.context.map.getView().animate({center:e,duration:0})},window.zoom=function(e){t.context.map.getView().setZoom(e)},window.zoomIn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.context.map.getView().setZoom(t.context.map.getView().getZoom()+e)},window.zoomOut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;t.context.map.getView().setZoom(t.context.map.getView().getZoom()-e)},window.move=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"EPSG:3857";if("EPSG:4326"===i){var r=Gt([e,n],"EPSG:4326","EPSG:3857");e=r[0],n=r[1],i="EPSG:3857"}t.context.map.getView().animate({center:[e,n],duration:800})}}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);rd.defaultProps={position:null,map:null},rd.propTypes={position:ql.a.object,map:ql.a.object},rd.contextTypes={map:ql.a.object};var od=function(t){function e(e,n,i){t.call(this,e),this.map=n,this.frameState=void 0!==i?i:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mh),sd=function(t){function e(e,n,i,r,o){t.call(this,e,n,o),this.originalEvent=i,this.pixel=n.getEventPixel(i),this.coordinate=n.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==r&&r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(od),ad={SINGLECLICK:"singleclick",CLICK:hh.CLICK,DBLCLICK:hh.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},ud=function(t){function e(e,n,i,r,o){t.call(this,e,n,i.originalEvent,r,o),this.pointerEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(sd),ld={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},hd=function(t,e){this.dispatcher=t,this.mapping_=e};hd.prototype.getEvents=function(){return Object.keys(this.mapping_)},hd.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var cd=1,pd="mouse",fd=function(t){function e(e){var n={mousedown:Gr,mousemove:zr,mouseup:Ur,mouseover:Br,mouseout:Zr};t.call(this,e,n),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,n=t.clientX,i=t.clientY,r=0,o=e.length,s=void 0;r<o&&(s=e[r]);r++){var a=Math.abs(n-s[0]),u=Math.abs(i-s[1]);if(a<=25&&u<=25)return!0}return!1},e.prototype.cancel=function(t){var e=Wr(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[cd.toString()]},e}(hd),dd=["","unavailable","touch","pen","mouse"],md=function(t){function e(e){var n={MSPointerDown:Xr,MSPointerMove:Vr,MSPointerUp:Hr,MSPointerOut:Yr,MSPointerOver:qr,MSPointerCancel:Kr,MSGotPointerCapture:Qr,MSLostPointerCapture:Jr};t.call(this,e,n),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"===typeof t.pointerType&&(e=this.dispatcher.cloneEvent(t,t),e.pointerType=dd[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(hd),gd=function(t){function e(e){var n={pointerdown:$r,pointermove:to,pointerup:eo,pointerout:no,pointerover:io,pointercancel:ro,gotpointercapture:so,lostpointercapture:oo};t.call(this,e,n)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(hd),yd=!1,_d=function(t){function e(e,n,i){t.call(this,e),this.originalEvent=n;var r=i||{};this.buttons=ao(r),this.pressure=uo(r,this.buttons),this.bubbles="bubbles"in r&&r.bubbles,this.cancelable="cancelable"in r&&r.cancelable,this.view="view"in r?r.view:null,this.detail="detail"in r?r.detail:null,this.screenX="screenX"in r?r.screenX:0,this.screenY="screenY"in r?r.screenY:0,this.clientX="clientX"in r?r.clientX:0,this.clientY="clientY"in r?r.clientY:0,this.ctrlKey="ctrlKey"in r&&r.ctrlKey,this.altKey="altKey"in r&&r.altKey,this.shiftKey="shiftKey"in r&&r.shiftKey,this.metaKey="metaKey"in r&&r.metaKey,this.button="button"in r?r.button:0,this.relatedTarget="relatedTarget"in r?r.relatedTarget:null,this.pointerId="pointerId"in r?r.pointerId:0,this.width="width"in r?r.width:0,this.height="height"in r?r.height:0,this.tiltX="tiltX"in r?r.tiltX:0,this.tiltY="tiltY"in r?r.tiltY:0,this.pointerType="pointerType"in r?r.pointerType:"",this.hwTimestamp="hwTimestamp"in r?r.hwTimestamp:0,this.isPrimary="isPrimary"in r&&r.isPrimary,n.preventDefault&&(this.preventDefault=function(){n.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mh);!function(){try{var t=new MouseEvent("click",{buttons:1});yd=1===t.buttons}catch(t){}}();var vd=function(t){function e(e,n){var i={touchstart:lo,touchmove:ho,touchend:co,touchcancel:po};t.call(this,e,i),this.pointerMap=e.pointerMap,this.mouseSource=n,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},e.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&cd.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},e.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},e.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),200)},e.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},e.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},e.prototype.touchToPointer_=function(t,e){var n=this.dispatcher.cloneEvent(t,e);return n.pointerId=e.identifier+2,n.bubbles=!0,n.cancelable=!0,n.detail=this.clickCount_,n.button=0,n.buttons=1,n.width=e.radiusX||0,n.height=e.radiusY||0,n.pressure=e.force||.5,n.isPrimary=this.isPrimaryTouch_(e),n.pointerType="touch",n.clientX=e.clientX,n.clientY=e.clientY,n.screenX=e.screenX,n.screenY=e.screenY,n},e.prototype.processTouches_=function(t,e){function n(){t.preventDefault()}for(var i=Array.prototype.slice.call(t.changedTouches),r=i.length,o=0;o<r;++o){var s=this.touchToPointer_(t,i[o]);s.preventDefault=n,e.call(this,t,s)}},e.prototype.findTouch_=function(t,e){for(var n=t.length,i=0;i<n;i++){if(t[i].identifier===e)return!0}return!1},e.prototype.vacuumTouches_=function(t){var e=t.touches,n=Object.keys(this.pointerMap),i=n.length;if(i>=e.length){for(var r=[],o=0;o<i;++o){var s=Number(n[o]),a=this.pointerMap[s];s==cd||this.findTouch_(e,s-2)||r.push(a.out)}for(var u=0;u<r.length;++u)this.cancelOut_(t,r[u])}},e.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},e.prototype.moveOverOut_=function(t,e){var n=e,i=this.pointerMap[n.pointerId];if(i){var r=i.out,o=i.outTarget;this.dispatcher.move(n,t),r&&o!==n.target&&(r.relatedTarget=n.target,n.relatedTarget=o,r.target=o,n.target?(this.dispatcher.leaveOut(r,t),this.dispatcher.enterOver(n,t)):(n.target=o,n.relatedTarget=null,this.cancelOut_(t,n))),i.out=n,i.outTarget=n.target}},e.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},e.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},e.prototype.dedupSynthMouse_=function(t){var e=this.mouseSource.lastTouches,n=t.changedTouches[0];if(this.isPrimaryTouch_(n)){var i=[n.clientX,n.clientY];e.push(i),setTimeout(function(){ne(e,i)},this.dedupTimeout_)}},e}(hd),bd=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],xd=function(t){function e(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.registerSources=function(){if(zc)this.registerSource("native",new gd(this));else if(Uc)this.registerSource("ms",new md(this));else{var t=new fd(this);this.registerSource("mouse",t),Gc&&this.registerSource("touch",new vd(this,t))}this.register_()},e.prototype.registerSource=function(t,e){var n=e,i=n.getEvents();i&&(i.forEach(function(t){var e=n.getHandlerForEvent(t);e&&(this.eventMap_[t]=e.bind(n))}.bind(this)),this.eventSourceList_.push(n))},e.prototype.register_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.addEvents_(n.getEvents())}},e.prototype.unregister_=function(){for(var t=this.eventSourceList_.length,e=0;e<t;e++){var n=this.eventSourceList_[e];this.removeEvents_(n.getEvents())}},e.prototype.eventHandler_=function(t){var e=t.type,n=this.eventMap_[e];n&&n(t)},e.prototype.addEvents_=function(t){t.forEach(function(t){f(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.removeEvents_=function(t){t.forEach(function(t){m(this.element_,t,this.eventHandler_,this)}.bind(this))},e.prototype.cloneEvent=function(t,e){for(var n={},i=0,r=bd.length;i<r;i++){var o=bd[i][0];n[o]=t[o]||e[o]||bd[i][1]}return n},e.prototype.down=function(t,e){this.fireEvent(ld.POINTERDOWN,t,e)},e.prototype.move=function(t,e){this.fireEvent(ld.POINTERMOVE,t,e)},e.prototype.up=function(t,e){this.fireEvent(ld.POINTERUP,t,e)},e.prototype.enter=function(t,e){t.bubbles=!1,this.fireEvent(ld.POINTERENTER,t,e)},e.prototype.leave=function(t,e){t.bubbles=!1,this.fireEvent(ld.POINTERLEAVE,t,e)},e.prototype.over=function(t,e){t.bubbles=!0,this.fireEvent(ld.POINTEROVER,t,e)},e.prototype.out=function(t,e){t.bubbles=!0,this.fireEvent(ld.POINTEROUT,t,e)},e.prototype.cancel=function(t,e){this.fireEvent(ld.POINTERCANCEL,t,e)},e.prototype.leaveOut=function(t,e){this.out(t,e),this.contains_(t.target,t.relatedTarget)||this.leave(t,e)},e.prototype.enterOver=function(t,e){this.over(t,e),this.contains_(t.target,t.relatedTarget)||this.enter(t,e)},e.prototype.contains_=function(t,e){return!(!t||!e)&&t.contains(e)},e.prototype.makeEvent=function(t,e,n){return new _d(t,n,e)},e.prototype.fireEvent=function(t,e,n){var i=this.makeEvent(t,e,n);this.dispatchEvent(i)},e.prototype.fireNativeEvent=function(t){var e=this.makeEvent(t.type,t,t);this.dispatchEvent(e)},e.prototype.wrapMouseEvent=function(t,e){return this.makeEvent(t,Wr(e,this),e)},e.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},e}(gh),wd=function(t){function e(e,n){t.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=n?n*jc:jc,this.down_=null;var i=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new xd(i),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=f(this.pointerEventHandler_,ld.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=f(this.pointerEventHandler_,ld.POINTERMOVE,this.relayEvent_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.emulateClick_=function(t){var e=new ud(ad.CLICK,this.map_,t);this.dispatchEvent(e),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,e=new ud(ad.DBLCLICK,this.map_,t),this.dispatchEvent(e)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var e=new ud(ad.SINGLECLICK,this.map_,t);this.dispatchEvent(e)}.bind(this),250)},e.prototype.updateActivePointers_=function(t){var e=t;e.type==ad.POINTERUP||e.type==ad.POINTERCANCEL?delete this.trackedTouches_[e.pointerId]:e.type==ad.POINTERDOWN&&(this.trackedTouches_[e.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},e.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var e=new ud(ad.POINTERUP,this.map_,t);this.dispatchEvent(e),e.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(g),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},e.prototype.isMouseActionButton_=function(t){return 0===t.button},e.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var e=new ud(ad.POINTERDOWN,this.map_,t);this.dispatchEvent(e),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new xd(document),this.dragListenerKeys_.push(f(this.documentPointerEventHandler_,ad.POINTERMOVE,this.handlePointerMove_,this),f(this.documentPointerEventHandler_,ad.POINTERUP,this.handlePointerUp_,this),f(this.pointerEventHandler_,ad.POINTERCANCEL,this.handlePointerUp_,this)))},e.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var e=new ud(ad.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(e)}t.preventDefault()},e.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new ud(t.type,this.map_,t,e))},e.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},e.prototype.disposeInternal=function(){this.relayedListenerKey_&&(g(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&(g(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(g),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),t.prototype.disposeInternal.call(this)},e}(gh),Ed={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"},Sd={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5},Td=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};Td.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,r(this.queuedElements_)},Td.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,n=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n},Td.prototype.enqueue=function(t){T(!(this.keyFunction_(t)in this.queuedElements_),31);var e=this.priorityFunction_(t);return e!=1/0&&(this.elements_.push(t),this.priorities_.push(e),this.queuedElements_[this.keyFunction_(t)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},Td.prototype.getCount=function(){return this.elements_.length},Td.prototype.getLeftChildIndex_=function(t){return 2*t+1},Td.prototype.getRightChildIndex_=function(t){return 2*t+2},Td.prototype.getParentIndex_=function(t){return t-1>>1},Td.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},Td.prototype.isEmpty=function(){return 0===this.elements_.length},Td.prototype.isKeyQueued=function(t){return t in this.queuedElements_},Td.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},Td.prototype.siftUp_=function(t){for(var e=this.elements_,n=this.priorities_,i=e.length,r=e[t],o=n[t],s=t;t<i>>1;){var a=this.getLeftChildIndex_(t),u=this.getRightChildIndex_(t),l=u<i&&n[u]<n[a]?u:a;e[t]=e[l],n[t]=n[l],t=l}e[t]=r,n[t]=o,this.siftDown_(s,t)},Td.prototype.siftDown_=function(t,e){for(var n=this.elements_,i=this.priorities_,r=n[e],o=i[e];e>t;){var s=this.getParentIndex_(e);if(!(i[s]>o))break;n[e]=n[s],i[e]=i[s],e=s}n[e]=r,i[e]=o},Td.prototype.reprioritize=function(){var t,e,n,i=this.priorityFunction_,r=this.elements_,o=this.priorities_,s=0,a=r.length;for(e=0;e<a;++e)t=r[e],n=i(t),n==1/0?delete this.queuedElements_[this.keyFunction_(t)]:(o[s]=n,r[s++]=t);r.length=s,o.length=s,this.heapify_()};var Cd=function(t){function e(e,n){t.call(this,function(t){return e.apply(null,t)},function(t){return t[0].getKey()}),this.tileChangeCallback_=n,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.enqueue=function(e){var n=t.prototype.enqueue.call(this,e);if(n){f(e[0],hh.CHANGE,this.handleTileChange,this)}return n},e.prototype.getTilesLoading=function(){return this.tilesLoading_},e.prototype.handleTileChange=function(t){var e=t.target,n=e.getState();if(n===Sd.LOADED||n===Sd.ERROR||n===Sd.EMPTY||n===Sd.ABORT){m(e,hh.CHANGE,this.handleTileChange,this);var i=e.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}},e.prototype.loadMoreTiles=function(t,e){for(var n,i,r,o=0,s=!1;this.tilesLoading_<t&&o<e&&this.getCount()>0;)i=this.dequeue()[0],r=i.getKey(),n=i.getState(),n===Sd.ABORT?s=!0:n!==Sd.IDLE||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++o,i.load());0===o&&s&&this.tileChangeCallback_()},e}(Td),Md={LAYERS:"layers"},Ld=function(t){function e(e){var n=e||{},i=lh({},n);delete i.layers;var r=n.layers;t.call(this,i),this.layersListenerKeys_=[],this.listenerKeys_={},f(this,S(Md.LAYERS),this.handleLayersChanged_,this),r?Array.isArray(r)?r=new gc(r.slice(),{unique:!0}):T("function"===typeof r.getArray,43):r=new gc(void 0,{unique:!0}),this.setLayers(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleLayerChange_=function(){this.changed()},e.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(g),this.layersListenerKeys_.length=0;var t=this.getLayers();this.layersListenerKeys_.push(f(t,fc.ADD,this.handleLayersAdd_,this),f(t,fc.REMOVE,this.handleLayersRemove_,this));for(var e in this.listenerKeys_)this.listenerKeys_[e].forEach(g);r(this.listenerKeys_);for(var n=t.getArray(),i=0,o=n.length;i<o;i++){var s=n[i];this.listenerKeys_[v(s)]=[f(s,fh.PROPERTYCHANGE,this.handleLayerChange_,this),f(s,hh.CHANGE,this.handleLayerChange_,this)]}this.changed()},e.prototype.handleLayersAdd_=function(t){var e=t.element;this.listenerKeys_[v(e)]=[f(e,fh.PROPERTYCHANGE,this.handleLayerChange_,this),f(e,hh.CHANGE,this.handleLayerChange_,this)],this.changed()},e.prototype.handleLayersRemove_=function(t){var e=t.element,n=v(e);this.listenerKeys_[n].forEach(g),delete this.listenerKeys_[n],this.changed()},e.prototype.getLayers=function(){return this.get(Md.LAYERS)},e.prototype.setLayers=function(t){this.set(Md.LAYERS,t)},e.prototype.getLayersArray=function(t){var e=void 0!==t?t:[];return this.getLayers().forEach(function(t){t.getLayersArray(e)}),e},e.prototype.getLayerStatesArray=function(t){var e=void 0!==t?t:[],n=e.length;this.getLayers().forEach(function(t){t.getLayerStatesArray(e)});for(var i=this.getLayerState(),r=n,o=e.length;r<o;r++){var s=e[r];s.opacity*=i.opacity,s.visible=s.visible&&i.visible,s.maxResolution=Math.min(s.maxResolution,i.maxResolution),s.minResolution=Math.max(s.minResolution,i.minResolution),void 0!==i.extent&&(void 0!==s.extent?s.extent=ht(s.extent,i.extent):s.extent=i.extent)}return e},e.prototype.getSourceState=function(){return Ch.READY},e}(Sh),Pd=function(t){function e(e){t.call(this);var n=_o(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:jc,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=Fe(),this.pixelToCoordinateTransform_=Fe(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(Gc?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var i=[hh.CLICK,hh.DBLCLICK,hh.MOUSEDOWN,hh.TOUCHSTART,hh.MSPOINTERDOWN,ad.POINTERDOWN,hh.MOUSEWHEEL,hh.WHEEL],r=0,o=i.length;r<o;++r)f(this.overlayContainerStopEvent_,i[r],E);this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new wd(this,e.moveTolerance);for(var s in ad)f(this.mapBrowserEventHandler_,ad[s],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=n.keyboardEventTarget,this.keyHandlerKeys_=null,f(this.viewport_,hh.CONTEXTMENU,this.handleBrowserEvent,this),f(this.viewport_,hh.WHEEL,this.handleBrowserEvent,this),f(this.viewport_,hh.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=n.controls||new gc,this.interactions=n.interactions||new gc,this.overlays_=n.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new Cd(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},f(this,S(Ed.LAYERGROUP),this.handleLayerGroupChanged_,this),f(this,S(Ed.VIEW),this.handleViewChanged_,this),f(this,S(Ed.SIZE),this.handleSizeChanged_,this),f(this,S(Ed.TARGET),this.handleTargetChanged_,this),this.setProperties(n.values),this.controls.forEach(function(t){t.setMap(this)}.bind(this)),f(this.controls,fc.ADD,function(t){t.element.setMap(this)},this),f(this.controls,fc.REMOVE,function(t){t.element.setMap(null)},this),this.interactions.forEach(function(t){t.setMap(this)}.bind(this)),f(this.interactions,fc.ADD,function(t){t.element.setMap(this)},this),f(this.interactions,fc.REMOVE,function(t){t.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),f(this.overlays_,fc.ADD,function(t){this.addOverlayInternal_(t.element)},this),f(this.overlays_,fc.REMOVE,function(t){var e=t.element,n=e.getId();void 0!==n&&delete this.overlayIdIndex_[n.toString()],t.element.setMap(null)},this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},e.prototype.addControl=function(t){this.getControls().push(t)},e.prototype.addInteraction=function(t){this.getInteractions().push(t)},e.prototype.addLayer=function(t){this.getLayerGroup().getLayers().push(t)},e.prototype.addOverlay=function(t){this.getOverlays().push(t)},e.prototype.addOverlayInternal_=function(t){var e=t.getId();void 0!==e&&(this.overlayIdIndex_[e.toString()]=t),t.setMap(this)},e.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),m(this.viewport_,hh.CONTEXTMENU,this.handleBrowserEvent,this),m(this.viewport_,hh.WHEEL,this.handleBrowserEvent,this),m(this.viewport_,hh.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(hh.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),t.prototype.disposeInternal.call(this)},e.prototype.forEachFeatureAtPixel=function(t,e,n){if(this.frameState_){var i=this.getCoordinateFromPixel(t);n=void 0!==n?n:{};var r=void 0!==n.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=void 0!==n.layerFilter?n.layerFilter:b;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,e,null,o,null)}},e.prototype.getFeaturesAtPixel=function(t,e){var n=null;return this.forEachFeatureAtPixel(t,function(t){n||(n=[]),n.push(t)},e),n},e.prototype.forEachLayerAtPixel=function(t,e,n){if(this.frameState_){var i=n||{},r=void 0!==i.hitTolerance?n.hitTolerance*this.frameState_.pixelRatio:0,o=i.layerFilter||b;return this.renderer_.forEachLayerAtPixel(t,this.frameState_,r,e,null,o,null)}},e.prototype.hasFeatureAtPixel=function(t,e){if(!this.frameState_)return!1;var n=this.getCoordinateFromPixel(t);e=void 0!==e?e:{};var i=void 0!==e.layerFilter?e.layerFilter:b,r=void 0!==e.hitTolerance?e.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,i,null)},e.prototype.getEventCoordinate=function(t){return this.getCoordinateFromPixel(this.getEventPixel(t))},e.prototype.getEventPixel=function(t){var e=this.viewport_.getBoundingClientRect(),n="changedTouches"in t?t.changedTouches[0]:t;return[n.clientX-e.left,n.clientY-e.top]},e.prototype.getTarget=function(){return this.get(Ed.TARGET)},e.prototype.getTargetElement=function(){var t=this.getTarget();return void 0!==t?"string"===typeof t?document.getElementById(t):t:null},e.prototype.getCoordinateFromPixel=function(t){var e=this.frameState_;return e?Ue(e.pixelToCoordinateTransform,t.slice()):null},e.prototype.getControls=function(){return this.controls},e.prototype.getOverlays=function(){return this.overlays_},e.prototype.getOverlayById=function(t){var e=this.overlayIdIndex_[t.toString()];return void 0!==e?e:null},e.prototype.getInteractions=function(){return this.interactions},e.prototype.getLayerGroup=function(){return this.get(Ed.LAYERGROUP)},e.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},e.prototype.getPixelFromCoordinate=function(t){var e=this.frameState_;return e?Ue(e.coordinateToPixelTransform,t.slice(0,2)):null},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.getSize=function(){return this.get(Ed.SIZE)},e.prototype.getView=function(){return this.get(Ed.VIEW)},e.prototype.getViewport=function(){return this.viewport_},e.prototype.getOverlayContainer=function(){return this.overlayContainer_},e.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},e.prototype.getTilePriority=function(t,e,n,i){var r=this.frameState_;if(!r||!(e in r.wantedTiles))return 1/0;if(!r.wantedTiles[e][t.getKey()])return 1/0;var o=n[0]-r.focus[0],s=n[1]-r.focus[1];return 65536*Math.log(i)+Math.sqrt(o*o+s*s)/i},e.prototype.handleBrowserEvent=function(t,e){var n=e||t.type,i=new sd(n,this,t);this.handleMapBrowserEvent(i)},e.prototype.handleMapBrowserEvent=function(t){if(this.frameState_){this.focus_=t.coordinate,t.frameState=this.frameState_;var e=this.getInteractions().getArray();if(!1!==this.dispatchEvent(t))for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.getActive()){var r=i.handleEvent(t);if(!r)break}}}},e.prototype.handlePostRender=function(){var t=this.frameState_,e=this.tileQueue_;if(!e.isEmpty()){var n=this.maxTilesLoading_,i=n;if(t){var r=t.viewHints;r[Kf.ANIMATING]&&(n=this.loadTilesWhileAnimating_?8:0,i=2),r[Kf.INTERACTING]&&(n=this.loadTilesWhileInteracting_?8:0,i=2)}e.getTilesLoading()<n&&(e.reprioritize(),e.loadMoreTiles(n,i))}!t||!this.hasListener(Th.RENDERCOMPLETE)||t.animate||this.tileQueue_.getTilesLoading()||vo(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(Th.RENDERCOMPLETE,t);for(var o=this.postRenderFunctions_,s=0,a=o.length;s<a;++s)o[s](this,t);o.length=0},e.prototype.handleSizeChanged_=function(){this.render()},e.prototype.handleTargetChanged_=function(){var t;if(this.getTarget()&&(t=this.getTargetElement()),this.keyHandlerKeys_){for(var e=0,n=this.keyHandlerKeys_.length;e<n;++e)g(this.keyHandlerKeys_[e]);this.keyHandlerKeys_=null}if(t){t.appendChild(this.viewport_);var i=this.keyboardEventTarget_?this.keyboardEventTarget_:t;this.keyHandlerKeys_=[f(i,hh.KEYDOWN,this.handleBrowserEvent,this),f(i,hh.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),addEventListener(hh.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),Xt(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(hh.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},e.prototype.handleTileChange_=function(){this.render()},e.prototype.handleViewPropertyChanged_=function(){this.render()},e.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&(g(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(g(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",v(t)),this.viewPropertyListenerKey_=f(t,fh.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=f(t,hh.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},e.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(g),this.layerGroupPropertyListenerKeys_=null);var t=this.getLayerGroup();t&&(this.layerGroupPropertyListenerKeys_=[f(t,fh.PROPERTYCHANGE,this.render,this),f(t,hh.CHANGE,this.render,this)]),this.render()},e.prototype.isRendered=function(){return!!this.frameState_},e.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},e.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},e.prototype.removeControl=function(t){return this.getControls().remove(t)},e.prototype.removeInteraction=function(t){return this.getInteractions().remove(t)},e.prototype.removeLayer=function(t){return this.getLayerGroup().getLayers().remove(t)},e.prototype.removeOverlay=function(t){return this.getOverlays().remove(t)},e.prototype.renderFrame_=function(t){var e,n=this.getSize(),i=this.getView(),r=W(),o=this.frameState_,s=null;if(void 0!==n&&mo(n)&&i&&i.isDef()){for(var a=i.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=this.getLayerGroup().getLayerStatesArray(),l={},h=0,c=u.length;h<c;++h)l[v(u[h].layer)]=u[h];e=i.getState(this.pixelRatio_),s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:r,focus:this.focus_?this.focus_:e.center,index:this.frameIndex_++,layerStates:l,layerStatesArray:u,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:n,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:e,viewHints:a,wantedTiles:{}}}if(s&&(s.extent=ut(e.center,e.resolution,e.rotation,s.size,r)),this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),o){(!this.previousExtent_||!mt(this.previousExtent_)&&!K(s.extent,this.previousExtent_))&&(this.dispatchEvent(new od(Kp.MOVESTART,this,o)),this.previousExtent_=V(this.previousExtent_))}this.previousExtent_&&!s.viewHints[Kf.ANIMATING]&&!s.viewHints[Kf.INTERACTING]&&!K(s.extent,this.previousExtent_)&&(this.dispatchEvent(new od(Kp.MOVEEND,this,s)),D(s.extent,this.previousExtent_))}this.dispatchEvent(new od(Kp.POSTRENDER,this,s)),setTimeout(this.handlePostRender.bind(this),0)},e.prototype.setLayerGroup=function(t){this.set(Ed.LAYERGROUP,t)},e.prototype.setSize=function(t){this.set(Ed.SIZE,t)},e.prototype.setTarget=function(t){this.set(Ed.TARGET,t)},e.prototype.setView=function(t){this.set(Ed.VIEW,t)},e.prototype.skipFeature=function(t){this.skippedFeatureUids_[v(t)]=!0,this.render()},e.prototype.updateSize=function(){var t=this.getTargetElement();if(t){var e=getComputedStyle(t);this.setSize([t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.setSize(void 0)},e.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[v(t)],this.render()},e}(vh),Od=function(t){function e(e){t.call(this),this.element=e.element?e.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=e.render?e.render:w,e.target&&this.setTarget(e.target)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){Xt(this.element),t.prototype.disposeInternal.call(this)},e.prototype.getMap=function(){return this.map_},e.prototype.setMap=function(t){this.map_&&Xt(this.element);for(var e=0,n=this.listenerKeys.length;e<n;++e)g(this.listenerKeys[e]);if(this.listenerKeys.length=0,this.map_=t,this.map_){(this.target_?this.target_:t.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==w&&this.listenerKeys.push(f(t,Kp.POSTRENDER,this.render,this)),t.render()}},e.prototype.setTarget=function(t){this.target_="string"===typeof t?document.getElementById(t):t},e}(vh),Ad=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||bo,target:n.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===n.collapsed||n.collapsed,this.overrideCollapsible_=void 0!==n.collapsible,this.collapsible_=void 0===n.collapsible||n.collapsible,this.collapsible_||(this.collapsed_=!1);var i=void 0!==n.className?n.className:"ol-attribution",r=void 0!==n.tipLabel?n.tipLabel:"Attributions",o=void 0!==n.collapseLabel?n.collapseLabel:"\xbb";"string"===typeof o?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=o):this.collapseLabel_=o;var s=void 0!==n.label?n.label:"i";"string"===typeof s?(this.label_=document.createElement("span"),this.label_.textContent=s):this.label_=s;var a=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,u=document.createElement("button");u.setAttribute("type","button"),u.title=r,u.appendChild(a),f(u,hh.CLICK,this.handleClick_,this);var l=i+" "+Wc+" "+Xc+(this.collapsed_&&this.collapsible_?" "+Vc:"")+(this.collapsible_?"":" ol-uncollapsible"),h=this.element;h.className=l,h.appendChild(this.ulElement_),h.appendChild(u),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.collectSourceAttributions_=function(t){for(var e={},n=[],i=t.layerStatesArray,r=t.viewState.resolution,o=0,s=i.length;o<s;++o){var a=i[o];if(k(a,r)){var u=a.layer.getSource();if(u){var l=u.getAttributions();if(l){var h=l(t);if(h)if(this.overrideCollapsible_||!1!==u.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(h))for(var c=0,p=h.length;c<p;++c)h[c]in e||(n.push(h[c]),e[h[c]]=!0);else h in e||(n.push(h),e[h]=!0)}}}}return n},e.prototype.updateElement_=function(t){if(!t)return void(this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1));var e=this.collectSourceAttributions_(t),n=e.length>0;if(this.renderedVisible_!=n&&(this.element.style.display=n?"":"none",this.renderedVisible_=n),!ie(e,this.renderedAttributions_)){Vt(this.ulElement_);for(var i=0,r=e.length;i<r;++i){var o=document.createElement("li");o.innerHTML=e[i],this.ulElement_.appendChild(o)}this.renderedAttributions_=e}},e.prototype.handleClick_=function(t){t.preventDefault(),this.handleToggle_()},e.prototype.handleToggle_=function(){this.element.classList.toggle(Vc),this.collapsed_?Wt(this.collapseLabel_,this.label_):Wt(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},e.prototype.getCollapsible=function(){return this.collapsible_},e.prototype.setCollapsible=function(t){this.collapsible_!==t&&(this.collapsible_=t,this.element.classList.toggle("ol-uncollapsible"),!t&&this.collapsed_&&this.handleToggle_())},e.prototype.setCollapsed=function(t){this.collapsible_&&this.collapsed_!==t&&this.handleToggle_()},e.prototype.getCollapsed=function(){return this.collapsed_},e}(Od),Rd=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),render:n.render||xo,target:n.target});var i=void 0!==n.className?n.className:"ol-rotate",r=void 0!==n.label?n.label:"\u21e7";this.label_=null,"string"===typeof r?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=r):(this.label_=r,this.label_.classList.add("ol-compass"));var o=n.tipLabel?n.tipLabel:"Reset rotation",s=document.createElement("button");s.className=i+"-reset",s.setAttribute("type","button"),s.title=o,s.appendChild(this.label_),f(s,hh.CLICK,this.handleClick_,this);var a=i+" "+Wc+" "+Xc,u=this.element;u.className=a,u.appendChild(s),this.callResetNorth_=n.resetNorth?n.resetNorth:void 0,this.duration_=void 0!==n.duration?n.duration:250,this.autoHide_=void 0===n.autoHide||n.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(Bc)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},e.prototype.resetNorth_=function(){var t=this.getMap(),e=t.getView();e&&void 0!==e.getRotation()&&(this.duration_>0?e.animate({rotation:0,duration:this.duration_,easing:Ar}):e.setRotation(0))},e}(Od),Id=function(t){function e(e){var n=e||{};t.call(this,{element:document.createElement("div"),target:n.target});var i=void 0!==n.className?n.className:"ol-zoom",r=void 0!==n.delta?n.delta:1,o=void 0!==n.zoomInLabel?n.zoomInLabel:"+",s=void 0!==n.zoomOutLabel?n.zoomOutLabel:"\u2212",a=void 0!==n.zoomInTipLabel?n.zoomInTipLabel:"Zoom in",u=void 0!==n.zoomOutTipLabel?n.zoomOutTipLabel:"Zoom out",l=document.createElement("button");l.className=i+"-in",l.setAttribute("type","button"),l.title=a,l.appendChild("string"===typeof o?document.createTextNode(o):o),f(l,hh.CLICK,this.handleClick_.bind(this,r));var h=document.createElement("button");h.className=i+"-out",h.setAttribute("type","button"),h.title=u,h.appendChild("string"===typeof s?document.createTextNode(s):s),f(h,hh.CLICK,this.handleClick_.bind(this,-r));var c=i+" "+Wc+" "+Xc,p=this.element;p.className=c,p.appendChild(l),p.appendChild(h),this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleClick_=function(t,e){e.preventDefault(),this.zoomByDelta_(t)},e.prototype.zoomByDelta_=function(t){var e=this.getMap(),n=e.getView();if(n){var i=n.getResolution();if(i){var r=n.constrainResolution(i,t);this.duration_>0?(n.getAnimating()&&n.cancelAnimations(),n.animate({resolution:r,duration:this.duration_,easing:Ar})):n.setResolution(r)}}},e}(Od),kd=function(t,e,n){this.decay_=t,this.minVelocity_=e,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};kd.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},kd.prototype.update=function(t,e){this.points_.push(t,e,Date.now())},kd.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,e=this.points_.length-3;if(this.points_[e+2]<t)return!1;for(var n=e-3;n>0&&this.points_[n+2]>t;)n-=3;var i=this.points_[e+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[e]-this.points_[n],o=this.points_[e+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_},kd.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},kd.prototype.getAngle=function(){return this.angle_};var Nd={ACTIVE:"active"},Fd=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(Nd.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(Nd.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(vh),jd=function(t){function e(e){t.call(this,{handleEvent:Po});var n=e||{};this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Fd),Dd=function(t){var e=t.originalEvent;return e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Gd=function(t){return t.target.getTargetElement()===document.activeElement},zd=b,Ud=function(t){var e=t.originalEvent;return 0==e.button&&!(Nc&&Fc&&e.ctrlKey)},Bd=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&!e.shiftKey},Zd=function(t){var e=t.originalEvent;return!e.altKey&&!(e.metaKey||e.ctrlKey)&&e.shiftKey},Wd=function(t){var e=t.originalEvent.target,n=e.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n},Xd=function(t){var e=t.pointerEvent;return T(void 0!==e,56),"mouse"==e.pointerType},Vd=function(t){function e(e){var n=e||{};t.call(this,n),n.handleDownEvent&&(this.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(this.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(this.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(this.handleUpEvent=n.handleUpEvent),n.stopDown&&(this.stopDown=n.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDownEvent=function(t){return!1},e.prototype.handleDragEvent=function(t){},e.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var e=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==ad.POINTERDRAG)this.handleDragEvent(t);else if(t.type==ad.POINTERUP){var n=this.handleUpEvent(t);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(t.type==ad.POINTERDOWN){var i=this.handleDownEvent(t);i&&t.preventDefault(),this.handlingDownUpSequence=i,e=this.stopDown(i)}else t.type==ad.POINTERMOVE&&this.handleMoveEvent(t);return!e},e.prototype.handleMoveEvent=function(t){},e.prototype.handleUpEvent=function(t){return!1},e.prototype.stopDown=function(t){return t},e.prototype.updateTrackedPointers_=function(t){if(Ao(t)){var e=t.pointerEvent,n=e.pointerId.toString();t.type==ad.POINTERUP?delete this.trackedPointers_[n]:t.type==ad.POINTERDOWN?this.trackedPointers_[n]=e:n in this.trackedPointers_&&(this.trackedPointers_[n]=e),this.targetPointers=o(this.trackedPointers_)}},e}(Fd),Hd=function(t){function e(e){t.call(this,{stopDown:x});var n=e||{};this.kinetic_=n.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=n.condition?n.condition:Bd,this.noKinetic_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(Kf.INTERACTING,1));var e=this.targetPointers,n=Oo(e);if(e.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(n[0],n[1]),this.lastCentroid){var i=this.lastCentroid[0]-n[0],r=n[1]-this.lastCentroid[1],o=t.map,s=o.getView(),a=[i,r];Lr(a,s.getResolution()),Mr(a,s.getRotation()),Tr(a,s.getCenter()),a=s.constrainCenter(a),s.setCenter(a)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=n,this.lastPointersCount_=e.length},e.prototype.handleUpEvent=function(t){var e=t.map,n=e.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenter(),s=e.getPixelFromCoordinate(o),a=e.getCoordinateFromPixel([s[0]-i*Math.cos(r),s[1]-i*Math.sin(r)]);n.animate({center:n.constrainCenter(a),duration:500,easing:Ar})}return this.panning_&&(this.panning_=!1,n.setHint(Kf.INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map,n=e.getView();return this.lastCentroid=null,n.getAnimating()&&n.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},e}(Vd),Yd=function(t){function e(e){var n=e||{};t.call(this,{stopDown:x}),this.condition_=n.condition?n.condition:Dd,this.lastAngle_=void 0,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){if(Xd(t)){var e=t.map,n=e.getView();if(n.getConstraints().rotation!==xr){var i=e.getSize(),r=t.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){var s=o-this.lastAngle_;To(n,n.getRotation()-s)}this.lastAngle_=o}}},e.prototype.handleUpEvent=function(t){if(!Xd(t))return!0;var e=t.map,n=e.getView();return n.setHint(Kf.INTERACTING,-1),So(n,n.getRotation(),void 0,this.duration_),!1},e.prototype.handleDownEvent=function(t){if(!Xd(t))return!1;if(Ud(t)&&this.condition_(t)){return t.map.getView().setHint(Kf.INTERACTING,1),this.lastAngle_=void 0,!0}return!1},e}(Vd),qd=function(t){function e(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.setMap(null)},e.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,n=this.element_.style;n.left=Math.min(t[0],e[0])+"px",n.top=Math.min(t[1],e[1])+"px",n.width=Math.abs(e[0]-t[0])+"px",n.height=Math.abs(e[1]-t[1])+"px"},e.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},e.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},e.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,e=this.endPixel_,n=[t,[t[0],e[1]],e,[e[0],t[1]]],i=n.map(this.map_.getCoordinateFromPixel,this.map_);i[4]=i[0].slice(),this.geometry_?this.geometry_.setCoordinates([i]):this.geometry_=new pf([i])},e.prototype.getGeometry=function(){return this.geometry_},e}(dh),Kd={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},Jd=function(t){function e(e,n,i){t.call(this,e),this.coordinate=n,this.mapBrowserEvent=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mh),Qd=function(t){function e(e){t.call(this);var n=e||{};this.box_=new qd(n.className||"ol-dragbox"),this.minArea_=void 0!==n.minArea?n.minArea:64,this.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:w,this.startPixel_=null,this.condition_=n.condition?n.condition:zd,this.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:this.defaultBoxEndCondition}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.defaultBoxEndCondition=function(t,e,n){var i=n[0]-e[0],r=n[1]-e[1];return i*i+r*r>=this.minArea_},e.prototype.getGeometry=function(){return this.box_.getGeometry()},e.prototype.handleDragEvent=function(t){Xd(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new Jd(Kd.BOXDRAG,t.coordinate,t)))},e.prototype.handleUpEvent=function(t){return!Xd(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new Jd(Kd.BOXEND,t.coordinate,t))),!1)},e.prototype.handleDownEvent=function(t){return!!Xd(t)&&(!(!Ud(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new Jd(Kd.BOXSTART,t.coordinate,t)),!0))},e}(Vd),$d=function(t){function e(e){var n=e||{},i=n.condition?n.condition:Zd;t.call(this,{condition:i,className:n.className||"ol-dragzoom",onBoxEnd:Ro}),this.duration_=void 0!==n.duration?n.duration:200,this.out_=void 0!==n.out&&n.out}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Qd),tm={LEFT:37,UP:38,RIGHT:39,DOWN:40},em=function(t){function e(e){t.call(this,{handleEvent:Io});var n=e||{};this.defaultCondition_=function(t){return Bd(t)&&Wd(t)},this.condition_=void 0!==n.condition?n.condition:this.defaultCondition_,this.duration_=void 0!==n.duration?n.duration:100,this.pixelDelta_=void 0!==n.pixelDelta?n.pixelDelta:128}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Fd),nm=function(t){function e(e){t.call(this,{handleEvent:ko});var n=e||{};this.condition_=n.condition?n.condition:Wd,this.delta_=n.delta?n.delta:1,this.duration_=void 0!==n.duration?n.duration:100}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Fd),im={TRACKPAD:"trackpad",WHEEL:"wheel"},rm=function(t){function e(e){var n=e||{};t.call(this,n),this.delta_=0,this.duration_=void 0!==n.duration?n.duration:250,this.timeout_=void 0!==n.timeout?n.timeout:80,this.useAnchor_=void 0===n.useAnchor||n.useAnchor,this.constrainResolution_=n.constrainResolution||!1,this.condition_=n.condition?n.condition:zd,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(Kf.INTERACTING,-1)},e.prototype.handleEvent=function(t){if(!this.condition_(t))return!0;var e=t.type;if(e!==hh.WHEEL&&e!==hh.MOUSEWHEEL)return!0;t.preventDefault();var n=t.map,i=t.originalEvent;this.useAnchor_&&(this.lastAnchor_=t.coordinate);var r;if(t.type==hh.WHEEL?(r=i.deltaY,Ic&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=jc),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)):t.type==hh.MOUSEWHEEL&&(r=-i.wheelDeltaY,kc&&(r/=3)),0===r)return!1;var o=Date.now();if(void 0===this.startTime_&&(this.startTime_=o),(!this.mode_||o-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(r)<4?im.TRACKPAD:im.WHEEL),this.mode_===im.TRACKPAD){var s=n.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):s.setHint(Kf.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var a=s.getResolution()*Math.pow(2,r/this.trackpadDeltaPerZoom_),u=s.getMinResolution(),l=s.getMaxResolution(),h=0;if(a<u?(a=Math.max(a,u/this.trackpadZoomBuffer_),h=1):a>l&&(a=Math.min(a,l*this.trackpadZoomBuffer_),h=-1),this.lastAnchor_){var c=s.calculateCenterZoom(a,this.lastAnchor_);s.setCenter(s.constrainCenter(c))}return s.setResolution(a),0===h&&this.constrainResolution_&&s.animate({resolution:s.constrainResolution(a,r>0?-1:1),easing:Ar,anchor:this.lastAnchor_,duration:this.duration_}),h>0?s.animate({resolution:u,easing:Ar,anchor:this.lastAnchor_,duration:500}):h<0&&s.animate({resolution:l,easing:Ar,anchor:this.lastAnchor_,duration:500}),this.startTime_=o,!1}this.delta_+=r;var p=Math.max(this.timeout_-(o-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),p),!1},e.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();Mo(e,-C(this.delta_,-1,1),this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},e.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},e}(Fd),om=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=x),t.call(this,i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==n.threshold?n.threshold:.3,this.duration_=void 0!==n.duration?n.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=o}this.lastAngle_=r;var s=t.map,a=s.getView();if(a.getConstraints().rotation!==xr){var u=s.getViewport().getBoundingClientRect(),l=Oo(this.targetPointers);if(l[0]-=u.left,l[1]-=u.top,this.anchor_=s.getCoordinateFromPixel(l),this.rotating_){var h=a.getRotation();s.render(),To(a,h+e,this.anchor_)}}},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,n=e.getView();if(n.setHint(Kf.INTERACTING,-1),this.rotating_){So(n,n.getRotation(),this.anchor_,this.duration_)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||e.getView().setHint(Kf.INTERACTING,1),!0}return!1},e}(Vd),sm=function(t){function e(e){var n=e||{},i=n;i.stopDown||(i.stopDown=x),t.call(this,i),this.constrainResolution_=n.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==n.duration?n.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.handleDragEvent=function(t){var e=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,s=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(e=this.lastDistance_/s),this.lastDistance_=s;var a=t.map,u=a.getView(),l=u.getResolution(),h=u.getMaxResolution(),c=u.getMinResolution(),p=l*e;p>h?(e=h/l,p=h):p<c&&(e=c/l,p=c),1!=e&&(this.lastScaleDelta_=e);var f=a.getViewport().getBoundingClientRect(),d=Oo(this.targetPointers);d[0]-=f.left,d[1]-=f.top,this.anchor_=a.getCoordinateFromPixel(d),a.render(),Lo(u,p,this.anchor_)},e.prototype.handleUpEvent=function(t){if(this.targetPointers.length<2){var e=t.map,n=e.getView();n.setHint(Kf.INTERACTING,-1);var i=n.getResolution();if(this.constrainResolution_||i<n.getMinResolution()||i>n.getMaxResolution()){var r=this.lastScaleDelta_-1;Co(n,i,this.anchor_,this.duration_,r)}return!1}return!0},e.prototype.handleDownEvent=function(t){if(this.targetPointers.length>=2){var e=t.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||e.getView().setHint(Kf.INTERACTING,1),!0}return!1},e}(Vd),am=function(t){function e(e,n,i){if(t.call(this),void 0!==i&&void 0===n)this.setFlatCoordinates(i,e);else{var r=n||0;this.setCenterAndRadius(e,r,i)}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.flatCoordinates.slice(),void 0,this.layout)},e.prototype.closestPointXY=function(t,e,n,i){var r=this.flatCoordinates,o=t-r[0],s=e-r[1],a=o*o+s*s;if(a<i){if(0===a)for(var u=0;u<this.stride;++u)n[u]=r[u];else{var l=this.getRadius()/Math.sqrt(a);n[0]=r[0]+l*o,n[1]=r[1]+l*s;for(var h=2;h<this.stride;++h)n[h]=r[h]}return n.length=this.stride,a}return i},e.prototype.containsXY=function(t,e){var n=this.flatCoordinates,i=t-n[0],r=e-n[1];return i*i+r*r<=this.getRadiusSquared_()},e.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},e.prototype.computeExtent=function(t){var e=this.flatCoordinates,n=e[this.stride]-e[0];return X(e[0]-n,e[1]-n,e[0]+n,e[1]+n,t)},e.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},e.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},e.prototype.getType=function(){return Nh.CIRCLE},e.prototype.intersectsExtent=function(t){if(dt(t,this.getExtent())){var e=this.getCenter();return t[0]<=e[0]&&t[2]>=e[0]||t[1]<=e[1]&&t[3]>=e[1]||nt(t,this.intersectsCoordinate,this)}return!1},e.prototype.setCenter=function(t){var e=this.stride,n=this.flatCoordinates[e]-this.flatCoordinates[0],i=t.slice();i[e]=i[0]+n;for(var r=1;r<e;++r)i[e+r]=t[r];this.setFlatCoordinates(this.layout,i),this.changed()},e.prototype.setCenterAndRadius=function(t,e,n){this.setLayout(n,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,r=ln(i,0,t,this.stride);i[r++]=i[0]+e;for(var o=1,s=this.stride;o<s;++o)i[r++]=i[o];i.length=r,this.changed()},e.prototype.getCoordinates=function(){return null},e.prototype.setCoordinates=function(t,e){},e.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},e}(xp);am.prototype.transform;var um=function(t){function e(e,n,i,r,o){var s=void 0!==o?Ah.IDLE:Ah.LOADED;t.call(this,e,n,i,s),this.loader_=void 0!==o?o:null,this.canvas_=r,this.error_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getError=function(){return this.error_},e.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=Ah.ERROR):this.state=Ah.LOADED,this.changed()},e.prototype.load=function(){this.state==Ah.IDLE&&(this.state=Ah.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},e.prototype.getImage=function(){return this.canvas_},e}(Oh),lm=function(t){function e(e,n,i,r,o){t.call(this,e),this.vectorContext=n,this.frameState=i,this.context=r,this.glContext=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mh),hm=function(){};hm.prototype.drawCustom=function(t,e,n){},hm.prototype.drawGeometry=function(t){},hm.prototype.setStyle=function(t){},hm.prototype.drawCircle=function(t,e){},hm.prototype.drawFeature=function(t,e){},hm.prototype.drawGeometryCollection=function(t,e){},hm.prototype.drawLineString=function(t,e){},hm.prototype.drawMultiLineString=function(t,e){},hm.prototype.drawMultiPoint=function(t,e){},hm.prototype.drawMultiPolygon=function(t,e){},hm.prototype.drawPoint=function(t,e){},hm.prototype.drawPolygon=function(t,e){},hm.prototype.drawText=function(t,e){},hm.prototype.setFillStrokeStyle=function(t,e){},hm.prototype.setImageStyle=function(t,e){},hm.prototype.setTextStyle=function(t,e){};var cm=function(t){function e(e,n,i,r,o){t.call(this),this.context_=e,this.pixelRatio_=n,this.extent_=i,this.transform_=r,this.viewRotation_=o,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=Fe()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawImages_=function(t,e,n,i){if(this.image_){var r=en(t,e,n,2,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.tmpLocalTransform_,a=o.globalAlpha;1!=this.imageOpacity_&&(o.globalAlpha=a*this.imageOpacity_);var u=this.imageRotation_;this.imageRotateWithView_&&(u+=this.viewRotation_);for(var l=0,h=r.length;l<h;l+=2){var c=r[l]-this.imageAnchorX_,p=r[l+1]-this.imageAnchorY_;if(0!==u||1!=this.imageScale_){var f=c+this.imageAnchorX_,d=p+this.imageAnchorY_;We(s,f,d,this.imageScale_,this.imageScale_,u,-f,-d),o.setTransform.apply(o,s)}o.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,c,p,this.imageWidth_,this.imageHeight_)}0===u&&1==this.imageScale_||o.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(o.globalAlpha=a)}},e.prototype.drawText_=function(t,e,n,i){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var r=en(t,e,n,i,this.transform_,this.pixelCoordinates_),o=this.context_,s=this.textRotation_;for(this.textRotateWithView_&&(s+=this.viewRotation_);e<n;e+=i){var a=r[e]+this.textOffsetX_,u=r[e+1]+this.textOffsetY_;if(0!==s||1!=this.textScale_){var l=We(this.tmpLocalTransform_,a,u,this.textScale_,this.textScale_,s,-a,-u);o.setTransform.apply(o,l)}this.textStrokeState_&&o.strokeText(this.text_,a,u),this.textFillState_&&o.fillText(this.text_,a,u)}0===s&&1==this.textScale_||o.setTransform(1,0,0,1,0,0)}},e.prototype.moveToLineTo_=function(t,e,n,i,r){var o=this.context_,s=en(t,e,n,i,this.transform_,this.pixelCoordinates_);o.moveTo(s[0],s[1]);var a=s.length;r&&(a-=2);for(var u=2;u<a;u+=2)o.lineTo(s[u],s[u+1]);return r&&o.closePath(),n},e.prototype.drawRings_=function(t,e,n,i){for(var r=0,o=n.length;r<o;++r)e=this.moveToLineTo_(t,e,n[r],i,!0);return e},e.prototype.drawCircle=function(t){if(dt(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=un(t,this.transform_,this.pixelCoordinates_),n=e[2]-e[0],i=e[3]-e[1],r=Math.sqrt(n*n+i*i),o=this.context_;o.beginPath(),o.arc(e[0],e[1],r,0,2*Math.PI),this.fillState_&&o.fill(),this.strokeState_&&o.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},e.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},e.prototype.drawGeometry=function(t){switch(t.getType()){case Nh.POINT:this.drawPoint(t);break;case Nh.LINE_STRING:this.drawLineString(t);break;case Nh.POLYGON:this.drawPolygon(t);break;case Nh.MULTI_POINT:this.drawMultiPoint(t);break;case Nh.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case Nh.MULTI_POLYGON:this.drawMultiPolygon(t);break;case Nh.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case Nh.CIRCLE:this.drawCircle(t)}},e.prototype.drawFeature=function(t,e){var n=e.getGeometryFunction()(t);n&&dt(this.extent_,n.getExtent())&&(this.setStyle(e),this.drawGeometry(n))},e.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),n=0,i=e.length;n<i;++n)this.drawGeometry(e[n])},e.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),n=t.getStride();this.image_&&this.drawImages_(e,0,e.length,n),""!==this.text_&&this.drawText_(e,0,e.length,n)},e.prototype.drawLineString=function(t){if(dt(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(n,0,n.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var i=t.getFlatMidpoint();this.drawText_(i,0,2,2)}}},e.prototype.drawMultiLineString=function(t){var e=t.getExtent();if(dt(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var n=this.context_,i=t.getFlatCoordinates(),r=0,o=t.getEnds(),s=t.getStride();n.beginPath();for(var a=0,u=o.length;a<u;++a)r=this.moveToLineTo_(i,r,o[a],s,!1);n.stroke()}if(""!==this.text_){var l=t.getFlatMidpoints();this.drawText_(l,0,l.length,2)}}},e.prototype.drawPolygon=function(t){if(dt(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var n=t.getFlatInteriorPoint();this.drawText_(n,0,2,2)}}},e.prototype.drawMultiPolygon=function(t){if(dt(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,n=t.getOrientedFlatCoordinates(),i=0,r=t.getEndss(),o=t.getStride();e.beginPath();for(var s=0,a=r.length;s<a;++s){var u=r[s];i=this.drawRings_(n,i,u,o)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var l=t.getFlatInteriorPoints();this.drawText_(l,0,l.length,2)}}},e.prototype.setContextFillState_=function(t){var e=this.context_,n=this.contextFillState_;n?n.fillStyle!=t.fillStyle&&(n.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},e.prototype.setContextStrokeState_=function(t){var e=this.context_,n=this.contextStrokeState_;n?(n.lineCap!=t.lineCap&&(n.lineCap=e.lineCap=t.lineCap),Dc&&(ie(n.lineDash,t.lineDash)||e.setLineDash(n.lineDash=t.lineDash),n.lineDashOffset!=t.lineDashOffset&&(n.lineDashOffset=e.lineDashOffset=t.lineDashOffset)),n.lineJoin!=t.lineJoin&&(n.lineJoin=e.lineJoin=t.lineJoin),n.lineWidth!=t.lineWidth&&(n.lineWidth=e.lineWidth=t.lineWidth),n.miterLimit!=t.miterLimit&&(n.miterLimit=e.miterLimit=t.miterLimit),n.strokeStyle!=t.strokeStyle&&(n.strokeStyle=e.strokeStyle=t.strokeStyle)):(e.lineCap=t.lineCap,Dc&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineJoin=t.lineJoin,e.lineWidth=t.lineWidth,e.miterLimit=t.miterLimit,e.strokeStyle=t.strokeStyle,this.contextStrokeState_={lineCap:t.lineCap,lineDash:t.lineDash,lineDashOffset:t.lineDashOffset,lineJoin:t.lineJoin,lineWidth:t.lineWidth,miterLimit:t.miterLimit,strokeStyle:t.strokeStyle})},e.prototype.setContextTextState_=function(t){var e=this.context_,n=this.contextTextState_,i=t.textAlign?t.textAlign:"center";n?(n.font!=t.font&&(n.font=e.font=t.font),n.textAlign!=i&&(n.textAlign=e.textAlign=i),n.textBaseline!=t.textBaseline&&(n.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=i,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:i,textBaseline:t.textBaseline})},e.prototype.setFillStrokeStyle=function(t,e){if(t){var n=t.getColor();this.fillState_={fillStyle:Ne(n||Kc)}}else this.fillState_=null;if(e){var i=e.getColor(),r=e.getLineCap(),o=e.getLineDash(),s=e.getLineDashOffset(),a=e.getLineJoin(),u=e.getWidth(),l=e.getMiterLimit();this.strokeState_={lineCap:void 0!==r?r:"round",lineDash:o||Jc,lineDashOffset:s||0,lineJoin:void 0!==a?a:"round",lineWidth:this.pixelRatio_*(void 0!==u?u:1),miterLimit:void 0!==l?l:10,strokeStyle:Ne(i||Qc)}}else this.strokeState_=null},e.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),n=t.getImage(1),i=t.getOrigin(),r=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=r[1],this.image_=n,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=i[0],this.imageOriginY_=i[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=r[0]}else this.image_=null},e.prototype.setTextStyle=function(t){if(t){var e=t.getFill();if(e){var n=e.getColor();this.textFillState_={fillStyle:Ne(n||Kc)}}else this.textFillState_=null;var i=t.getStroke();if(i){var r=i.getColor(),o=i.getLineCap(),s=i.getLineDash(),a=i.getLineDashOffset(),u=i.getLineJoin(),l=i.getWidth(),h=i.getMiterLimit();this.textStrokeState_={lineCap:void 0!==o?o:"round",lineDash:s||Jc,lineDashOffset:a||0,lineJoin:void 0!==u?u:"round",lineWidth:void 0!==l?l:1,miterLimit:void 0!==h?h:10,strokeStyle:Ne(r||Qc)}}else this.textStrokeState_=null;var c=t.getFont(),p=t.getOffsetX(),f=t.getOffsetY(),d=t.getRotateWithView(),m=t.getRotation(),g=t.getScale(),y=t.getText(),_=t.getTextAlign(),v=t.getTextBaseline();this.textState_={font:void 0!==c?c:"10px sans-serif",textAlign:void 0!==_?_:"center",textBaseline:void 0!==v?v:"middle"},this.text_=void 0!==y?y:"",this.textOffsetX_=void 0!==p?this.pixelRatio_*p:0,this.textOffsetY_=void 0!==f?this.pixelRatio_*f:0,this.textRotateWithView_=void 0!==d&&d,this.textRotation_=void 0!==m?m:0,this.textScale_=this.pixelRatio_*(void 0!==g?g:1)}else this.text_=""},e}(hm),pm=function(t){function e(e){t.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){_()},e.prototype.registerLayerRenderers=function(t){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,t)},e.prototype.calculateMatrices2D=function(t){var e=t.viewState,n=t.coordinateToPixelTransform,i=t.pixelToCoordinateTransform;We(n,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),Xe(ze(i,n))},e.prototype.removeLayerRenderers=function(){for(var t in this.layerRenderers_)this.removeLayerRendererByKey_(t).dispose()},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,s){function a(t,n){var o=e.layerStates[v(n)].managed;if(!(v(t)in e.skippedFeatureUids)||o)return i.call(r,t,o?n:null)}var u,l=e.viewState,h=l.resolution,c=l.projection,p=t;if(c.canWrapX()){var f=c.getExtent(),d=ft(f),m=t[0];if(m<f[0]||m>f[2]){p=[m+d*Math.ceil((f[0]-m)/d),t[1]]}}var g,y=e.layerStatesArray,_=y.length;for(g=_-1;g>=0;--g){var b=y[g],x=b.layer;if(k(b,h)&&o.call(s,x)){var w=this.getLayerRenderer(x),E=x.getSource();if(E&&(u=w.forEachFeatureAtCoordinate(E.getWrapX()?p:t,e,n,a)),u)return u}}},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o,s){return _()},e.prototype.hasFeatureAtCoordinate=function(t,e,n,i,r){return void 0!==this.forEachFeatureAtCoordinate(t,e,n,b,this,i,r)},e.prototype.getLayerRenderer=function(t){var e=v(t);if(e in this.layerRenderers_)return this.layerRenderers_[e];for(var n,i=0,r=this.layerRendererConstructors_.length;i<r;++i){var o=this.layerRendererConstructors_[i];if(o.handles(t)){n=o.create(this,t);break}}if(!n)throw new Error("Unable to create renderer for layer: "+t.getType());return this.layerRenderers_[e]=n,this.layerRendererListeners_[e]=f(n,hh.CHANGE,this.handleLayerRendererChange_,this),n},e.prototype.getLayerRendererByKey=function(t){return this.layerRenderers_[t]},e.prototype.getLayerRenderers=function(){return this.layerRenderers_},e.prototype.getMap=function(){return this.map_},e.prototype.handleLayerRendererChange_=function(){this.map_.render()},e.prototype.removeLayerRendererByKey_=function(t){var e=this.layerRenderers_[t];return delete this.layerRenderers_[t],g(this.layerRendererListeners_[t]),delete this.layerRendererListeners_[t],e},e.prototype.removeUnusedLayerRenderers_=function(t,e){for(var n in this.layerRenderers_)e&&n in e.layerStates||this.removeLayerRendererByKey_(n).dispose()},e.prototype.renderFrame=function(t){_()},e.prototype.scheduleExpireIconCache=function(t){t.postRenderFunctions.push(Fo)},e.prototype.scheduleRemoveUnusedLayerRenderers=function(t){for(var e in this.layerRenderers_)if(!(e in t.layerStates))return void t.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},e}(dh),fm=[],dm=function(t){function e(e){t.call(this,e);var n=e.getViewport();this.context_=Ut(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=Wc,n.insertBefore(this.canvas_,n.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=Fe()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.dispatchRenderEvent=function(t,e){var n=this.getMap(),i=this.context_;if(n.hasListener(t)){var r=e.extent,o=e.pixelRatio,s=e.viewState,a=s.rotation,u=this.getTransform(e),l=new cm(i,o,r,u,a),h=new lm(t,l,e,i,null);n.dispatchEvent(h)}},e.prototype.getTransform=function(t){var e=t.viewState,n=this.canvas_.width/2,i=this.canvas_.height/2,r=t.pixelRatio/e.resolution,o=-r,s=-e.rotation,a=-e.center[0],u=-e.center[1];return We(this.transform_,n,i,r,o,s,a,u)},e.prototype.renderFrame=function(t){if(!t)return void(this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1));var e=this.context_,n=t.pixelRatio,i=Math.round(t.size[0]*n),r=Math.round(t.size[1]*n);this.canvas_.width!=i||this.canvas_.height!=r?(this.canvas_.width=i,this.canvas_.height=r):e.clearRect(0,0,i,r);var o=t.viewState.rotation;this.calculateMatrices2D(t),this.dispatchRenderEvent(Th.PRECOMPOSE,t);var s=t.layerStatesArray;re(s,jo),o&&(e.save(),qe(e,o,i/2,r/2));var a,u,l=t.viewState.resolution;for(a=0,u=s.length;a<u;++a){var h=s[a],c=h.layer,p=this.getLayerRenderer(c);k(h,l)&&h.sourceState==Ch.READY&&(p.prepareFrame(t,h)&&p.composeFrame(t,h,e))}o&&e.restore(),this.dispatchRenderEvent(Th.POSTCOMPOSE,t),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)},e.prototype.forEachLayerAtPixel=function(t,e,n,i,r,o,s){var a,u,l=e.viewState,h=l.resolution,c=e.layerStatesArray,p=c.length,f=Ue(e.pixelToCoordinateTransform,t.slice());for(u=p-1;u>=0;--u){var d=c[u],m=d.layer;if(k(d,h)&&o.call(s,m)){if(a=this.getLayerRenderer(m).forEachLayerAtCoordinate(f,e,n,i,r))return a}}},e.prototype.registerLayerRenderers=function(e){t.prototype.registerLayerRenderers.call(this,e);for(var n=0,i=e.length;n<i;++n){var r=e[n];Qt(fm,r)||fm.push(r)}},e}(pm),mm=function(t){function e(e){t.call(this),this.layer_=e}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createLoadedTileFinder=function(t,e,n){return function(i,r){function o(t){n[i]||(n[i]={}),n[i][t.tileCoord.toString()]=t}return t.forEachLoadedTile(e,i,r,o)}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i){},e.prototype.getLayer=function(){return this.layer_},e.prototype.handleImageChange_=function(t){t.target.getState()===Ah.LOADED&&this.renderIfReadyAndVisible()},e.prototype.hasFeatureAtCoordinate=function(t,e){return!1},e.prototype.loadImage=function(t){var e=t.getState();return e!=Ah.LOADED&&e!=Ah.ERROR&&f(t,hh.CHANGE,this.handleImageChange_,this),e==Ah.IDLE&&(t.load(),e=t.getState()),e==Ah.LOADED},e.prototype.renderIfReadyAndVisible=function(){var t=this.getLayer();t.getVisible()&&t.getSourceState()==Ch.READY&&this.changed()},e.prototype.scheduleExpireCache=function(t,e){if(e.canExpireCache()){var n=function(t,e,n){var i=v(t);i in n.usedTiles&&t.expireCache(n.viewState.projection,n.usedTiles[i])}.bind(null,e);t.postRenderFunctions.push(n)}},e.prototype.updateUsedTiles=function(t,e,n,i){var r=v(e),o=n.toString();r in t?o in t[r]?t[r][o].extend(i):t[r][o]=i:(t[r]={},t[r][o]=i)},e.prototype.manageTilePyramid=function(t,e,n,i,r,o,s,a,u,l){var h=v(e);h in t.wantedTiles||(t.wantedTiles[h]={});var c,p,f,d,m,g,y=t.wantedTiles[h],_=t.tileQueue,b=n.getMinZoom();for(g=b;g<=s;++g)for(p=n.getTileRangeForExtentAndZ(o,g,p),f=n.getResolution(g),d=p.minX;d<=p.maxX;++d)for(m=p.minY;m<=p.maxY;++m)s-g<=a?(c=e.getTile(g,d,m,i,r),c.getState()==Sd.IDLE&&(y[c.getKey()]=!0,_.isKeyQueued(c.getKey())||_.enqueue([c,h,n.getTileCoordCenter(c.tileCoord),f])),void 0!==u&&u.call(l,c)):e.useTile(g,d,m,r)},e}(yh),gm=function(t){function e(e){t.call(this,e),this.renderedResolution,this.transform_=Fe()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clip=function(t,e,n){var i=e.pixelRatio,r=e.size[0]*i,o=e.size[1]*i,s=e.viewState.rotation,a=ct(n),u=pt(n),l=ot(n),h=rt(n);Ue(e.coordinateToPixelTransform,a),Ue(e.coordinateToPixelTransform,u),Ue(e.coordinateToPixelTransform,l),Ue(e.coordinateToPixelTransform,h),t.save(),qe(t,-s,r/2,o/2),t.beginPath(),t.moveTo(a[0]*i,a[1]*i),t.lineTo(u[0]*i,u[1]*i),t.lineTo(l[0]*i,l[1]*i),t.lineTo(h[0]*i,h[1]*i),t.clip(),qe(t,s,r/2,o/2)},e.prototype.dispatchComposeEvent_=function(t,e,n,i){var r=this.getLayer();if(r.hasListener(t)){var o=n.size[0]*n.pixelRatio,s=n.size[1]*n.pixelRatio,a=n.viewState.rotation;qe(e,-a,o/2,s/2);var u=void 0!==i?i:this.getTransform(n,0),l=new cm(e,n.pixelRatio,n.extent,u,n.viewState.rotation),h=new lm(t,l,n,e,null);r.dispatchEvent(h),qe(e,a,o/2,s/2)}},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){return this.forEachFeatureAtCoordinate(t,e,n,b)?i.call(r,this.getLayer(),null):void 0},e.prototype.postCompose=function(t,e,n,i){this.dispatchComposeEvent_(Th.POSTCOMPOSE,t,e,i)},e.prototype.preCompose=function(t,e,n){this.dispatchComposeEvent_(Th.PRECOMPOSE,t,e,n)},e.prototype.dispatchRenderEvent=function(t,e,n){this.dispatchComposeEvent_(Th.RENDER,t,e,n)},e.prototype.getTransform=function(t,e){var n=t.viewState,i=t.pixelRatio,r=i*t.size[0]/2,o=i*t.size[1]/2,s=i/n.resolution,a=-s,u=-n.rotation,l=-n.center[0]+e,h=-n.center[1];return We(this.transform_,r,o,s,a,u,l,h)},e.prototype.composeFrame=function(t,e,n){_()},e.prototype.prepareFrame=function(t,e){return _()},e}(mm),ym=function(t){function e(e){t.call(this,e),this.coordinateToCanvasPixelTransform=Fe(),this.hitCanvasContext_=null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.composeFrame=function(t,e,n){this.preCompose(n,t);var i=this.getImage();if(i){var r=e.extent,o=void 0!==r&&!U(r,t.extent)&&dt(r,t.extent);o&&this.clip(n,t,r);var s=this.getImageTransform(),a=n.globalAlpha;n.globalAlpha=e.opacity;var u=s[4],l=s[5],h=i.width*s[0],c=i.height*s[3];h>=.5&&c>=.5&&n.drawImage(i,0,0,+i.width,+i.height,Math.round(u),Math.round(l),Math.round(h),Math.round(c)),n.globalAlpha=a,o&&n.restore()}this.postCompose(n,t,e)},e.prototype.getImage=function(){return _()},e.prototype.getImageTransform=function(){return _()},e.prototype.forEachLayerAtCoordinate=function(t,e,n,i,r){if(this.getImage()){var o=Ue(this.coordinateToCanvasPixelTransform,t.slice());Lr(o,e.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=Ut(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),o[0],o[1],1,1,0,0,1,1);var s=this.hitCanvasContext_.getImageData(0,0,1,1).data;return s[3]>0?i.call(r,this.getLayer(),s):void 0}},e}(gm),_m=function(t){function e(n){if(t.call(this,n),this.image_=null,this.imageTransform_=Fe(),this.skippedFeatures_=[],this.vectorRenderer_=null,n.getType()===uh.VECTOR)for(var i=0,r=fm.length;i<r;++i){var o=fm[i];if(o!==e&&o.handles(n)){this.vectorRenderer_=new o(n);break}}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_?this.image_.getImage():null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.prepareFrame=function(t,e){var n,i=t.pixelRatio,r=t.size,o=t.viewState,s=o.center,a=o.resolution,u=this.getLayer(),l=u.getSource(),h=t.viewHints,c=this.vectorRenderer_,p=t.extent;if(c||void 0===e.extent||(p=ht(p,e.extent)),!h[Kf.ANIMATING]&&!h[Kf.INTERACTING]&&!mt(p)){var f=o.projection,d=this.skippedFeatures_;if(c){var m=c.context,g=lh({},t,{size:[ft(p)/a,lt(p)/a],viewState:lh({},t.viewState,{rotation:0})}),y=Object.keys(g.skippedFeatureUids).sort();n=new um(p,a,i,m.canvas,function(t){!c.prepareFrame(g,e)||!c.replayGroupChanged&&ie(d,y)||(m.canvas.width=g.size[0]*i,m.canvas.height=g.size[1]*i,c.compose(m,g,e),d=y,t())})}else n=l.getImage(p,a,i,f);n&&this.loadImage(n)&&(this.image_=n,this.skippedFeatures_=d)}if(this.image_){n=this.image_;var _=n.getExtent(),v=n.getResolution(),b=n.getPixelRatio(),x=i*v/(a*b),w=We(this.imageTransform_,i*r[0]/2,i*r[1]/2,x,x,0,b*(_[0]-s[0])/v,b*(s[1]-_[3])/v);We(this.coordinateToCanvasPixelTransform,i*r[0]/2-w[4],i*r[1]/2-w[5],i/a,-i/a,0,-s[0],-s[1]),this.renderedResolution=v*i/b}return!!this.image_},e.prototype.forEachFeatureAtCoordinate=function(e,n,i,r){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,n,i,r):t.prototype.forEachFeatureAtCoordinate.call(this,e,n,i,r)},e}(ym);_m.handles=function(t){return t.getType()===uh.IMAGE||t.getType()===uh.VECTOR&&t.getRenderMode()===Tc.IMAGE},_m.create=function(t,e){return new _m(e)};var vm=function(t,e,n,i){this.minX=t,this.maxX=e,this.minY=n,this.maxY=i};vm.prototype.contains=function(t){return this.containsXY(t[1],t[2])},vm.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},vm.prototype.containsXY=function(t,e){return this.minX<=t&&t<=this.maxX&&this.minY<=e&&e<=this.maxY},vm.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},vm.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},vm.prototype.getHeight=function(){return this.maxY-this.minY+1},vm.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},vm.prototype.getWidth=function(){return this.maxX-this.minX+1},vm.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};var bm=function(t){function e(e,n){t.call(this,e),this.context=n?null:Ut(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=W(),this.tmpTileRange_=new vm(0,0,0,0),this.imageTransform_=Fe(),this.zDirection=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isDrawableTile_=function(t){var e=this.getLayer(),n=t.getState(),i=e.getUseInterimTilesOnError();return n==Sd.LOADED||n==Sd.EMPTY||n==Sd.ERROR&&!i},e.prototype.getTile=function(t,e,n,i,r){var o=this.getLayer(),s=o.getSource(),a=s.getTile(t,e,n,i,r);return a.getState()==Sd.ERROR&&(o.getUseInterimTilesOnError()?o.getPreload()>0&&(this.newTiles_=!0):a.setState(Sd.LOADED)),this.isDrawableTile_(a)||(a=a.getInterimTile()),a},e.prototype.prepareFrame=function(t,e){var n=t.pixelRatio,i=t.size,r=t.viewState,o=r.projection,s=r.resolution,a=r.center,u=this.getLayer(),l=u.getSource(),h=l.getRevision(),c=l.getTileGridForProjection(o),p=c.getZForResolution(s,this.zDirection),f=c.getResolution(p),d=Math.round(s/f)||1,m=t.extent;if(void 0!==e.extent&&(m=ht(m,e.extent)),mt(m))return!1;var g=c.getTileRangeForExtentAndZ(m,p),y=c.getTileRangeExtent(p,g),_=l.getTilePixelRatio(n),b={};b[p]={};var x=this.createLoadedTileFinder(l,o,b),w=t.viewHints,E=w[Kf.ANIMATING]||w[Kf.INTERACTING],S=this.tmpExtent,T=this.tmpTileRange_;this.newTiles_=!1;var C,M,L;for(M=g.minX;M<=g.maxX;++M)for(L=g.minY;L<=g.maxY;++L)if(!(Date.now()-t.time>16&&E)){if(C=this.getTile(p,M,L,n,o),this.isDrawableTile_(C)){var P=v(this);if(C.getState()==Sd.LOADED){b[p][C.tileCoord.toString()]=C;var O=C.inTransition(P);this.newTiles_||!O&&-1!==this.renderedTiles.indexOf(C)||(this.newTiles_=!0)}if(1===C.getAlpha(P,t.time))continue}var A=c.getTileCoordChildTileRange(C.tileCoord,T,S),R=!1;A&&(R=x(p+1,A)),R||c.forEachTileCoordParentTileRange(C.tileCoord,x,null,T,S)}var I=f*n/_*d;if(!(this.renderedResolution&&Date.now()-t.time>16&&E)&&(this.newTiles_||!this.renderedExtent_||!U(this.renderedExtent_,m)||this.renderedRevision!=h||d!=this.oversampling_||!E&&I!=this.renderedResolution)){var k=this.context;if(k){var N=l.getTilePixelSize(p,n,o),F=Math.round(g.getWidth()*N[0]/d),j=Math.round(g.getHeight()*N[1]/d),D=k.canvas;D.width!=F||D.height!=j?(this.oversampling_=d,D.width=F,D.height=j):(this.renderedExtent_&&!K(y,this.renderedExtent_)&&k.clearRect(0,0,F,j),d=this.oversampling_)}this.renderedTiles.length=0;var G=Object.keys(b).map(Number);G.sort(function(t,e){return t===p?1:e===p?-1:t>e?1:t<e?-1:0});var z,B,Z,W,X,V,H,Y,q,J,Q;for(X=0,V=G.length;X<V;++X){W=G[X],Z=l.getTilePixelSize(W,n,o),z=c.getResolution(W),B=z/f,Y=_*l.getGutterForProjection(o),q=b[W];for(var $ in q)C=q[$],H=c.getTileCoordExtent(C.getTileCoord(),S),M=(H[0]-y[0])/f*_/d,L=(y[3]-H[3])/f*_/d,J=Z[0]*B/d,Q=Z[1]*B/d,this.drawTileImage(C,t,e,M,L,J,Q,Y,p===W),this.renderedTiles.push(C)}this.renderedRevision=h,this.renderedResolution=f*n/_*d,this.renderedExtent_=y}var tt=this.renderedResolution/s,et=We(this.imageTransform_,n*i[0]/2,n*i[1]/2,tt,tt,0,(this.renderedExtent_[0]-a[0])/this.renderedResolution*n,(a[1]-this.renderedExtent_[3])/this.renderedResolution*n);return We(this.coordinateToCanvasPixelTransform,n*i[0]/2-et[4],n*i[1]/2-et[5],n/s,-n/s,0,-a[0],-a[1]),this.updateUsedTiles(t.usedTiles,l,p,g),this.manageTilePyramid(t,l,c,n,o,m,p,u.getPreload()),this.scheduleExpireCache(t,l),this.renderedTiles.length>0},e.prototype.drawTileImage=function(t,e,n,i,r,o,s,a,u){var l=this.getTileImage(t);if(l){var h=v(this),c=u?t.getAlpha(h,e.time):1,p=this.getLayer(),f=p.getSource();1!==c||f.getOpaque(e.viewState.projection)||this.context.clearRect(i,r,o,s);var d=c!==this.context.globalAlpha;d&&(this.context.save(),this.context.globalAlpha=c),this.context.drawImage(l,a,a,l.width-2*a,l.height-2*a,i,r,o,s),d&&this.context.restore(),1!==c?e.animate=!0:u&&t.endTransition(h)}},e.prototype.getImage=function(){var t=this.context;return t?t.canvas:null},e.prototype.getImageTransform=function(){return this.imageTransform_},e.prototype.getTileImage=function(t){return t.getImage()},e}(ym);bm.handles=function(t){return t.getType()===uh.TILE},bm.create=function(t,e){return new bm(e)},bm.prototype.getLayer;var xm=function(){};xm.prototype.getReplay=function(t,e){return _()},xm.prototype.isEmpty=function(){return _()},xm.prototype.addDeclutter=function(t){return _()};var wm={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"},Em={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},Sm=[Em.FILL],Tm=[Em.STROKE],Cm=[Em.BEGIN_PATH],Mm=[Em.CLOSE_PATH],Lm=[wm.POLYGON,wm.CIRCLE,wm.LINE_STRING,wm.IMAGE,wm.TEXT,wm.DEFAULT],Pm={};Pm.left=0,Pm.end=0,Pm.center=.5,Pm.right=1,Pm.start=1,Pm.top=0,Pm.middle=.5,Pm.hanging=.2,Pm.alphabetic=.8,Pm.ideographic=.8,Pm.bottom=1;var Om=W(),Am=Fe(),Rm=function(t){function e(e,n,i,r,o,s){t.call(this),this.declutterTree=s,this.tolerance=e,this.maxExtent=n,this.overlaps=o,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=Fe(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.replayTextBackground_=function(t,e,n,i,r,o,s){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,n),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),s&&(this.setStrokeStyle_(t,s),t.stroke())},e.prototype.replayImage_=function(t,e,n,i,r,o,s,a,u,l,h,c,p,f,d,m,g,y){var _=g||y;r*=p,o*=p,e-=r,n-=o;var v,b,x,w,E=d+l>i.width?i.width-l:d,S=a+h>i.height?i.height-h:a,T=m[3]+E*p+m[1],C=m[0]+S*p+m[2],M=e-m[3],L=n-m[0];(_||0!==c)&&(v=[M,L],b=[M+T,L],x=[M+T,L+C],w=[M,L+C]);var P=null;if(0!==c){var O=e+r,A=n+o;P=We(Am,O,A,1,1,c,-O,-A),V(Om),Q(Om,Ue(Am,v)),Q(Om,Ue(Am,b)),Q(Om,Ue(Am,x)),Q(Om,Ue(Am,w))}else X(M,L,M+T,L+C,Om);var R=t.canvas,I=y?y[2]*p/2:0,k=Om[0]-I<=R.width&&Om[2]+I>=0&&Om[1]-I<=R.height&&Om[3]+I>=0;if(f&&(e=Math.round(e),n=Math.round(n)),s){if(!k&&1==s[4])return;J(s,Om);var N=k?[t,P?P.slice(0):null,u,i,l,h,E,S,e,n,p]:null;N&&_&&N.push(g,y,v,b,x,w),s.push(N)}else k&&(_&&this.replayTextBackground_(t,v,b,x,w,g,y),Ke(t,P,u,i,l,h,E,S,e,n,p))},e.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},e.prototype.appendFlatCoordinates=function(t,e,n,i,r,o){var s=this.coordinates.length,a=this.getBufferedMaxExtent();o&&(e+=i);var u,l,h,c=[t[e],t[e+1]],p=[NaN,NaN],f=!0;for(u=e+i;u<n;u+=i)p[0]=t[u],p[1]=t[u+1],h=Z(a,p),h!==l?(f&&(this.coordinates[s++]=c[0],this.coordinates[s++]=c[1]),this.coordinates[s++]=p[0],this.coordinates[s++]=p[1],f=!1):h===Ih.INTERSECTING?(this.coordinates[s++]=p[0],this.coordinates[s++]=p[1],f=!1):f=!0,c[0]=p[0],c[1]=p[1],l=h;return(r&&f||u===e+i)&&(this.coordinates[s++]=c[0],this.coordinates[s++]=c[1]),s},e.prototype.drawCustomCoordinates_=function(t,e,n,i,r){for(var o=0,s=n.length;o<s;++o){var a=n[o],u=this.appendFlatCoordinates(t,e,a,i,!1,!1);r.push(u),e=a}return e},e.prototype.drawCustom=function(t,e,n){this.beginGeometry(t,e);var i,r,o,s,a,u=t.getType(),l=t.getStride(),h=this.coordinates.length;if(u==Nh.MULTI_POLYGON){t=t,i=t.getOrientedFlatCoordinates(),s=[];var c=t.getEndss();a=0;for(var p=0,f=c.length;p<f;++p){var d=[];a=this.drawCustomCoordinates_(i,a,c[p],l,d),s.push(d)}this.instructions.push([Em.CUSTOM,h,s,t,n,Sn])}else u==Nh.POLYGON||u==Nh.MULTI_LINE_STRING?(o=[],i=u==Nh.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),a=this.drawCustomCoordinates_(i,0,t.getEnds(),l,o),this.instructions.push([Em.CUSTOM,h,o,t,n,En])):u==Nh.LINE_STRING||u==Nh.MULTI_POINT?(i=t.getFlatCoordinates(),r=this.appendFlatCoordinates(i,0,i.length,l,!1,!1),this.instructions.push([Em.CUSTOM,h,r,t,n,wn])):u==Nh.POINT&&(i=t.getFlatCoordinates(),this.coordinates.push(i[0],i[1]),r=this.coordinates.length,this.instructions.push([Em.CUSTOM,h,r,t,n]));this.endGeometry(t,e)},e.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[Em.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[Em.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},e.prototype.finish=function(){},e.prototype.fill_=function(t){if(this.alignFill_){var e=Ue(this.renderedTransform_,[0,0]),n=512*this.pixelRatio;t.translate(e[0]%n,e[1]%n),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,sp)},e.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],Dc&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},e.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var n=t[4];if(1==n||n==t.length-5){var i={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(i)){this.declutterTree.insert(i);for(var r=5,o=t.length;r<o;++r){var s=t[r];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),Ke.apply(void 0,s))}}t.length=5,V(t)}}},e.prototype.replay_=function(t,e,n,i,r,o,a){var u;this.pixelCoordinates_&&ie(e,this.renderedTransform_)?u=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),u=en(this.coordinates,0,this.coordinates.length,2,e,this.pixelCoordinates_),ze(this.renderedTransform_,e));for(var l,h,c,p,f,d,m,g,y,_,b,x,w=!s(n),E=0,S=i.length,T=0,C=0,M=0,L=null,P=null,O=this.coordinateCache_,A=this.viewRotation_,R={context:t,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:A},I=this.instructions!=i||this.overlaps?0:200;E<S;){var k=i[E];switch(k[0]){case Em.BEGIN_GEOMETRY:_=k[1],w&&n[v(_)]||!_.getGeometry()?E=k[2]:void 0===a||dt(a,_.getGeometry().getExtent())?++E:E=k[2]+1;break;case Em.BEGIN_PATH:C>I&&(this.fill_(t),C=0),M>I&&(t.stroke(),M=0),C||M||(t.beginPath(),p=f=NaN),++E;break;case Em.CIRCLE:T=k[1];var N=u[T],F=u[T+1],j=u[T+2],D=u[T+3],G=j-N,z=D-F,U=Math.sqrt(G*G+z*z);t.moveTo(N+U,F),t.arc(N,F,U,0,2*Math.PI,!0),++E;break;case Em.CLOSE_PATH:t.closePath(),++E;break;case Em.CUSTOM:T=k[1],l=k[2];var B=k[3],Z=k[4],W=6==k.length?k[5]:void 0;R.geometry=B,R.feature=_,E in O||(O[E]=[]);var X=O[E];W?W(u,T,l,2,X):(X[0]=u[T],X[1]=u[T+1],X.length=2),Z(X,R),++E;break;case Em.DRAW_IMAGE:T=k[1],l=k[2],y=k[3],h=k[4],c=k[5],g=o?null:k[6];var V=k[7],H=k[8],Y=k[9],q=k[10],K=k[11],J=k[12],Q=k[13],$=k[14],tt=void 0,et=void 0,nt=void 0;for(k.length>16?(tt=k[15],et=k[16],nt=k[17]):(tt=$c,et=nt=!1),K&&(J+=A);T<l;T+=2)this.replayImage_(t,u[T],u[T+1],y,h,c,g,V,H,Y,q,J,Q,r,$,tt,et?L:null,nt?P:null);this.renderDeclutter_(g,_),++E;break;case Em.DRAW_CHARS:var it=k[1],rt=k[2],ot=k[3];g=o?null:k[4];var st=k[5],at=k[6],ut=k[7],lt=k[8],ht=k[9],ct=k[10],pt=k[11],ft=k[12],mt=k[13],gt=k[14],yt=Dn(u,it,rt,2),_t=lt(ft);if(st||_t<=yt){var vt=this,bt=vt.textStates[mt].textAlign,xt=(yt-_t)*Pm[bt],wt=Go(u,it,rt,2,ft,lt,xt,ut);if(wt){var Et=void 0,St=void 0,Tt=void 0,Ct=void 0,Mt=void 0;if(ct)for(Et=0,St=wt.length;Et<St;++Et)Mt=wt[Et],Tt=Mt[4],Ct=vt.getImage(Tt,mt,"",ct),h=Mt[2]+pt,c=ot*Ct.height+2*(.5-ot)*pt-ht,this.replayImage_(t,Mt[0],Mt[1],Ct,h,c,g,Ct.height,1,0,0,Mt[3],gt,!1,Ct.width,$c,null,null);if(at)for(Et=0,St=wt.length;Et<St;++Et)Mt=wt[Et],Tt=Mt[4],Ct=vt.getImage(Tt,mt,at,""),h=Mt[2],c=ot*Ct.height-ht,this.replayImage_(t,Mt[0],Mt[1],Ct,h,c,g,Ct.height,1,0,0,Mt[3],gt,!1,Ct.width,$c,null,null)}}this.renderDeclutter_(g,_),++E;break;case Em.END_GEOMETRY:if(void 0!==o){_=k[1];var Lt=o(_);if(Lt)return Lt}++E;break;case Em.FILL:I?C++:this.fill_(t),++E;break;case Em.MOVE_TO_LINE_TO:for(T=k[1],l=k[2],b=u[T],x=u[T+1],d=b+.5|0,m=x+.5|0,d===p&&m===f||(t.moveTo(b,x),p=d,f=m),T+=2;T<l;T+=2)b=u[T],x=u[T+1],d=b+.5|0,m=x+.5|0,T!=l-2&&d===p&&m===f||(t.lineTo(b,x),p=d,f=m);++E;break;case Em.SET_FILL_STYLE:L=k,this.alignFill_=k[2],C&&(this.fill_(t),C=0,M&&(t.stroke(),M=0)),t.fillStyle=k[1],++E;break;case Em.SET_STROKE_STYLE:P=k,M&&(t.stroke(),M=0),this.setStrokeStyle_(t,k),++E;break;case Em.STROKE:I?M++:t.stroke(),++E;break;default:++E}}C&&this.fill_(t),M&&t.stroke()},e.prototype.replay=function(t,e,n,i,r){this.viewRotation_=n,this.replay_(t,e,i,this.instructions,r,void 0,void 0)},e.prototype.replayHitDetection=function(t,e,n,i,r,o){return this.viewRotation_=n,this.replay_(t,e,i,this.hitDetectionInstructions,!0,r,o)},e.prototype.reverseHitDetectionInstructions=function(){var t=this.hitDetectionInstructions;t.reverse();var e,n,i,r=t.length,o=-1;for(e=0;e<r;++e)n=t[e],i=n[0],i==Em.END_GEOMETRY?o=e:i==Em.BEGIN_GEOMETRY&&(n[2]=e,te(this.hitDetectionInstructions,o,e),o=-1)},e.prototype.setFillStrokeStyle=function(t,e){var n=this.state;if(t){var i=t.getColor();n.fillStyle=Ne(i||Kc)}else n.fillStyle=void 0;if(e){var r=e.getColor();n.strokeStyle=Ne(r||Qc);var o=e.getLineCap();n.lineCap=void 0!==o?o:"round";var s=e.getLineDash();n.lineDash=s?s.slice():Jc;var a=e.getLineDashOffset();n.lineDashOffset=a||0;var u=e.getLineJoin();n.lineJoin=void 0!==u?u:"round";var l=e.getWidth();n.lineWidth=void 0!==l?l:1;var h=e.getMiterLimit();n.miterLimit=void 0!==h?h:10,n.lineWidth>this.maxLineWidth&&(this.maxLineWidth=n.lineWidth,this.bufferedMaxExtent_=null)}else n.strokeStyle=void 0,n.lineCap=void 0,n.lineDash=null,n.lineDashOffset=void 0,n.lineJoin=void 0,n.lineWidth=void 0,n.miterLimit=void 0},e.prototype.createFill=function(t,e){var n=t.fillStyle,i=[Em.SET_FILL_STYLE,n];return"string"!==typeof n&&i.push(!0),i},e.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},e.prototype.createStroke=function(t){return[Em.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},e.prototype.updateFillStyle=function(t,e,n){var i=t.fillStyle;"string"===typeof i&&t.currentFillStyle==i||(void 0!==i&&this.instructions.push(e.call(this,t,n)),t.currentFillStyle=i)},e.prototype.updateStrokeStyle=function(t,e){var n=t.strokeStyle,i=t.lineCap,r=t.lineDash,o=t.lineDashOffset,s=t.lineJoin,a=t.lineWidth,u=t.miterLimit;(t.currentStrokeStyle!=n||t.currentLineCap!=i||r!=t.currentLineDash&&!ie(t.currentLineDash,r)||t.currentLineDashOffset!=o||t.currentLineJoin!=s||t.currentLineWidth!=a||t.currentMiterLimit!=u)&&(void 0!==n&&e.call(this,t),t.currentStrokeStyle=n,t.currentLineCap=i,t.currentLineDash=r,t.currentLineDashOffset=o,t.currentLineJoin=s,t.currentLineWidth=a,t.currentMiterLimit=u)},e.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var n=[Em.END_GEOMETRY,e];this.instructions.push(n),this.hitDetectionInstructions.push(n)},e.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=D(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;j(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},e}(hm),Im=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawCoordinates_=function(t,e,n,i){return this.appendFlatCoordinates(t,e,n,i,!1,!1)},e.prototype.drawPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([Em.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Em.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.drawMultiPoint=function(t,e){if(this.image_){this.beginGeometry(t,e);var n=t.getFlatCoordinates(),i=t.getStride(),r=this.coordinates.length,o=this.drawCoordinates_(n,0,n.length,i);this.instructions.push([Em.DRAW_IMAGE,r,o,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([Em.DRAW_IMAGE,r,o,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},e.prototype.setImageStyle=function(t,e){var n=t.getAnchor(),i=t.getSize(),r=t.getHitDetectionImage(1),o=t.getImage(1),s=t.getOrigin();this.anchorX_=n[0],this.anchorY_=n[1],this.declutterGroup_=e,this.hitDetectionImage_=r,this.image_=o,this.height_=i[1],this.opacity_=t.getOpacity(),this.originX_=s[0],this.originY_=s[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=i[0]},e}(Rm),km=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinates_=function(t,e,n,i){var r=this.coordinates.length,o=this.appendFlatCoordinates(t,e,n,i,!1,!1),s=[Em.MOVE_TO_LINE_TO,r,o];return this.instructions.push(s),this.hitDetectionInstructions.push(s),n},e.prototype.drawLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Em.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Cm);var o=t.getFlatCoordinates(),s=t.getStride();this.drawFlatCoordinates_(o,0,o.length,s),this.hitDetectionInstructions.push(Tm),this.endGeometry(t,e)}},e.prototype.drawMultiLineString=function(t,e){var n=this.state,i=n.strokeStyle,r=n.lineWidth;if(void 0!==i&&void 0!==r){this.updateStrokeStyle(n,this.applyStroke),this.beginGeometry(t,e),this.hitDetectionInstructions.push([Em.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset],Cm);for(var o=t.getEnds(),s=t.getFlatCoordinates(),a=t.getStride(),u=0,l=0,h=o.length;l<h;++l)u=this.drawFlatCoordinates_(s,u,o[l],a);this.hitDetectionInstructions.push(Tm),this.endGeometry(t,e)}},e.prototype.finish=function(){var t=this.state;void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(Tm),this.reverseHitDetectionInstructions(),this.state=null},e.prototype.applyStroke=function(e){void 0!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&(this.instructions.push(Tm),e.lastStroke=this.coordinates.length),e.lastStroke=0,t.prototype.applyStroke.call(this,e),this.instructions.push(Cm)},e}(Rm),Nm=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawFlatCoordinatess_=function(t,e,n,i){var r=this.state,o=void 0!==r.fillStyle,s=void 0!=r.strokeStyle,a=n.length;this.instructions.push(Cm),this.hitDetectionInstructions.push(Cm);for(var u=0;u<a;++u){var l=n[u],h=this.coordinates.length,c=this.appendFlatCoordinates(t,e,l,i,!0,!s),p=[Em.MOVE_TO_LINE_TO,h,c];this.instructions.push(p),this.hitDetectionInstructions.push(p),s&&(this.instructions.push(Mm),this.hitDetectionInstructions.push(Mm)),e=l}return o&&(this.instructions.push(Sm),this.hitDetectionInstructions.push(Sm)),s&&(this.instructions.push(Tm),this.hitDetectionInstructions.push(Tm)),e},e.prototype.drawCircle=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Em.SET_FILL_STYLE,Pe(Kc)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Em.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getFlatCoordinates(),s=t.getStride(),a=this.coordinates.length;this.appendFlatCoordinates(o,0,o.length,s,!1,!1);var u=[Em.CIRCLE,a];this.instructions.push(Cm,u),this.hitDetectionInstructions.push(Cm,u),this.hitDetectionInstructions.push(Sm),void 0!==n.fillStyle&&this.instructions.push(Sm),void 0!==n.strokeStyle&&(this.instructions.push(Tm),this.hitDetectionInstructions.push(Tm)),this.endGeometry(t,e)}},e.prototype.drawPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Em.SET_FILL_STYLE,Pe(Kc)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Em.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);var o=t.getEnds(),s=t.getOrientedFlatCoordinates(),a=t.getStride();this.drawFlatCoordinatess_(s,0,o,a),this.endGeometry(t,e)}},e.prototype.drawMultiPolygon=function(t,e){var n=this.state,i=n.fillStyle,r=n.strokeStyle;if(void 0!==i||void 0!==r){this.setFillStrokeStyles_(t),this.beginGeometry(t,e),void 0!==n.fillStyle&&this.hitDetectionInstructions.push([Em.SET_FILL_STYLE,Pe(Kc)]),void 0!==n.strokeStyle&&this.hitDetectionInstructions.push([Em.SET_STROKE_STYLE,n.strokeStyle,n.lineWidth,n.lineCap,n.lineJoin,n.miterLimit,n.lineDash,n.lineDashOffset]);for(var o=t.getEndss(),s=t.getOrientedFlatCoordinates(),a=t.getStride(),u=0,l=0,h=o.length;l<h;++l)u=this.drawFlatCoordinatess_(s,u,o[l],a);this.endGeometry(t,e)}},e.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var e=this.coordinates,n=0,i=e.length;n<i;++n)e[n]=Un(e[n],t)},e.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},e}(Rm),Fm={POINT:"point",LINE:"line"},jm=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,i,r,o,s),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},tp.prune()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.drawText=function(t,e){var n=this.textFillState_,i=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(n||i)){var o,s,a=this.coordinates.length,u=t.getType(),l=null,h=2,c=2;if(r.placement===Fm.LINE){if(!dt(this.getBufferedMaxExtent(),t.getExtent()))return;var p;if(l=t.getFlatCoordinates(),c=t.getStride(),u==Nh.LINE_STRING)p=[l.length];else if(u==Nh.MULTI_LINE_STRING)p=t.getEnds();else if(u==Nh.POLYGON)p=t.getEnds().slice(0,1);else if(u==Nh.MULTI_POLYGON){var f=t.getEndss();for(p=[],o=0,s=f.length;o<s;++o)p.push(f[o][0])}this.beginGeometry(t,e);for(var d,m=r.textAlign,g=0,y=0,_=p.length;y<_;++y){if(void 0==m){var v=zo(r.maxAngle,l,g,p[y],c);g=v[0],d=v[1]}else d=p[y];for(o=g;o<d;o+=c)this.coordinates.push(l[o],l[o+1]);h=this.coordinates.length,g=p[y],this.drawChars_(a,h,this.declutterGroup_),a=h}this.endGeometry(t,e)}else{var b=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),x=b.width/this.pixelRatio;switch(u){case Nh.POINT:case Nh.MULTI_POINT:l=t.getFlatCoordinates(),h=l.length;break;case Nh.LINE_STRING:l=t.getFlatMidpoint();break;case Nh.CIRCLE:l=t.getCenter();break;case Nh.MULTI_LINE_STRING:l=t.getFlatMidpoints(),h=l.length;break;case Nh.POLYGON:if(l=t.getFlatInteriorPoint(),!r.overflow&&l[2]/this.resolution<x)return;c=3;break;case Nh.MULTI_POLYGON:var w=t.getFlatInteriorPoints();for(l=[],o=0,s=w.length;o<s;o+=3)(r.overflow||w[o+2]/this.resolution>=x)&&l.push(w[o],w[o+1]);if(0==(h=l.length))return}h=this.appendFlatCoordinates(l,0,h,c,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(b,a,h),this.endGeometry(t,e)}}},e.prototype.getImage=function(t,e,n,i){var r,o=i+e+t+n+this.pixelRatio;if(!tp.containsKey(o)){var s=i?this.strokeStates[i]||this.textStrokeState_:null,a=n?this.fillStates[n]||this.textFillState_:null,u=this.textStates[e]||this.textState_,l=this.pixelRatio,h=u.scale*l,c=Pm[u.textAlign||"center"],p=i&&s.lineWidth?s.lineWidth:0,f=t.split("\n"),d=f.length,m=[],g=Uo(u.font,f,m),y=op(u.font),_=y*d,v=g+p,b=Ut(Math.ceil(v*h),Math.ceil((_+p)*h));r=b.canvas,tp.set(o,r),1!=h&&b.scale(h,h),b.font=u.font,i&&(b.strokeStyle=s.strokeStyle,b.lineWidth=p,b.lineCap=s.lineCap,b.lineJoin=s.lineJoin,b.miterLimit=s.miterLimit,Dc&&s.lineDash.length&&(b.setLineDash(s.lineDash),b.lineDashOffset=s.lineDashOffset)),n&&(b.fillStyle=a.fillStyle),b.textBaseline="middle",b.textAlign="center";var x,w=.5-c,E=c*r.width/h+w*p;if(i)for(x=0;x<d;++x)b.strokeText(f[x],E+w*m[x],.5*(p+y)+x*y);if(n)for(x=0;x<d;++x)b.fillText(f[x],E+w*m[x],.5*(p+y)+x*y)}return tp.get(o)},e.prototype.drawTextImage_=function(t,e,n){var i=this.textState_,r=this.textStrokeState_,o=this.pixelRatio,s=Pm[i.textAlign||"center"],a=Pm[i.textBaseline],u=r&&r.lineWidth?r.lineWidth:0,l=s*t.width/o+2*(.5-s)*u,h=a*t.height/o+2*(.5-a)*u;this.instructions.push([Em.DRAW_IMAGE,e,n,t,(l-this.textOffsetX_)*o,(h-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,i.padding==$c?$c:i.padding.map(function(t){return t*o}),!!i.backgroundFill,!!i.backgroundStroke]),this.hitDetectionInstructions.push([Em.DRAW_IMAGE,e,n,t,(l-this.textOffsetX_)*o,(h-this.textOffsetY_)*o,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/o,t.width,i.padding,!!i.backgroundFill,!!i.backgroundStroke])},e.prototype.drawChars_=function(t,e,n){var i=this.textStrokeState_,r=this.textState_,o=this.textFillState_,s=this.strokeKey_;i&&(s in this.strokeStates||(this.strokeStates[s]={strokeStyle:i.strokeStyle,lineCap:i.lineCap,lineDashOffset:i.lineDashOffset,lineWidth:i.lineWidth,lineJoin:i.lineJoin,miterLimit:i.miterLimit,lineDash:i.lineDash}));var a=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:r.font,textAlign:r.textAlign||"center",scale:r.scale});var u=this.fillKey_;o&&(u in this.fillStates||(this.fillStates[u]={fillStyle:o.fillStyle}));var l=this.pixelRatio,h=Pm[r.textBaseline],c=this.textOffsetY_*l,p=this.text_,f=r.font,d=r.scale,m=i?i.lineWidth*d/2:0,g=this.widths_[f];g||(this.widths_[f]=g={}),this.instructions.push([Em.DRAW_CHARS,t,e,h,n,r.overflow,u,r.maxAngle,function(t){var e=g[t];return e||(e=g[t]=Ye(f,t)),e*d*l},c,s,m*l,p,a,1]),this.hitDetectionInstructions.push([Em.DRAW_CHARS,t,e,h,n,r.overflow,u,r.maxAngle,function(t){var e=g[t];return e||(e=g[t]=Ye(f,t)),e*d},c,s,m,p,a,1/l])},e.prototype.setTextStyle=function(t,e){var n,i,r;if(t){this.declutterGroup_=e;var o=t.getFill();o?(i=this.textFillState_,i||(i=this.textFillState_={}),i.fillStyle=Ne(o.getColor()||Kc)):i=this.textFillState_=null;var s=t.getStroke();if(s){r=this.textStrokeState_,r||(r=this.textStrokeState_={});var a=s.getLineDash(),u=s.getLineDashOffset(),l=s.getWidth(),h=s.getMiterLimit();r.lineCap=s.getLineCap()||"round",r.lineDash=a?a.slice():Jc,r.lineDashOffset=void 0===u?0:u,r.lineJoin=s.getLineJoin()||"round",r.lineWidth=void 0===l?1:l,r.miterLimit=void 0===h?10:h,r.strokeStyle=Ne(s.getColor()||Qc)}else r=this.textStrokeState_=null;n=this.textState_;var c=t.getFont()||"10px sans-serif";rp(c);var p=t.getScale();n.overflow=t.getOverflow(),n.font=c,n.maxAngle=t.getMaxAngle(),n.placement=t.getPlacement(),n.textAlign=t.getTextAlign(),n.textBaseline=t.getTextBaseline()||"middle",n.backgroundFill=t.getBackgroundFill(),n.backgroundStroke=t.getBackgroundStroke(),n.padding=t.getPadding()||$c,n.scale=void 0===p?1:p;var f=t.getOffsetX(),d=t.getOffsetY(),m=t.getRotateWithView(),g=t.getRotation();this.text_=t.getText()||"",this.textOffsetX_=void 0===f?0:f,this.textOffsetY_=void 0===d?0:d,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0===g?0:g,this.strokeKey_=r?("string"==typeof r.strokeStyle?r.strokeStyle:v(r.strokeStyle))+r.lineCap+r.lineDashOffset+"|"+r.lineWidth+r.lineJoin+r.miterLimit+"["+r.lineDash.join()+"]":"",this.textKey_=n.font+n.scale+(n.textAlign||"?"),this.fillKey_=i?"string"==typeof i.fillStyle?i.fillStyle:"|"+v(i.fillStyle):""}else this.text_=""},e}(Rm),Dm={Circle:Nm,Default:Rm,Image:Im,LineString:km,Polygon:Nm,Text:jm},Gm=function(t){function e(e,n,i,r,o,s,a){t.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=n,this.overlaps_=o,this.pixelRatio_=r,this.resolution_=i,this.renderBuffer_=a,this.replaysByZIndex_={},this.hitDetectionContext_=Ut(1,1),this.hitDetectionTransform_=Fe()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addDeclutter=function(t){var e=null;return this.declutterTree_&&(t?(e=this.declutterGroup_,e[4]++):(e=this.declutterGroup_=W(),e.push(1))),e},e.prototype.clip=function(t,e){var n=this.getClipCoords(e);t.beginPath(),t.moveTo(n[0],n[1]),t.lineTo(n[2],n[3]),t.lineTo(n[4],n[5]),t.lineTo(n[6],n[7]),t.clip()},e.prototype.hasReplays=function(t){for(var e in this.replaysByZIndex_)for(var n=this.replaysByZIndex_[e],i=0,r=t.length;i<r;++i)if(t[i]in n)return!0;return!1},e.prototype.finish=function(){for(var t in this.replaysByZIndex_){var e=this.replaysByZIndex_[t];for(var n in e)e[n].finish()}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r,o,s){function a(t){for(var e=h.getImageData(0,0,u,u).data,n=0;n<u;n++)for(var i=0;i<u;i++)if(f[n][i]&&e[4*(i*u+n)+3]>0){var r=void 0;return(!p||d!=wm.IMAGE&&d!=wm.TEXT||-1!==p.indexOf(t))&&(r=o(t)),r||void h.clearRect(0,0,u,u)}}i=Math.round(i);var u=2*i+1,l=We(this.hitDetectionTransform_,i+.5,i+.5,1/e,-1/e,-n,-t[0],-t[1]),h=this.hitDetectionContext_;h.canvas.width!==u||h.canvas.height!==u?(h.canvas.width=u,h.canvas.height=u):h.clearRect(0,0,u,u);var c;void 0!==this.renderBuffer_&&(c=W(),Q(c,t),j(c,e*(this.renderBuffer_+i),c));var p,f=Zo(i);this.declutterTree_&&(p=this.declutterTree_.all().map(function(t){return t.value}));var d,m=Object.keys(this.replaysByZIndex_).map(Number);m.sort(Jt);var g,y,_,v,b;for(g=m.length-1;g>=0;--g){var x=m[g].toString();for(_=this.replaysByZIndex_[x],y=Lm.length-1;y>=0;--y)if(d=Lm[y],void 0!==(v=_[d]))if(!s||d!=wm.IMAGE&&d!=wm.TEXT){if(b=v.replayHitDetection(h,l,n,r,a,c))return b}else{var w=s[x];w?w.push(v,l.slice(0)):s[x]=[v,l.slice(0)]}}},e.prototype.getClipCoords=function(t){var e=this.maxExtent_,n=e[0],i=e[1],r=e[2],o=e[3],s=[n,i,n,o,r,o,r,i];return en(s,0,8,2,t,s),s},e.prototype.getReplay=function(t,e){var n=void 0!==t?t.toString():"0",i=this.replaysByZIndex_[n];void 0===i&&(i={},this.replaysByZIndex_[n]=i);var r=i[e];if(void 0===r){r=new(0,Dm[e])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),i[e]=r}return r},e.prototype.getReplays=function(){return this.replaysByZIndex_},e.prototype.isEmpty=function(){return s(this.replaysByZIndex_)},e.prototype.replay=function(t,e,n,i,r,o,s){var a=Object.keys(this.replaysByZIndex_).map(Number);a.sort(Jt),t.save(),this.clip(t,e);var u,l,h,c,p,f,d=o||Lm;for(u=0,l=a.length;u<l;++u){var m=a[u].toString();for(p=this.replaysByZIndex_[m],h=0,c=d.length;h<c;++h){var g=d[h];if(f=p[g],void 0!==f)if(!s||g!=wm.IMAGE&&g!=wm.TEXT)f.replay(t,e,n,i,r);else{var y=s[m];y?y.push(f,e.slice(0)):s[m]=[f,e.slice(0)]}}}t.restore()},e}(xm),zm={0:[[!0]]},Um=.5,Bm={Point:ns,LineString:$o,Polygon:rs,MultiPoint:is,MultiLineString:ts,MultiPolygon:es,GeometryCollection:Qo,Circle:Yo},Zm=function(t){function e(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?bc(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=W(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=Ut(),f(tp,hh.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){m(tp,hh.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.compose=function(t,e,n){var i=e.extent,r=e.pixelRatio,o=n.managed?e.skippedFeatureUids:{},s=e.viewState,a=s.projection,u=s.rotation,l=a.getExtent(),h=this.getLayer().getSource(),c=this.getTransform(e,0),p=n.extent,f=void 0!==p;f&&this.clip(t,e,p);var d=this.replayGroup_;if(d&&!d.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var m,g=this.getLayer(),y=0,_=0,v=1!==n.opacity,b=g.hasListener(Th.RENDER);if(v||b){var x=t.canvas.width,w=t.canvas.height;if(u){var E=Math.round(Math.sqrt(x*x+w*w));y=(E-x)/2,_=(E-w)/2,x=w=E}this.context.canvas.width=x,this.context.canvas.height=w,m=this.context}else m=t;var S=m.globalAlpha;v||(m.globalAlpha=n.opacity),m!=t&&m.translate(y,_);var T=e.viewHints,C=!(T[Kf.ANIMATING]||T[Kf.INTERACTING]),M=e.size[0]*r,L=e.size[1]*r;if(qe(m,-u,M/2,L/2),d.replay(m,c,u,o,C),h.getWrapX()&&a.canWrapX()&&!U(l,i)){for(var P,O=i[0],A=ft(l),R=0;O<l[0];)--R,P=A*R,c=this.getTransform(e,P),d.replay(m,c,u,o,C),O+=A;for(R=0,O=i[2];O>l[2];)++R,P=A*R,c=this.getTransform(e,P),d.replay(m,c,u,o,C),O-=A}if(qe(m,u,M/2,L/2),b&&this.dispatchRenderEvent(m,e,c),m!=t){if(v){var I=t.globalAlpha;t.globalAlpha=n.opacity,t.drawImage(m.canvas,-y,-_),t.globalAlpha=I}else t.drawImage(m.canvas,-y,-_);m.translate(-y,-_)}v||(m.globalAlpha=S)}f&&t.restore()},e.prototype.composeFrame=function(t,e,n){var i=this.getTransform(t,0);this.preCompose(n,t,i),this.compose(n,t,e),this.postCompose(n,t,e,i)},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){if(this.replayGroup_){var o=e.viewState.resolution,s=e.viewState.rotation,a=this.getLayer(),u={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,s,n,{},function(t){var e=v(t);if(!(e in u))return u[e]=!0,i.call(r,t,a)},null)}},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.prepareFrame=function(t,e){var n=this.getLayer(),i=n.getSource(),r=t.viewHints[Kf.ANIMATING],o=t.viewHints[Kf.INTERACTING],s=n.getUpdateWhileAnimating(),a=n.getUpdateWhileInteracting();if(!this.dirty_&&!s&&r||!a&&o)return!0;var u=t.extent,l=t.viewState,h=l.projection,c=l.resolution,p=t.pixelRatio,f=n.getRevision(),d=n.getRenderBuffer(),m=n.getRenderOrder();void 0===m&&(m=Xo);var g=j(u,d*c),y=l.projection.getExtent();if(i.getWrapX()&&l.projection.canWrapX()&&!U(y,t.extent)){var _=ft(y),v=Math.max(ft(g)/2,_);g[0]=y[0]-v,g[2]=y[2]+v}if(!this.dirty_&&this.renderedResolution_==c&&this.renderedRevision_==f&&this.renderedRenderOrder_==m&&U(this.renderedExtent_,g))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var b=new Gm(Ho(c,p),g,c,p,i.getOverlaps(),this.declutterTree_,n.getRenderBuffer());i.loadFeatures(g,c,h);var x=function(t){var e,i=t.getStyleFunction()||n.getStyleFunction();if(i&&(e=i(t,c)),e){var r=this.renderFeature(t,c,p,e,b);this.dirty_=this.dirty_||r}}.bind(this);if(m){var w=[];i.forEachFeatureInExtent(g,function(t){w.push(t)}),w.sort(m);for(var E=0,S=w.length;E<S;++E)x(w[E])}else i.forEachFeatureInExtent(g,x);return b.finish(),this.renderedResolution_=c,this.renderedRevision_=f,this.renderedRenderOrder_=m,this.renderedExtent_=g,this.replayGroup_=b,this.replayGroupChanged=!0,!0},e.prototype.renderFeature=function(t,e,n,i,r){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var s=0,a=i.length;s<a;++s)o=qo(r,t,i[s],Vo(e,n),this.handleStyleImageChange_,this)||o;else o=qo(r,t,i,Vo(e,n),this.handleStyleImageChange_,this);return o},e}(gm);Zm.handles=function(t){return t.getType()===uh.VECTOR},Zm.create=function(t,e){return new Zm(e)};var Wm={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"},Xm={image:[wm.POLYGON,wm.CIRCLE,wm.LINE_STRING,wm.IMAGE,wm.TEXT],hybrid:[wm.POLYGON,wm.LINE_STRING]},Vm={image:[wm.DEFAULT],hybrid:[wm.IMAGE,wm.TEXT,wm.DEFAULT],vector:Lm},Hm=function(t){function e(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?bc(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=Fe();var n=e.getRenderMode();this.zDirection=n===Wm.VECTOR?1:0,n!==Wm.VECTOR&&(this.context=Ut()),f(tp,hh.CLEAR,this.handleFontsChanged_,this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){m(tp,hh.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},e.prototype.getTile=function(e,n,i,r,o){var s=t.prototype.getTile.call(this,e,n,i,r,o);return s.getState()===Sd.LOADED&&(this.createReplayGroup_(s,r,o),this.context&&this.renderTileImage_(s,r,o)),s},e.prototype.getTileImage=function(t){var e=this.getLayer();return t.getImage(e)},e.prototype.prepareFrame=function(e,n){var i=this.getLayer(),r=i.getRevision();return this.renderedLayerRevision_!=r&&(this.renderedTiles.length=0),this.renderedLayerRevision_=r,t.prototype.prepareFrame.call(this,e,n)},e.prototype.createReplayGroup_=function(t,e,n){var i=this,r=this.getLayer(),o=r.getRevision(),s=r.getRenderOrder()||null,a=t.getReplayState(r);if(a.dirty||a.renderedRevision!=o||a.renderedRenderOrder!=s){for(var u=r.getSource(),l=u.getTileGrid(),h=u.getTileGridForProjection(n),c=h.getResolution(t.tileCoord[0]),p=t.extent,f=0,d=t.tileKeys.length;f<d;++f)!function(o,h){var f=t.getTile(t.tileKeys[o]);if(f.getState()==Sd.LOADED){var d=f.tileCoord,m=l.getTileCoordExtent(d),g=ht(p,m),y=K(m,g)?null:j(g,r.getRenderBuffer()*c,i.tmpExtent),_=f.getProjection(),v=!1;Ft(n,_)||(v=!0,f.setProjection(n)),a.dirty=!1;var b=new Gm(0,g,c,e,u.getOverlaps(),i.declutterTree_,r.getRenderBuffer()),x=Vo(c,e),w=function(t){var e,n=t.getStyleFunction()||r.getStyleFunction();if(n&&(e=n(t,c)),e){var i=this.renderFeature(t,x,e,b);this.dirty_=this.dirty_||i,a.dirty=a.dirty||i}},E=f.getFeatures();s&&s!==a.renderedRenderOrder&&E.sort(s);for(var S=0,T=E.length;S<T;++S){var C=E[S];v&&(_.getUnits()==jh.TILE_PIXELS&&(_.setWorldExtent(m),_.setExtent(f.getExtent())),C.getGeometry().transform(_,n)),y&&!dt(y,C.getGeometry().getExtent())||w.call(i,C)}b.finish(),f.setReplayGroup(r,t.tileCoord.toString(),b)}}(f);a.renderedRevision=o,a.renderedRenderOrder=s}},e.prototype.forEachFeatureAtCoordinate=function(t,e,n,i,r){var o=e.viewState.resolution,s=e.viewState.rotation;n=void 0==n?0:n;var a,u,l,h,c=this.getLayer(),p={},f=this.renderedTiles;for(l=0,h=f.length;l<h;++l){var d=f[l];if(a=j(d.extent,n*o,a),z(a,t))for(var m=0,g=d.tileKeys.length;m<g;++m){var y=d.getTile(d.tileKeys[m]);if(y.getState()==Sd.LOADED){var _=y.getReplayGroup(c,d.tileCoord.toString());u=u||_.forEachFeatureAtCoordinate(t,o,s,n,{},function(t){var e=v(t);if(!(e in p))return p[e]=!0,i.call(r,t,c)},null)}}}return u},e.prototype.getReplayTransform_=function(t,e){var n=this.getLayer(),i=n.getSource(),r=i.getTileGrid(),o=t.tileCoord,s=r.getResolution(o[0]),a=e.viewState,u=e.pixelRatio,l=a.resolution/u,h=r.getTileCoordExtent(o,this.tmpExtent),c=a.center,p=ct(h),f=e.size,d=Math.round(u*f[0]/2),m=Math.round(u*f[1]/2);return We(this.tmpTransform_,d,m,s/l,s/l,a.rotation,(p[0]-c[0])/s,(c[1]-p[1])/s)},e.prototype.handleFontsChanged_=function(t){var e=this.getLayer();e.getVisible()&&void 0!==this.renderedLayerRevision_&&e.changed()},e.prototype.handleStyleImageChange_=function(t){this.renderIfReadyAndVisible()},e.prototype.postCompose=function(e,n,i){var r=this.getLayer(),o=r.getRenderMode();if(o!=Wm.IMAGE){var s,a,u=r.getDeclutter()?{}:null,l=r.getSource(),h=Vm[o],c=n.pixelRatio,p=n.viewState.rotation,f=n.size;p&&(s=Math.round(c*f[0]/2),a=Math.round(c*f[1]/2),qe(e,-p,s,a)),u&&this.declutterTree_.clear();for(var d=n.viewHints,m=!(d[Kf.ANIMATING]||d[Kf.INTERACTING]),g=this.renderedTiles,y=l.getTileGridForProjection(n.viewState.projection),_=[],v=[],b=g.length-1;b>=0;--b){var x=g[b];if(x.getState()!=Sd.ABORT)for(var w=x.tileCoord,E=y.getTileCoordExtent(w,this.tmpExtent)[0]-x.extent[0],S=void 0,T=0,C=x.tileKeys.length;T<C;++T){var M=x.getTile(x.tileKeys[T]);if(M.getState()==Sd.LOADED){var L=M.getReplayGroup(r,w.toString());if(L&&L.hasReplays(h)){S||(S=this.getTransform(n,E));var P=M.tileCoord[0],O=L.getClipCoords(S);e.save(),e.globalAlpha=i.opacity;for(var A=0,R=_.length;A<R;++A){var I=_[A];P<v[A]&&(e.beginPath(),e.moveTo(O[0],O[1]),e.lineTo(O[2],O[3]),e.lineTo(O[4],O[5]),e.lineTo(O[6],O[7]),e.moveTo(I[6],I[7]),e.lineTo(I[4],I[5]),e.lineTo(I[2],I[3]),e.lineTo(I[0],I[1]),e.clip())}L.replay(e,S,p,{},m,h,u),e.restore(),_.push(O),v.push(P)}}}}u&&Wo(u,e,p,m),p&&qe(e,p,s,a)}t.prototype.postCompose.call(this,e,n,i)},e.prototype.renderFeature=function(t,e,n,i){if(!n)return!1;var r=!1;if(Array.isArray(n))for(var o=0,s=n.length;o<s;++o)r=qo(i,t,n[o],e,this.handleStyleImageChange_,this)||r;else r=qo(i,t,n,e,this.handleStyleImageChange_,this);return r},e.prototype.renderTileImage_=function(t,e,n){var i=this.getLayer(),r=t.getReplayState(i),o=i.getRevision(),s=Xm[i.getRenderMode()];if(s&&r.renderedTileRevision!==o){r.renderedTileRevision=o;var a=t.wrappedTileCoord,u=a[0],l=i.getSource(),h=l.getTileGridForProjection(n),c=h.getResolution(u),p=t.getContext(i),f=l.getTilePixelSize(u,e,n);p.canvas.width=f[0],p.canvas.height=f[1];for(var d=h.getTileCoordExtent(a,this.tmpExtent),m=0,g=t.tileKeys.length;m<g;++m){var y=t.getTile(t.tileKeys[m]);if(y.getState()==Sd.LOADED){var _=e/c,v=je(this.tmpTransform_);Be(v,_,-_),Ze(v,-d[0],-d[3]);y.getReplayGroup(i,t.tileCoord.toString()).replay(p,v,0,{},!0,s)}}}},e}(bm);Hm.handles=function(t){return t.getType()===uh.VECTOR_TILE},Hm.create=function(t,e){return new Hm(e)};var Ym=function(t){function e(e){e=lh({},e),e.controls||(e.controls=wo()),e.interactions||(e.interactions=No()),t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createRenderer=function(){var t=new dm(this);return t.registerLayerRenderers([_m,bm,Zm,Hm]),t},e}(Pd),qm=function(t){function e(t){uc(this,e);var n=cc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.map=null,n.state={loaded:!1},n}return hc(e,t),lc(e,[{key:"getChildContext",value:function(){return{map:this.map}}},{key:"componentDidMount",value:function(){var t=this.props,e=t.zoom,n=t.minZoom,i=t.maxZoom;this.map=new Ym({interactions:No({doubleClickZoom:!1,pinchRotate:!1,pinchZoom:!0,mouseWheelZoom:!0,zoomDelta:!1,altShiftDragRotate:!1,keyboard:!1,shiftDragZoom:!1,constrainResolution:!1}),target:this.ref,controls:[],view:new $f({projection:At("EPSG:3857"),zoom:e,maxZoom:i,minZoom:n})}),this.map.getView().animate({center:ed,duration:0}),this.setState({loaded:!0})}},{key:"render",value:function(){var t=this,e=null;return void 0!==this.props.children&&this.state.loaded&&(e=this.props.children instanceof Array?this.props.children.filter(function(t){return null!==t}).map(function(t){return Xl.a.cloneElement(t)}):Xl.a.cloneElement(this.props.children)),Xl.a.createElement("div",{ref:function(e){return t.ref=e},style:{width:window.innerWidth,height:window.innerHeight}},e)}}]),e}(Wl.Component);qm.defaultProps={children:null,zoom:16,maxZoom:22,minZoom:2},qm.propTypes={children:ql.a.node,zoom:ql.a.number,minZoom:ql.a.number,maxZoom:ql.a.number},qm.childContextTypes={map:ql.a.object};var Km={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"},Jm=function(t){function e(e){var n=e||{},i=lh({},n);delete i.preload,delete i.useInterimTilesOnError,t.call(this,i),this.setPreload(void 0!==n.preload?n.preload:0),this.setUseInterimTilesOnError(void 0===n.useInterimTilesOnError||n.useInterimTilesOnError),this.type=uh.TILE}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPreload=function(){return this.get(Km.PRELOAD)},e.prototype.setPreload=function(t){this.set(Km.PRELOAD,t)},e.prototype.getUseInterimTilesOnError=function(){return this.get(Km.USE_INTERIM_TILES_ON_ERROR)},e.prototype.setUseInterimTilesOnError=function(t){this.set(Km.USE_INTERIM_TILES_ON_ERROR,t)},e}(Mh);Jm.prototype.getSource;var Qm=function(t){function e(e,n,i){t.call(this);var r=i||{};this.tileCoord=e,this.state=n,this.interimTile=null,this.key="",this.transition_=void 0===r.transition?250:r.transition,this.transitionStarts_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.changed=function(){this.dispatchEvent(hh.CHANGE)},e.prototype.getKey=function(){return this.key+"/"+this.tileCoord},e.prototype.getInterimTile=function(){if(!this.interimTile)return this;var t=this.interimTile;do{if(t.getState()==Sd.LOADED)return t;t=t.interimTile}while(t);return this},e.prototype.refreshInterimChain=function(){if(this.interimTile){var t=this.interimTile,e=this;do{if(t.getState()==Sd.LOADED){t.interimTile=null;break}t.getState()==Sd.LOADING?e=t:t.getState()==Sd.IDLE?e.interimTile=t.interimTile:e=t,t=e.interimTile}while(t)}},e.prototype.getTileCoord=function(){return this.tileCoord},e.prototype.getState=function(){return this.state},e.prototype.setState=function(t){this.state=t,this.changed()},e.prototype.load=function(){},e.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var n=this.transitionStarts_[t];if(n){if(-1===n)return 1}else n=e,this.transitionStarts_[t]=n;var i=e-n+1e3/60;return i>=this.transition_?1:Or(i/this.transition_)},e.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},e.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},e}(gh),$m=function(t){function e(e,n,i,r,o,s){t.call(this,e,n,s),this.crossOrigin_=r,this.src_=i,this.image_=new Image,null!==r&&(this.image_.crossOrigin=r),this.imageListenerKeys_=null,this.tileLoadFunction_=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==Sd.LOADING&&(this.unlistenImage_(),this.image_=gs()),this.interimTile&&this.interimTile.dispose(),this.state=Sd.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.image_},e.prototype.getKey=function(){return this.src_},e.prototype.handleImageError_=function(){this.state=Sd.ERROR,this.unlistenImage_(),this.image_=gs(),this.changed()},e.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=Sd.LOADED:this.state=Sd.EMPTY,this.unlistenImage_(),this.changed()},e.prototype.load=function(){this.state==Sd.ERROR&&(this.state=Sd.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==Sd.IDLE&&(this.state=Sd.LOADING,this.changed(),this.imageListenerKeys_=[d(this.image_,hh.ERROR,this.handleImageError_,this),d(this.image_,hh.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},e.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(g),this.imageListenerKeys_=null},e}(Qm),tg=function(t){function e(e){t.call(this,e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.expireCache=function(t){for(;this.canExpireCache();){var e=this.peekLast(),n=e.tileCoord[0].toString();if(n in t&&t[n].contains(e.tileCoord))break;this.pop().dispose()}},e.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var t=this.peekFirstKey(),e=us(t),n=e[0];this.forEach(function(t){t.tileCoord[0]!==n&&(this.remove(as(t.tileCoord)),t.dispose())},this)}},e}(Yc),eg=function(t){function e(e,n,i,r,o,s,a,u,l,h,c){t.call(this,o,Sd.IDLE),this.renderEdges_=void 0!==c&&c,this.pixelRatio_=a,this.gutter_=u,this.canvas_=null,this.sourceTileGrid_=n,this.targetTileGrid_=r,this.wrappedTileCoord_=s||o,this.sourceTiles_=[],this.sourcesListenerKeys_=null,this.sourceZ_=0;var p=r.getTileCoordExtent(this.wrappedTileCoord_),f=this.targetTileGrid_.getExtent(),d=this.sourceTileGrid_.getExtent(),m=f?ht(p,f):p;if(0===it(m))return void(this.state=Sd.EMPTY);var g=e.getExtent();g&&(d=d?ht(d,g):g);var y=r.getResolution(this.wrappedTileCoord_[0]),_=st(m),v=Ht(e,i,_,y);if(!isFinite(v)||v<=0)return void(this.state=Sd.EMPTY);var b=void 0!==h?h:Qh;if(this.triangulation_=new $h(e,i,m,d,v*b),0===this.triangulation_.getTriangles().length)return void(this.state=Sd.EMPTY);this.sourceZ_=n.getZForResolution(v);var x=this.triangulation_.calculateSourceExtent();if(d&&(e.canWrapX()?(x[1]=C(x[1],d[1],d[3]),x[3]=C(x[3],d[1],d[3])):x=ht(x,d)),it(x)){for(var w=n.getTileRangeForExtentAndZ(x,this.sourceZ_),E=w.minX;E<=w.maxX;E++)for(var S=w.minY;S<=w.maxY;S++){var T=l(this.sourceZ_,E,S,a);T&&this.sourceTiles_.push(T)}0===this.sourceTiles_.length&&(this.state=Sd.EMPTY)}else this.state=Sd.EMPTY}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.disposeInternal=function(){this.state==Sd.LOADING&&this.unlistenSources_(),t.prototype.disposeInternal.call(this)},e.prototype.getImage=function(){return this.canvas_},e.prototype.reproject_=function(){var t=[];if(this.sourceTiles_.forEach(function(e,n,i){e&&e.getState()==Sd.LOADED&&t.push({extent:this.sourceTileGrid_.getTileCoordExtent(e.tileCoord),image:e.getImage()})}.bind(this)),this.sourceTiles_.length=0,0===t.length)this.state=Sd.ERROR;else{var e=this.wrappedTileCoord_[0],n=this.targetTileGrid_.getTileSize(e),i="number"===typeof n?n:n[0],r="number"===typeof n?n:n[1],o=this.targetTileGrid_.getResolution(e),s=this.sourceTileGrid_.getResolution(this.sourceZ_),a=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=qt(i,r,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),o,a,this.triangulation_,t,this.gutter_,this.renderEdges_),this.state=Sd.LOADED}this.changed()},e.prototype.load=function(){if(this.state==Sd.IDLE){this.state=Sd.LOADING,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach(function(e,n,i){var r=e.getState();if(r==Sd.IDLE||r==Sd.LOADING){t++;var o=f(e,hh.CHANGE,function(n){var i=e.getState();i!=Sd.LOADED&&i!=Sd.ERROR&&i!=Sd.EMPTY||(g(o),0===--t&&(this.unlistenSources_(),this.reproject_()))},this);this.sourcesListenerKeys_.push(o)}}.bind(this)),this.sourceTiles_.forEach(function(t,e,n){t.getState()==Sd.IDLE&&t.load()}),0===t&&setTimeout(this.reproject_.bind(this),0)}},e.prototype.unlistenSources_=function(){this.sourcesListenerKeys_.forEach(g),this.sourcesListenerKeys_=null},e}(Qm),ng=[0,0,0],ig=function(t){this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,T(oe(this.resolutions_,function(t,e){return e-t},!0),17);var e;if(!t.origins)for(var n=0,i=this.resolutions_.length-1;n<i;++n)if(e){if(this.resolutions_[n]/this.resolutions_[n+1]!==e){e=void 0;break}}else e=this.resolutions_[n]/this.resolutions_[n+1];this.zoomFactor_=e,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,T(this.origins_.length==this.resolutions_.length,20));var r=t.extent;void 0===r||this.origin_||this.origins_||(this.origin_=ct(r)),T(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,T(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:qf,T(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==r?r:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map(function(t,e){return new vm(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):r&&this.calculateTileRanges_(r)};ig.prototype.forEachTileCoord=function(t,e,n){for(var i=this.getTileRangeForExtentAndZ(t,e),r=i.minX,o=i.maxX;r<=o;++r)for(var s=i.minY,a=i.maxY;s<=a;++s)n([e,r,s])},ig.prototype.forEachTileCoordParentTileRange=function(t,e,n,i,r){var o,s,a,u=null,l=t[0]-1;for(2===this.zoomFactor_?(s=t[1],a=t[2]):u=this.getTileCoordExtent(t,r);l>=this.minZoom;){if(2===this.zoomFactor_?(s=Math.floor(s/2),a=Math.floor(a/2),o=Do(s,s,a,a,i)):o=this.getTileRangeForExtentAndZ(u,l,i),e.call(n,l,o))return!0;--l}return!1},ig.prototype.getExtent=function(){return this.extent_},ig.prototype.getMaxZoom=function(){return this.maxZoom},ig.prototype.getMinZoom=function(){return this.minZoom},ig.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},ig.prototype.getResolution=function(t){return this.resolutions_[t]},ig.prototype.getResolutions=function(){return this.resolutions_},ig.prototype.getTileCoordChildTileRange=function(t,e,n){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*t[1],r=2*t[2];return Do(i,i+1,r,r+1,e)}var o=this.getTileCoordExtent(t,n);return this.getTileRangeForExtentAndZ(o,t[0]+1,e)}return null},ig.prototype.getTileRangeExtent=function(t,e,n){var i=this.getOrigin(t),r=this.getResolution(t),o=yo(this.getTileSize(t),this.tmpSize_),s=i[0]+e.minX*o[0]*r,a=i[0]+(e.maxX+1)*o[0]*r;return X(s,i[1]+e.minY*o[1]*r,a,i[1]+(e.maxY+1)*o[1]*r,n)},ig.prototype.getTileRangeForExtentAndZ=function(t,e,n){var i=ng;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i);var r=i[1],o=i[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,i),Do(r,i[1],o,i[2],n)},ig.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),n=this.getResolution(t[0]),i=yo(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*i[0]*n,e[1]+(t[2]+.5)*i[1]*n]},ig.prototype.getTileCoordExtent=function(t,e){var n=this.getOrigin(t[0]),i=this.getResolution(t[0]),r=yo(this.getTileSize(t[0]),this.tmpSize_),o=n[0]+t[1]*r[0]*i,s=n[1]+t[2]*r[1]*i;return X(o,s,o+r[0]*i,s+r[1]*i,e)},ig.prototype.getTileCoordForCoordAndResolution=function(t,e,n){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,n)},ig.prototype.getTileCoordForXYAndResolution_=function(t,e,n,i,r){var o=this.getZForResolution(n),s=n/this.getResolution(o),a=this.getOrigin(o),u=yo(this.getTileSize(o),this.tmpSize_),l=i?.5:0,h=i?0:.5,c=Math.floor((t-a[0])/n+l),p=Math.floor((e-a[1])/n+h),f=s*c/u[0],d=s*p/u[1];return i?(f=Math.ceil(f)-1,d=Math.ceil(d)-1):(f=Math.floor(f),d=Math.floor(d)),os(o,f,d,r)},ig.prototype.getTileCoordForXYAndZ_=function(t,e,n,i,r){var o=this.getOrigin(n),s=this.getResolution(n),a=yo(this.getTileSize(n),this.tmpSize_),u=i?.5:0,l=i?0:.5,h=Math.floor((t-o[0])/s+u),c=Math.floor((e-o[1])/s+l),p=h/a[0],f=c/a[1];return i?(p=Math.ceil(p)-1,f=Math.ceil(f)-1):(p=Math.floor(p),f=Math.floor(f)),os(n,p,f,r)},ig.prototype.getTileCoordForCoordAndZ=function(t,e,n){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,n)},ig.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},ig.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},ig.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},ig.prototype.getZForResolution=function(t,e){return C($t(this.resolutions_,t,e||0),this.minZoom,this.maxZoom)},ig.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,n=new Array(e),i=this.minZoom;i<e;++i)n[i]=this.getTileRangeForExtentAndZ(t,i);this.fullTileRanges_=n};var rg=function(t){function e(e){t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX}),this.opaque_=void 0!==e.opaque&&e.opaque,this.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,this.tileGrid=void 0!==e.tileGrid?e.tileGrid:null,this.tileCache=new tg(e.cacheSize),this.tmpSize=[0,0],this.key_=e.key||"",this.tileOptions={transition:e.transition}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);n&&n.expireCache(e)},e.prototype.forEachLoadedTile=function(t,e,n,i){var r=this.getTileCacheForProjection(t);if(!r)return!1;for(var o,s,a,u=!0,l=n.minX;l<=n.maxX;++l)for(var h=n.minY;h<=n.maxY;++h)s=ss(e,l,h),a=!1,r.containsKey(s)&&(o=r.get(s),(a=o.getState()===Sd.LOADED)&&(a=!1!==i(o))),a||(u=!1);return u},e.prototype.getGutterForProjection=function(t){return 0},e.prototype.getKey=function(){return this.key_},e.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},e.prototype.getOpaque=function(t){return this.opaque_},e.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},e.prototype.getTile=function(t,e,n,i,r){return _()},e.prototype.getTileGrid=function(){return this.tileGrid},e.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:ys(t)},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!Ft(e,t)?null:this.tileCache},e.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},e.prototype.getTilePixelSize=function(t,e,n){var i=this.getTileGridForProjection(n),r=this.getTilePixelRatio(e),o=yo(i.getTileSize(t),this.tmpSize);return 1==r?o:go(o,r,this.tmpSize)},e.prototype.getTileCoordForTileUrlFunction=function(t,e){var n=void 0!==e?e:this.getProjection(),i=this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(t=_s(i,t,n)),hs(t,i)?t:null},e.prototype.refresh=function(){this.tileCache.clear(),this.changed()},e.prototype.useTile=function(t,e,n,i){},e}(ec),og=function(t){function e(e,n){t.call(this,e),this.tile=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(mh),sg={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"},ag=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.generateTileUrlFunction_=!e.tileUrlFunction,this.tileLoadFunction=e.tileLoadFunction,this.tileUrlFunction=e.tileUrlFunction?e.tileUrlFunction.bind(this):ds,this.urls=null,e.urls?this.setUrls(e.urls):e.url&&this.setUrl(e.url),e.tileUrlFunction&&this.setTileUrlFunction(e.tileUrlFunction,this.key_),this.tileLoadingKeys_={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getTileLoadFunction=function(){return this.tileLoadFunction},e.prototype.getTileUrlFunction=function(){return this.tileUrlFunction},e.prototype.getUrls=function(){return this.urls},e.prototype.handleTileChange=function(t){var e,n=t.target,i=v(n),r=n.getState();r==Sd.LOADING?(this.tileLoadingKeys_[i]=!0,e=sg.TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],e=r==Sd.ERROR?sg.TILELOADERROR:r==Sd.LOADED||r==Sd.ABORT?sg.TILELOADEND:void 0),void 0!=e&&this.dispatchEvent(new og(e,n))},e.prototype.setTileLoadFunction=function(t){this.tileCache.clear(),this.tileLoadFunction=t,this.changed()},e.prototype.setTileUrlFunction=function(t,e){this.tileUrlFunction=t,this.tileCache.pruneExceptNewestZ(),"undefined"!==typeof e?this.setKey(e):this.changed()},e.prototype.setUrl=function(t){var e=this.urls=ms(t);this.setUrls(e)},e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(ps(t,this.tileGrid),e):this.setKey(e)},e.prototype.useTile=function(t,e,n){var i=ss(t,e,n);this.tileCache.containsKey(i)&&this.tileCache.get(i)},e}(rg),ug=function(t){function e(e){t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,opaque:e.opaque,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:Ss,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,key:e.key,attributionsCollapsible:e.attributionsCollapsible}),this.crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,this.tileClass=void 0!==e.tileClass?e.tileClass:$m,this.tileCacheForProjection={},this.tileGridForProjection={},this.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.canExpireCache=function(){if(this.tileCache.canExpireCache())return!0;for(var t in this.tileCacheForProjection)if(this.tileCacheForProjection[t].canExpireCache())return!0;return!1},e.prototype.expireCache=function(t,e){var n=this.getTileCacheForProjection(t);this.tileCache.expireCache(this.tileCache==n?e:{});for(var i in this.tileCacheForProjection){var r=this.tileCacheForProjection[i];r.expireCache(r==n?e:{})}},e.prototype.getGutterForProjection=function(t){return this.getProjection()&&t&&!Ft(this.getProjection(),t)?0:this.getGutter()},e.prototype.getGutter=function(){return 0},e.prototype.getOpaque=function(e){return!(this.getProjection()&&e&&!Ft(this.getProjection(),e))&&t.prototype.getOpaque.call(this,e)},e.prototype.getTileGridForProjection=function(t){var e=this.getProjection();if(!this.tileGrid||e&&!Ft(e,t)){var n=v(t);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=ys(t)),this.tileGridForProjection[n]}return this.tileGrid},e.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();if(!e||Ft(e,t))return this.tileCache;var n=v(t);return n in this.tileCacheForProjection||(this.tileCacheForProjection[n]=new tg(this.tileCache.highWaterMark)),this.tileCacheForProjection[n]},e.prototype.createTile_=function(t,e,n,i,r,o){var s=[t,e,n],a=this.getTileCoordForTileUrlFunction(s,r),u=a?this.tileUrlFunction(a,i,r):void 0,l=new this.tileClass(s,void 0!==u?Sd.IDLE:Sd.EMPTY,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return l.key=o,f(l,hh.CHANGE,this.handleTileChange,this),l},e.prototype.getTile=function(t,e,n,i,r){var o=this.getProjection();if(o&&r&&!Ft(o,r)){var s,a=this.getTileCacheForProjection(r),u=[t,e,n],l=as(u);a.containsKey(l)&&(s=a.get(l));var h=this.getKey();if(s&&s.key==h)return s;var c=this.getTileGridForProjection(o),p=this.getTileGridForProjection(r),f=this.getTileCoordForTileUrlFunction(u,r),d=new eg(o,c,r,p,u,f,this.getTilePixelRatio(i),this.getGutter(),function(t,e,n,i){return this.getTileInternal(t,e,n,i,o)}.bind(this),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_);return d.key=h,s?(d.interimTile=s,d.refreshInterimChain(),a.replace(l,d)):a.set(l,d),d}return this.getTileInternal(t,e,n,i,o||r)},e.prototype.getTileInternal=function(t,e,n,i,r){var o=null,s=ss(t,e,n),a=this.getKey();if(this.tileCache.containsKey(s)){if(o=this.tileCache.get(s),o.key!=a){var u=o;o=this.createTile_(t,e,n,i,r,a),u.getState()==Sd.IDLE?o.interimTile=u.interimTile:o.interimTile=u,o.refreshInterimChain(),this.tileCache.replace(s,o)}}else o=this.createTile_(t,e,n,i,r,a),this.tileCache.set(s,o);return o},e.prototype.setRenderReprojectionEdges=function(t){if(this.renderReprojectionEdges_!=t){this.renderReprojectionEdges_=t;for(var e in this.tileCacheForProjection)this.tileCacheForProjection[e].clear();this.changed()}},e.prototype.setTileGridForProjection=function(t,e){var n=At(t);if(n){var i=v(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=e)}},e}(ag),lg={KVP:"KVP",REST:"REST"},hg=function(t){function e(e){t.call(this,{extent:e.extent,origin:e.origin,origins:e.origins,resolutions:e.resolutions,tileSize:e.tileSize,tileSizes:e.tileSizes,sizes:e.sizes}),this.matrixIds_=e.matrixIds}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getMatrixId=function(t){return this.matrixIds_[t]},e.prototype.getMatrixIds=function(){return this.matrixIds_},e}(ig),cg=function(t){function e(e){var n=void 0!==e.requestEncoding?e.requestEncoding:lg.KVP,i=e.tileGrid,r=e.urls;void 0===r&&void 0!==e.url&&(r=ms(e.url)),t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,projection:e.projection,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileClass:e.tileClass,tileGrid:i,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:ds,urls:r,wrapX:void 0!==e.wrapX&&e.wrapX,transition:e.transition}),this.version_=void 0!==e.version?e.version:"1.0.0",this.format_=void 0!==e.format?e.format:"image/jpeg",this.dimensions_=void 0!==e.dimensions?e.dimensions:{},this.layer_=e.layer,this.matrixSet_=e.matrixSet,this.style_=e.style,this.requestEncoding_=n,this.setKey(this.getKeyForDimensions_()),r&&r.length>0&&(this.tileUrlFunction=fs(r.map(Ts.bind(this))))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setUrls=function(t){this.urls=t;var e=t.join("\n");this.setTileUrlFunction(fs(t.map(Ts.bind(this))),e)},e.prototype.getDimensions=function(){return this.dimensions_},e.prototype.getFormat=function(){return this.format_},e.prototype.getLayer=function(){return this.layer_},e.prototype.getMatrixSet=function(){return this.matrixSet_},e.prototype.getRequestEncoding=function(){return this.requestEncoding_},e.prototype.getStyle=function(){return this.style_},e.prototype.getVersion=function(){return this.version_},e.prototype.getKeyForDimensions_=function(){var t=0,e=[];for(var n in this.dimensions_)e[t++]=n+"-"+this.dimensions_[n];return e.join("/")},e.prototype.updateDimensions=function(t){lh(this.dimensions_,t),this.setKey(this.getKeyForDimensions_())},e}(ug),pg=function(t){function e(){return uc(this,e),cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){this.layer=new Jm,this.layer.setZIndex(0),this.context.map.addLayer(this.layer),this.loadMap(this.props.map)}},{key:"shouldComponentUpdate",value:function(t){return null===t.map||(null===this.props.map||void 0===this.props.map)&&null!==t.map||null!==t.map&&t.map!==this.props.map}},{key:"componentWillUpdate",value:function(t){this.loadMap(t.map)}},{key:"loadMap",value:function(t){var e=this;Object(Vl.c)(t).pipe(Object(Hl.h)(function(){return e.layer.setSource(null)}),Object(Hl.a)(function(t){return null!==t&&void 0!==t}),Object(Hl.h)(function(t){e.layer.setSource(new cg({url:ah+"/gwc/service/wmts",layer:t.polygonLayerId,matrixSet:"EPSG:3857",format:"image/png",projection:new Gh({code:"EPSG:3857",units:"m",axisOrientation:"neu",global:!0}),tileGrid:new hg({tileSize:[256,256],extent:[-20037508.34,-20037508.34,20037508.34,20037508.34],origin:[-20037508.34,20037508.34],resolutions:id,matrixIds:nd}),style:"",wrapX:!0})),t.xmin&&t.ymin&&t.xmax&&t.ymax&&e.layer.setExtent([t.xmin,t.ymin,t.xmax,t.ymax])}),Object(Hl.h)(function(t){t&&t.longitude&&t.latitude&&e.context.map.getView().animate({center:[t.longitude,t.latitude],duration:800}),t&&t.xmin&&t.ymin&&t.xmax&&t.ymax&&e.context.map.getView().fit([t.xmin,t.ymin,t.xmax,t.ymax],e.context.map.getSize())})).subscribe()}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);pg.defaultProps={map:null},pg.propTypes={map:ql.a.object},pg.contextTypes={map:ql.a.object};var fg=function(t){function e(e){var n=e||{},i=void 0!==n.projection?n.projection:"EPSG:3857",r=void 0!==n.tileGrid?n.tileGrid:bs({extent:Es(i),maxZoom:n.maxZoom,minZoom:n.minZoom,tileSize:n.tileSize});t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:n.opaque,projection:i,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileGrid:r,tileLoadFunction:n.tileLoadFunction,tilePixelRatio:n.tilePixelRatio,tileUrlFunction:n.tileUrlFunction,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition,attributionsCollapsible:n.attributionsCollapsible})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(ug),dg=function(t){function e(e){var n=e||{},i=n.params||{},r=!("TRANSPARENT"in i)||i.TRANSPARENT;t.call(this,{attributions:n.attributions,cacheSize:n.cacheSize,crossOrigin:n.crossOrigin,opaque:!r,projection:n.projection,reprojectionErrorThreshold:n.reprojectionErrorThreshold,tileClass:n.tileClass,tileGrid:n.tileGrid,tileLoadFunction:n.tileLoadFunction,tileUrlFunction:Cs,url:n.url,urls:n.urls,wrapX:void 0===n.wrapX||n.wrapX,transition:n.transition}),this.gutter_=void 0!==n.gutter?n.gutter:0,this.params_=i,this.v13_=!0,this.serverType_=n.serverType,this.hidpi_=void 0===n.hidpi||n.hidpi,this.tmpExtent_=W(),this.updateV13_(),this.setKey(this.getKeyForParams_())}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getGetFeatureInfoUrl=function(t,e,n,i){var r=At(n),o=this.getProjection(),s=this.getTileGrid();s||(s=this.getTileGridForProjection(r));var a=s.getTileCoordForCoordAndResolution(t,e);if(!(s.getResolutions().length<=a[0])){var u=s.getResolution(a[0]),l=s.getTileCoordExtent(a,this.tmpExtent_),h=yo(s.getTileSize(a[0]),this.tmpSize),c=this.gutter_;0!==c&&(h=fo(h,c,this.tmpSize),l=j(l,u*c,l)),o&&o!==r&&(u=Ht(o,r,t,u),l=zt(l,r,o),t=Gt(t,r,o));var p={SERVICE:"WMS",VERSION:Ph,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};lh(p,this.params_,i);var f=Math.floor((t[0]-l[0])/u),d=Math.floor((l[3]-t[1])/u);return p[this.v13_?"I":"X"]=f,p[this.v13_?"J":"Y"]=d,this.getRequestUrl_(a,h,l,1,o||r,p)}},e.prototype.getGutter=function(){return this.gutter_},e.prototype.getParams=function(){return this.params_},e.prototype.getRequestUrl_=function(t,e,n,i,r,o){var s=this.urls;if(s){if(o.WIDTH=e[0],o.HEIGHT=e[1],o[this.v13_?"CRS":"SRS"]=r.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=i)switch(this.serverType_){case oc.GEOSERVER:var a=90*i+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+a:o.FORMAT_OPTIONS="dpi:"+a;break;case oc.MAPSERVER:o.MAP_RESOLUTION=90*i;break;case oc.CARMENTA_SERVER:case oc.QGIS:o.DPI=90*i;break;default:T(!1,52)}var u=r.getAxisOrientation(),l=n;if(this.v13_&&"ne"==u.substr(0,2)){var h;h=n[0],l[0]=n[1],l[1]=h,h=n[2],l[2]=n[3],l[3]=h}o.BBOX=l.join(",");var c;if(1==s.length)c=s[0];else{c=s[R(ls(t),s.length)]}return le(c,o)}},e.prototype.getTilePixelRatio=function(t){return this.hidpi_&&void 0!==this.serverType_?t:1},e.prototype.getKeyForParams_=function(){var t=0,e=[];for(var n in this.params_)e[t++]=n+"-"+this.params_[n];return e.join("/")},e.prototype.updateParams=function(t){lh(this.params_,t),this.updateV13_(),this.setKey(this.getKeyForParams_())},e.prototype.updateV13_=function(){var t=this.params_.VERSION||Ph;this.v13_=ue(t,"1.3")>=0},e}(ug),mg=function(t){function e(){var t,n,i,r;uc(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=i=cc(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.loadTianDiTu=function(){i.context.map.addLayer(new Jm({source:new fg({url:sh+"/DataServer?T=img_w&x={x}&y={y}&l={z}&tk=111b0cbae5ef2fb8ebdf06f937b12dd8",projection:At("EPSG:3857")}),zIndex:-10,minResolution:td})),i.context.map.addLayer(new Jm({source:new fg({url:sh+"/DataServer?T=cia_w&x={x}&y={y}&l={z}&tk=111b0cbae5ef2fb8ebdf06f937b12dd8",projection:At("EPSG:3857")}),zIndex:-5,minResolution:td}))},i.loadCustomMap=function(){i.context.map.addLayer(new Jm({source:new fg({url:"http://39.105.217.228:9002/api/wmts/gettile/4b9006155b9946d5bf259dd750084f52/{z}/{x}/{y}",projection:At("EPSG:3857")}),extent:[13574731.18887278,3469919.836022329,13585338.647663247,3478566.0198801826],zIndex:-9,maxResolution:"19"}))},i.loadIndoorMaps=function(){i.source=new dg({url:ah+"/indoor_map/wms",params:{LAYERS:"indoor_map:indoor_map",TILED:!0},serverType:"geoserver"}),i.context.map.addLayer(new Jm({source:i.source,zIndex:-4,minResolution:td}))},i.initPopup=function(){i.popupLayer=new $p({element:i.ref,positioning:"bottom-center",offset:[0,-10]}),i.context.map.addOverlay(i.popupLayer),Object(Vl.b)(i.context.map,"singleclick").pipe(Object(Hl.a)(function(t){return!t.dragging}),Object(Hl.h)(function(){return i.popupLayer.setPosition(null)}),Object(Hl.d)(function(t){return i.source.getGetFeatureInfoUrl(t.coordinate,i.context.map.getView().getResolution(),"EPSG:3857",{INFO_FORMAT:"application/json",FEATURE_COUNT:"10"})}),Object(Hl.c)(function(t){return Object(Kl.a)(t)}),Object(Hl.d)(function(t){return t.response}),Object(Hl.a)(function(t){return t}),Object(Hl.d)(function(t){return t.features}),Object(Hl.a)(function(t){return t.length}),Object(Hl.a)(function(t){return!!t.every(function(e){return t[0].properties.building===e.properties.building})||(window.zoomIn(2),window.move(t[0].properties.longitude,t[0].properties.latitude),!1)}),Object(Hl.c)(function(t){return Object(Vl.a)(t).pipe(Object(Hl.d)(function(t){return{id:t.id,floor:t.properties.floor,latitude:t.properties.latitude,longitude:t.properties.longitude,polygonLayerId:t.properties.polygon_layer,poiLayerId:t.properties.poi_layer,routeLayerId:t.properties.route_layer,xmin:t.properties.map_xmin,ymin:t.properties.map_ymin,xmax:t.properties.map_xmax,ymax:t.properties.map_ymax}}),Object(Hl.i)(),Object(Hl.h)(function(t){return i.showPopup(t)}))})).subscribe()},i.showPopup=function(t){i.data=t,i.ref.innerHTML="<div class='popup' style='background:url("+nf+") no-repeat'><span style='display:block;'><strong>\u5ba4\u5185\u5730\u56fe\u63d0\u793a</strong></span><span style='display:block;margin-top: 20px;'>\n    \u662f\u5426\u8fdb\u5165\u8be5\u5ba4\u5185\u5730\u56fe\n    </span>\n    <div style=\"margin-top: 20px;float: right;\"><span style='color: #0060B6;cursor:pointer;' onclick=\"window.hideOutdoorPopup()\">\u53d6\u6d88</span><span style='margin-left:20px;margin-right:50px;color: #0060B6;cursor:pointer;'  onclick=\"window.showIndoorMap()\">\u786e\u5b9a</span></div></div>",i.popupLayer.setPosition([t[0].longitude,t[0].latitude])},r=n,cc(i,r)}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){var t=this;this.loadTianDiTu(),this.loadCustomMap(),this.loadIndoorMaps(),this.initPopup(),window.hideOutdoorPopup=function(){t.popupLayer.setPosition(null)},window.showIndoorMap=function(){t.popupLayer.setPosition(null),window.loadIndoor(t.data.sort(function(t,e){return t.floor-e.floor}))}}},{key:"render",value:function(){var t=this;return Xl.a.createElement("div",{ref:function(e){return t.ref=e}})}}]),e}(Wl.Component);mg.defaultProps={},mg.propTypes={},mg.contextTypes={map:ql.a.object};var gg=function(t){function e(){return uc(this,e),cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){this.layer=new Lh,this.layer2=new Lh,this.layer.setZIndex(0),this.context.map.addLayer(this.layer),this.context.map.addLayer(this.layer2),this.loadHeatmap(this.props.heatmap)}},{key:"shouldComponentUpdate",value:function(t){return null===this.props.heatmap||void 0===this.props.heatmap||t.heatmap!==this.props.heatmap}},{key:"componentWillUpdate",value:function(t){this.loadHeatmap(t.heatmap)}},{key:"loadHeatmap",value:function(t){var e=this;if(null===t||void 0===t)return void this.layer.setSource(null);Object(Vl.c)(t).pipe(Object(Hl.a)(function(t){return null!==t&&void 0!==t&&null!==t.layerId&&void 0!==t.layerId&&null!==t.start_time&&void 0!==t.start_time&&null!==t.end_time&&void 0!==t.end_time&&null!==t.floor&&void 0!==t.floor}),Object(Hl.h)(function(t){e.layer.setSource(new ac({url:ah+"/"+t.layerId.split(":")[0]+"/wms",params:{FORMAT:"image/png",VERSION:"1.1.1",STYLES:"",LAYERS:t.layerId,VIEWPARAMS:"distance:0.1;"+(t.floor?"floor:"+t.floor+";":"")+(t.start_time?"start:"+t.start_time+";":"")+(t.end_time?"end:"+t.end_time+";":"")+(t.userId?"user:"+t.userId+";":"")},serverType:"geoserver",singleTile:!0,ratio:1}))})).subscribe()}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);gg.defaultProps={heatmap:null},gg.propTypes={heatmap:ql.a.object},gg.contextTypes={map:ql.a.object};var yg=function(t){function e(){return uc(this,e),cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){this.layer=new Jm,this.layer.setZIndex(0),this.context.map.addLayer(this.layer),this.loadHistory(this.props.history)}},{key:"shouldComponentUpdate",value:function(t){return null===this.props.history||void 0===this.props.history||t.history!==this.props.history}},{key:"componentWillUpdate",value:function(t){this.loadHistory(t.history)}},{key:"loadHistory",value:function(t){var e=this;if(null===t||void 0===t)return void this.layer.setSource(null);Object(Vl.c)(t).pipe(Object(Hl.a)(function(t){return null!==t&&void 0!==t&&null!==t.layerId&&void 0!==t.layerId&&null!==t.start_time&&void 0!==t.start_time&&null!==t.end_time&&void 0!==t.end_time&&null!==t.floor&&void 0!==t.floor}),Object(Hl.h)(function(t){e.layer.setSource(new dg({url:ah+"/"+t.layerId.split(":")[0]+"/wms",params:{FORMAT:"image/png",VERSION:"1.1.1",STYLES:"",LAYERS:t.layerId,VIEWPARAMS:"distance:0.1;"+(t.floor?"floor:"+t.floor+";":"")+(t.start_time?"start:"+t.start_time+";":"")+(t.end_time?"end:"+t.end_time+";":"")+(t.userId?"user:"+t.userId+";":"")},serverType:"geoserver",singleTile:!0,ratio:1}))})).subscribe()}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);yg.defaultProps={history:null},yg.propTypes={history:ql.a.object},yg.contextTypes={map:ql.a.object};var _g=function(t){return Xl.a.createElement(qm,{maxZoom:t.maxZoom,minZoom:t.minZoom,zoom:t.zoom},Xl.a.createElement(mg,{key:"outdoor"}),Xl.a.createElement(pg,{map:t.map,key:"indoor"}),t.showPoi?Xl.a.createElement(pc,{map:t.map,key:"poi"}):null,Xl.a.createElement(gp,{data:t.lamps.filter(function(e){return!t.map||t.map&&t.map.floor&&e.floor===t.map.floor}),key:$l,createLabel:Bp}),Xl.a.createElement(gp,{data:t.nodes.filter(function(e){return!t.map||t.map&&t.map.floor&&e.floor===t.map.floor}),key:th,createLabel:Zp}),Xl.a.createElement(gp,{data:t.targets.filter(function(e){return!t.map||t.map&&t.map.floor&&e.floor===t.map.floor}),key:ih,createLabel:Vp}),Xl.a.createElement(gp,{data:t.nurses.filter(function(e){return!t.map||t.map&&t.map.floor&&e.tag.floor===t.map.floor}),key:eh,createLabel:Wp}),Xl.a.createElement(gp,{data:t.seniors.filter(function(e){return!t.map||t.map&&t.map.floor&&e.tag.floor===t.map.floor}),key:nh,createLabel:Xp}),Xl.a.createElement(gp,{data:t.supporters.filter(function(e){return!t.map||t.map&&t.map.floor&&e.floor===t.map.floor}),key:rh,createLabel:Hp}),Xl.a.createElement(gp,{data:t.users.filter(function(e){return!t.map||t.map&&t.map.floor&&e.floor===t.map.floor}),key:oh,createLabel:Yp}),Xl.a.createElement(Rp,{routes:t.routes,map:t.map,key:"route"}),Xl.a.createElement(qp,{position:!t.map||t.map&&t.map.floor&&t.position&&t.position.floor===t.map.floor?t.position:null,key:"position"}),Xl.a.createElement(rf,{key:"label_select",onFeatureClick:t.onFeatureClick,select:t.select&&t.select.floor===t.map.floor?t.select:null}),Xl.a.createElement(of,{key:"event",onSingleClick:t.onSingleClick,onDoubleClick:t.onDoubleClick}),Xl.a.createElement(Hf,{position:t.position,map:t.map,key:"trigger"}),Xl.a.createElement(gg,{heatmap:t.heatmap,key:"heatmap"}),Xl.a.createElement(yg,{history:t.history,key:"history"}),Xl.a.createElement(rd,{position:t.position,map:t.map,key:"control"}))};_g.defaultProps={map:null,heatmap:null,history:null,showPoi:!0,routes:null,position:null,lamps:[],nodes:[],targets:[],nurses:[],seniors:[],supporters:[],users:[],select:null,zoom:16,maxZoom:22,minZoom:2,onFeatureClick:function(){return!0},onSingleClick:function(){return!1},onDoubleClick:function(){return!1}},_g.propTypes={map:ql.a.object,heatmap:ql.a.object,history:ql.a.object,showPoi:ql.a.bool,lamps:ql.a.array,nodes:ql.a.array,targets:ql.a.array,nurses:ql.a.array,seniors:ql.a.array,supporters:ql.a.array,users:ql.a.array,routes:ql.a.object,position:ql.a.object,select:ql.a.object,zoom:ql.a.number,minZoom:ql.a.number,maxZoom:ql.a.number,onFeatureClick:ql.a.func,onSingleClick:ql.a.func,onDoubleClick:ql.a.func};var vg=fe(function(t,e){!function(t,n){!function(t){function e(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++){r=arguments[n];for(e in r)t[e]=r[e]}return t}function n(t,e){var n=Array.prototype.slice;if(t.bind)return t.bind.apply(t,n.call(arguments,1));var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}}function i(t){return t._leaflet_id=t._leaflet_id||++me,t._leaflet_id}function r(t,e,n){var i,r,o,s;return s=function(){i=!1,r&&(o.apply(n,r),r=!1)},o=function(){i?r=arguments:(t.apply(n,arguments),setTimeout(s,e),i=!0)}}function o(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r}function s(){return!1}function a(t,e){var n=Math.pow(10,void 0===e?6:e);return Math.round(t*n)/n}function u(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function l(t){return u(t).split(/\s+/)}function h(t,e){t.hasOwnProperty("options")||(t.options=t.options?de(t.options):{});for(var n in e)t.options[n]=e[n];return t.options}function c(t,e,n){var i=[];for(var r in t)i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]));return(e&&-1!==e.indexOf("?")?"&":"?")+i.join("&")}function p(t,e){return t.replace(ge,function(t,n){var i=e[n];if(void 0===i)throw new Error("No value provided for variable "+t);return"function"===typeof i&&(i=i(e)),i})}function f(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}function d(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}function m(t){var e=+new Date,n=Math.max(0,16-(e-ve));return ve=e+n,window.setTimeout(t,n)}function g(t,e,i){if(!i||be!==m)return be.call(window,n(t,e));t.call(e)}function y(t){t&&xe.call(window,t)}function _(){}function v(t){if("undefined"!==typeof L&&L&&L.Mixin){t=ye(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}function b(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}function x(t,e,n){return t instanceof b?t:ye(t)?new b(t[0],t[1]):void 0===t||null===t?t:"object"===typeof t&&"x"in t&&"y"in t?new b(t.x,t.y):new b(t,e,n)}function w(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function E(t,e){return!t||t instanceof w?t:new w(t,e)}function S(t,e){if(t)for(var n=e?[t,e]:t,i=0,r=n.length;i<r;i++)this.extend(n[i])}function T(t,e){return t instanceof S?t:new S(t,e)}function C(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function M(t,e,n){return t instanceof C?t:ye(t)&&"object"!==typeof t[0]?3===t.length?new C(t[0],t[1],t[2]):2===t.length?new C(t[0],t[1]):null:void 0===t||null===t?t:"object"===typeof t&&"lat"in t?new C(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new C(t,e,n)}function P(t,e,n,i){if(ye(t))return this._a=t[0],this._b=t[1],this._c=t[2],void(this._d=t[3]);this._a=t,this._b=e,this._c=n,this._d=i}function O(t,e,n,i){return new P(t,e,n,i)}function A(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function R(t,e){var n,i,r,o,s,a,u="";for(n=0,r=t.length;n<r;n++){for(s=t[n],i=0,o=s.length;i<o;i++)a=s[i],u+=(i?"L":"M")+a.x+" "+a.y;u+=e?cn?"z":"x":""}return u||"M0 0"}function I(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}function k(t,e,n,i){return"touchstart"===e?F(t,n,i):"touchmove"===e?U(t,n,i):"touchend"===e&&B(t,n,i),this}function N(t,e,n){var i=t["_leaflet_"+e+n];return"touchstart"===e?t.removeEventListener(dn,i,!1):"touchmove"===e?t.removeEventListener(mn,i,!1):"touchend"===e&&(t.removeEventListener(gn,i,!1),t.removeEventListener(yn,i,!1)),this}function F(t,e,i){var r=n(function(t){if("mouse"!==t.pointerType&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(!(_n.indexOf(t.target.tagName)<0))return;wt(t)}z(t,e)});t["_leaflet_touchstart"+i]=r,t.addEventListener(dn,r,!1),bn||(document.documentElement.addEventListener(dn,j,!0),document.documentElement.addEventListener(mn,D,!0),document.documentElement.addEventListener(gn,G,!0),document.documentElement.addEventListener(yn,G,!0),bn=!0)}function j(t){vn[t.pointerId]=t,xn++}function D(t){vn[t.pointerId]&&(vn[t.pointerId]=t)}function G(t){delete vn[t.pointerId],xn--}function z(t,e){t.touches=[];for(var n in vn)t.touches.push(vn[n]);t.changedTouches=[t],e(t)}function U(t,e,n){var i=function(t){(t.pointerType!==t.MSPOINTER_TYPE_MOUSE&&"mouse"!==t.pointerType||0!==t.buttons)&&z(t,e)};t["_leaflet_touchmove"+n]=i,t.addEventListener(mn,i,!1)}function B(t,e,n){var i=function(t){z(t,e)};t["_leaflet_touchend"+n]=i,t.addEventListener(gn,i,!1),t.addEventListener(yn,i,!1)}function Z(t,e,n){function i(t){var e;if(on){if(!je||"mouse"===t.pointerType)return;e=xn}else e=t.touches.length;if(!(e>1)){var n=Date.now(),i=n-(o||n);s=t.touches?t.touches[0]:t,a=i>0&&i<=u,o=n}}function r(t){if(a&&!s.cancelBubble){if(on){if(!je||"mouse"===t.pointerType)return;var n,i,r={};for(i in s)n=s[i],r[i]=n&&n.bind?n.bind(s):n;s=r}s.type="dblclick",e(s),o=null}}var o,s,a=!1,u=250;return t[Sn+wn+n]=i,t[Sn+En+n]=r,t[Sn+"dblclick"+n]=e,t.addEventListener(wn,i,!1),t.addEventListener(En,r,!1),t.addEventListener("dblclick",e,!1),this}function W(t,e){var n=t[Sn+wn+e],i=t[Sn+En+e],r=t[Sn+"dblclick"+e];return t.removeEventListener(wn,n,!1),t.removeEventListener(En,i,!1),je||t.removeEventListener("dblclick",r,!1),this}function X(t){return"string"===typeof t?document.getElementById(t):t}function V(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||"auto"===n)&&document.defaultView){var i=document.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return"auto"===n?null:n}function H(t,e,n){var i=document.createElement(t);return i.className=e||"",n&&n.appendChild(i),i}function Y(t){var e=t.parentNode;e&&e.removeChild(t)}function q(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function K(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function J(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function Q(t,e){if(void 0!==t.classList)return t.classList.contains(e);var n=nt(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)}function $(t,e){if(void 0!==t.classList)for(var n=l(e),i=0,r=n.length;i<r;i++)t.classList.add(n[i]);else if(!Q(t,e)){var o=nt(t);et(t,(o?o+" ":"")+e)}}function tt(t,e){void 0!==t.classList?t.classList.remove(e):et(t,u((" "+nt(t)+" ").replace(" "+e+" "," ")))}function et(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function nt(t){return t.correspondingElement&&(t=t.correspondingElement),void 0===t.className.baseVal?t.className:t.className.baseVal}function it(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&rt(t,e)}function rt(t,e){var n=!1,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(1===e)return}e=Math.round(100*e),n?(n.Enabled=100!==e,n.Opacity=e):t.style.filter+=" progid:"+i+"(opacity="+e+")"}function ot(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function st(t,e,n){var i=e||new b(0,0);t.style[Tn]=(Ke?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")}function at(t,e){t._leaflet_pos=e,$e?st(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ut(t){return t._leaflet_pos||new b(0,0)}function lt(){mt(window,"dragstart",wt)}function ht(){gt(window,"dragstart",wt)}function ct(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(pt(),Pn=t,On=t.style.outline,t.style.outline="none",mt(window,"keydown",pt))}function pt(){Pn&&(Pn.style.outline=On,Pn=void 0,On=void 0,gt(window,"keydown",pt))}function ft(t){do{t=t.parentNode}while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function dt(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}function mt(t,e,n,i){if("object"===typeof e)for(var r in e)yt(t,r,e[r],n);else{e=l(e);for(var o=0,s=e.length;o<s;o++)yt(t,e[o],n,i)}return this}function gt(t,e,n,i){if("object"===typeof e)for(var r in e)_t(t,r,e[r],n);else if(e){e=l(e);for(var o=0,s=e.length;o<s;o++)_t(t,e[o],n,i)}else{for(var a in t[In])_t(t,a,t[In][a]);delete t[In]}return this}function yt(t,e,n,r){var o=e+i(n)+(r?"_"+i(r):"");if(t[In]&&t[In][o])return this;var s=function(e){return n.call(r||t,e||window.event)},a=s;on&&0===e.indexOf("touch")?k(t,e,s,o):!sn||"dblclick"!==e||!Z||on&&We?"addEventListener"in t?"mousewheel"===e?t.addEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):"mouseenter"===e||"mouseleave"===e?(s=function(e){e=e||window.event,Lt(t,e)&&a(e)},t.addEventListener("mouseenter"===e?"mouseover":"mouseout",s,!1)):("click"===e&&Ge&&(s=function(t){Pt(t,a)}),t.addEventListener(e,s,!1)):"attachEvent"in t&&t.attachEvent("on"+e,s):Z(t,s,o),t[In]=t[In]||{},t[In][o]=s}function _t(t,e,n,r){var o=e+i(n)+(r?"_"+i(r):""),s=t[In]&&t[In][o];if(!s)return this;on&&0===e.indexOf("touch")?N(t,e,o):!sn||"dblclick"!==e||!W||on&&We?"removeEventListener"in t?"mousewheel"===e?t.removeEventListener("onwheel"in t?"wheel":"mousewheel",s,!1):t.removeEventListener("mouseenter"===e?"mouseover":"mouseleave"===e?"mouseout":e,s,!1):"detachEvent"in t&&t.detachEvent("on"+e,s):W(t,o),t[In][o]=null}function vt(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Mt(t),this}function bt(t){return yt(t,"mousewheel",vt),this}function xt(t){return mt(t,"mousedown touchstart dblclick",vt),yt(t,"click",Ct),this}function wt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Et(t){return wt(t),vt(t),this}function St(t,e){if(!e)return new b(t.clientX,t.clientY);var n=dt(e),i=n.boundingClientRect;return new b((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)}function Tt(t){return je?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/kn:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}function Ct(t){Nn[t.type]=!0}function Mt(t){var e=Nn[t.type];return Nn[t.type]=!1,e}function Lt(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}function Pt(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=An&&n-An;if(i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated)return void Et(t);An=n,e(t)}function Ot(t,e){return new Dn(t,e)}function At(t,e){if(!e||!t.length)return t.slice();var n=e*e;return t=Ft(t,n),t=kt(t,n)}function Rt(t,e,n){return Math.sqrt(Ut(t,e,n,!0))}function It(t,e,n){return Ut(t,e,n)}function kt(t,e){var n=t.length,i=typeof Uint8Array!==void 0+""?Uint8Array:Array,r=new i(n);r[0]=r[n-1]=1,Nt(t,r,e,0,n-1);var o,s=[];for(o=0;o<n;o++)r[o]&&s.push(t[o]);return s}function Nt(t,e,n,i,r){var o,s,a,u=0;for(s=i+1;s<=r-1;s++)(a=Ut(t[s],t[i],t[r],!0))>u&&(o=s,u=a);u>n&&(e[o]=1,Nt(t,e,n,i,o),Nt(t,e,n,o,r))}function Ft(t,e){for(var n=[t[0]],i=1,r=0,o=t.length;i<o;i++)zt(t[i],t[r])>e&&(n.push(t[i]),r=i);return r<o-1&&n.push(t[o-1]),n}function jt(t,e,n,i,r){var o,s,a,u=i?Kn:Gt(t,n),l=Gt(e,n);for(Kn=l;;){if(!(u|l))return[t,e];if(u&l)return!1;o=u||l,s=Dt(t,e,o,n,r),a=Gt(s,n),o===u?(t=s,u=a):(e=s,l=a)}}function Dt(t,e,n,i,r){var o,s,a=e.x-t.x,u=e.y-t.y,l=i.min,h=i.max;return 8&n?(o=t.x+a*(h.y-t.y)/u,s=h.y):4&n?(o=t.x+a*(l.y-t.y)/u,s=l.y):2&n?(o=h.x,s=t.y+u*(h.x-t.x)/a):1&n&&(o=l.x,s=t.y+u*(l.x-t.x)/a),new b(o,s,r)}function Gt(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function zt(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i}function Ut(t,e,n,i){var r,o=e.x,s=e.y,a=n.x-o,u=n.y-s,l=a*a+u*u;return l>0&&(r=((t.x-o)*a+(t.y-s)*u)/l,r>1?(o=n.x,s=n.y):r>0&&(o+=a*r,s+=u*r)),a=t.x-o,u=t.y-s,i?a*a+u*u:new b(o,s)}function Bt(t){return!ye(t[0])||"object"!==typeof t[0][0]&&"undefined"!==typeof t[0][0]}function Zt(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Bt(t)}function Wt(t,e,n){var i,r,o,s,a,u,l,h,c,p=[1,4,2,8];for(r=0,l=t.length;r<l;r++)t[r]._code=Gt(t[r],e);for(s=0;s<4;s++){for(h=p[s],i=[],r=0,l=t.length,o=l-1;r<l;o=r++)a=t[r],u=t[o],a._code&h?u._code&h||(c=Dt(u,a,h,e,n),c._code=Gt(c,e),i.push(c)):(u._code&h&&(c=Dt(u,a,h,e,n),c._code=Gt(c,e),i.push(c)),i.push(a));t=i}return t}function Xt(t){return new mi(t)}function Vt(t,e){return new _i(t,e)}function Ht(t,e){return new bi(t,e)}function Yt(t,e,n){return new xi(t,e,n)}function qt(t,e){return new wi(t,e)}function Kt(t,e){return new Ei(t,e)}function Jt(t,e){var n,i,r,o,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,u=[],l=e&&e.pointToLayer,h=e&&e.coordsToLatLng||Qt;if(!a&&!s)return null;switch(s.type){case"Point":return n=h(a),l?l(t,n):new _i(n);case"MultiPoint":for(r=0,o=a.length;r<o;r++)n=h(a[r]),u.push(l?l(t,n):new _i(n));return new fi(u);case"LineString":case"MultiLineString":return i=$t(a,"LineString"===s.type?0:1,h),new wi(i,e);case"Polygon":case"MultiPolygon":return i=$t(a,"Polygon"===s.type?1:2,h),new Ei(i,e);case"GeometryCollection":for(r=0,o=s.geometries.length;r<o;r++){var c=Jt({geometry:s.geometries[r],type:"Feature",properties:t.properties},e);c&&u.push(c)}return new fi(u);default:throw new Error("Invalid GeoJSON object.")}}function Qt(t){return new C(t[1],t[0],t[2])}function $t(t,e,n){for(var i,r=[],o=0,s=t.length;o<s;o++)i=e?$t(t[o],e-1,n):(n||Qt)(t[o]),r.push(i);return r}function te(t,e){return e="number"===typeof e?e:6,void 0!==t.alt?[a(t.lng,e),a(t.lat,e),a(t.alt,e)]:[a(t.lng,e),a(t.lat,e)]}function ee(t,e,n,i){for(var r=[],o=0,s=t.length;o<s;o++)r.push(e?ee(t[o],e-1,n,i):te(t[o],i));return!e&&n&&r.push(r[0]),r}function ne(t,n){return t.feature?e({},t.feature,{geometry:n}):ie(n)}function ie(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}function re(t,e){return new Si(t,e)}function oe(t,e,n){return new Pi(t,e,n)}function se(t){return new Ni(t)}function ae(t){return new Fi(t)}function ue(t,e){return new ji(t,e)}function le(t,e){return new Di(t,e)}function he(t){return hn?new zi(t):null}function ce(t){return cn||pn?new Wi(t):null}function pe(t,e){return new Xi(t,e)}var fe=Object.freeze;Object.freeze=function(t){return t};var de=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}(),me=0,ge=/\{ *([\w_-]+) *\}/g,ye=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},_e="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=",ve=0,be=window.requestAnimationFrame||d("RequestAnimationFrame")||m,xe=window.cancelAnimationFrame||d("CancelAnimationFrame")||d("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)},we=(Object.freeze||Object)({freeze:fe,extend:e,create:de,bind:n,lastId:me,stamp:i,throttle:r,wrapNum:o,falseFn:s,formatNum:a,trim:u,splitWords:l,setOptions:h,getParamString:c,template:p,isArray:ye,indexOf:f,emptyImageUrl:_e,requestFn:be,cancelFn:xe,requestAnimFrame:g,cancelAnimFrame:y});_.extend=function(t){var n=function(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=n.__super__=this.prototype,r=de(i);r.constructor=n,n.prototype=r;for(var o in this)this.hasOwnProperty(o)&&"prototype"!==o&&"__super__"!==o&&(n[o]=this[o]);return t.statics&&(e(n,t.statics),delete t.statics),t.includes&&(v(t.includes),e.apply(null,[r].concat(t.includes)),delete t.includes),r.options&&(t.options=e(de(r.options),t.options)),e(r,t),r._initHooks=[],r.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=r._initHooks.length;t<e;t++)r._initHooks[t].call(this)}},n},_.include=function(t){return e(this.prototype,t),this},_.mergeOptions=function(t){return e(this.prototype.options,t),this},_.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"===typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var Ee={on:function(t,e,n){if("object"===typeof t)for(var i in t)this._on(i,t[i],e);else{t=l(t);for(var r=0,o=t.length;r<o;r++)this._on(t[r],e,n)}return this},off:function(t,e,n){if(t)if("object"===typeof t)for(var i in t)this._off(i,t[i],e);else{t=l(t);for(var r=0,o=t.length;r<o;r++)this._off(t[r],e,n)}else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(i=[],this._events[t]=i),n===this&&(n=void 0);for(var r={fn:e,ctx:n},o=i,s=0,a=o.length;s<a;s++)if(o[s].fn===e&&o[s].ctx===n)return;o.push(r)},_off:function(t,e,n){var i,r,o;if(this._events&&(i=this._events[t])){if(!e){for(r=0,o=i.length;r<o;r++)i[r].fn=s;return void delete this._events[t]}if(n===this&&(n=void 0),i)for(r=0,o=i.length;r<o;r++){var a=i[r];if(a.ctx===n&&a.fn===e)return a.fn=s,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(r,1)}}},fire:function(t,n,i){if(!this.listens(t,i))return this;var r=e({},n,{type:t,target:this,sourceTarget:n&&n.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var s=0,a=o.length;s<a;s++){var u=o[s];u.fn.call(u.ctx||this,r)}this._firingCount--}}return i&&this._propagateEvent(r),this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,i){if("object"===typeof t){for(var r in t)this.once(r,t[r],e);return this}var o=n(function(){this.off(t,e,i).off(t,o,i)},this);return this.on(t,e,i).on(t,o,i)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[i(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[i(t)],this},_propagateEvent:function(t){for(var n in this._eventParents)this._eventParents[n].fire(t.type,e({layer:t.target,propagatedFrom:t.target},t),!0)}};Ee.addEventListener=Ee.on,Ee.removeEventListener=Ee.clearAllEventListeners=Ee.off,Ee.addOneTimeEventListener=Ee.once,Ee.fireEvent=Ee.fire,Ee.hasEventListeners=Ee.listens;var Se=_.extend(Ee),Te=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};b.prototype={clone:function(){return new b(this.x,this.y)},add:function(t){return this.clone()._add(x(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(x(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new b(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new b(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Te(this.x),this.y=Te(this.y),this},distanceTo:function(t){t=x(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){return t=x(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=x(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+a(this.x)+", "+a(this.y)+")"}},w.prototype={extend:function(t){return t=x(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new b((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new b(this.min.x,this.max.y)},getTopRight:function(){return new b(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return t="number"===typeof t[0]||t instanceof b?x(t):E(t),t instanceof w?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=E(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,s=r.y>=e.y&&i.y<=n.y;return o&&s},overlaps:function(t){t=E(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,s=r.y>e.y&&i.y<n.y;return o&&s},isValid:function(){return!(!this.min||!this.max)}},S.prototype={extend:function(t){var e,n,i=this._southWest,r=this._northEast;if(t instanceof C)e=t,n=t;else{if(!(t instanceof S))return t?this.extend(M(t)||T(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||r?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),r.lat=Math.max(n.lat,r.lat),r.lng=Math.max(n.lng,r.lng)):(this._southWest=new C(e.lat,e.lng),this._northEast=new C(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new S(new C(e.lat-i,e.lng-r),new C(n.lat+i,n.lng+r))},getCenter:function(){return new C((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new C(this.getNorth(),this.getWest())},getSouthEast:function(){return new C(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t="number"===typeof t[0]||t instanceof C||"lat"in t?M(t):T(t);var e,n,i=this._southWest,r=this._northEast;return t instanceof S?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=r.lat&&e.lng>=i.lng&&n.lng<=r.lng},intersects:function(t){t=T(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,s=r.lng>=e.lng&&i.lng<=n.lng;return o&&s},overlaps:function(t){t=T(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,s=r.lng>e.lng&&i.lng<n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=T(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e))},isValid:function(){return!(!this._southWest||!this._northEast)}},C.prototype={equals:function(t,e){return!!t&&(t=M(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+a(this.lat,t)+", "+a(this.lng,t)+")"},distanceTo:function(t){return Me.distance(this,M(t))},wrap:function(){return Me.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return T([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new C(this.lat,this.lng,this.alt)}};var Ce={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,n=this.scale(t);return new w(this.transformation.transform(e.min,n),this.transformation.transform(e.max,n))},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?o(t.lng,this.wrapLng,!0):t.lng;return new C(this.wrapLat?o(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(0===i&&0===r)return t;var o=t.getSouthWest(),s=t.getNorthEast();return new S(new C(o.lat-i,o.lng-r),new C(s.lat-i,s.lng-r))}},Me=e({},Ce,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin((e.lat-t.lat)*n/2),s=Math.sin((e.lng-t.lng)*n/2),a=o*o+Math.cos(i)*Math.cos(r)*s*s,u=2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a));return this.R*u}}),Le={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new b(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new C((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return new w([-t,-t],[t,t])}()};P.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new b((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};var Pe,Oe,Ae,Re=e({},Me,{code:"EPSG:3857",projection:Le,transformation:function(){var t=.5/(Math.PI*Le.R);return O(t,.5,-t,.5)}()}),Ie=e({},Re,{code:"EPSG:900913"}),ke=document.documentElement.style,Ne="ActiveXObject"in window,Fe=Ne&&!document.addEventListener,je="msLaunchUri"in navigator&&!("documentMode"in document),De=I("webkit"),Ge=I("android"),ze=I("android 2")||I("android 3"),Ue=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Be=Ge&&I("Google")&&Ue<537&&!("AudioNode"in window),Ze=!!window.opera,We=I("chrome"),Xe=I("gecko")&&!De&&!Ze&&!Ne,Ve=!We&&I("safari"),He=I("phantom"),Ye="OTransition"in ke,qe=0===navigator.platform.indexOf("Win"),Ke=Ne&&"transition"in ke,Je="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ze,Qe="MozPerspective"in ke,$e=!window.L_DISABLE_3D&&(Ke||Je||Qe)&&!Ye&&!He,tn="undefined"!==typeof orientation||I("mobile"),en=tn&&De,nn=tn&&Je,rn=!window.PointerEvent&&window.MSPointerEvent,on=!(!window.PointerEvent&&!rn),sn=!window.L_NO_TOUCH&&(on||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),an=tn&&Ze,un=tn&&Xe,ln=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,hn=function(){return!!document.createElement("canvas").getContext}(),cn=!(!document.createElementNS||!A("svg").createSVGRect),pn=!cn&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&"object"===typeof e.adj}catch(t){return!1}}(),fn=(Object.freeze||Object)({ie:Ne,ielt9:Fe,edge:je,webkit:De,android:Ge,android23:ze,androidStock:Be,opera:Ze,chrome:We,gecko:Xe,safari:Ve,phantom:He,opera12:Ye,win:qe,ie3d:Ke,webkit3d:Je,gecko3d:Qe,any3d:$e,mobile:tn,mobileWebkit:en,mobileWebkit3d:nn,msPointer:rn,pointer:on,touch:sn,mobileOpera:an,mobileGecko:un,retina:ln,canvas:hn,svg:cn,vml:pn}),dn=rn?"MSPointerDown":"pointerdown",mn=rn?"MSPointerMove":"pointermove",gn=rn?"MSPointerUp":"pointerup",yn=rn?"MSPointerCancel":"pointercancel",_n=["INPUT","SELECT","OPTION"],vn={},bn=!1,xn=0,wn=rn?"MSPointerDown":on?"pointerdown":"touchstart",En=rn?"MSPointerUp":on?"pointerup":"touchend",Sn="_leaflet_",Tn=ot(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Cn=ot(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Mn="webkitTransition"===Cn||"OTransition"===Cn?Cn+"End":"transitionend";if("onselectstart"in document)Pe=function(){mt(window,"selectstart",wt)},Oe=function(){gt(window,"selectstart",wt)};else{var Ln=ot(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Pe=function(){if(Ln){var t=document.documentElement.style;Ae=t[Ln],t[Ln]="none"}},Oe=function(){Ln&&(document.documentElement.style[Ln]=Ae,Ae=void 0)}}var Pn,On,An,Rn=(Object.freeze||Object)({TRANSFORM:Tn,TRANSITION:Cn,TRANSITION_END:Mn,get:X,getStyle:V,create:H,remove:Y,empty:q,toFront:K,toBack:J,hasClass:Q,addClass:$,removeClass:tt,setClass:et,getClass:nt,setOpacity:it,testProp:ot,setTransform:st,setPosition:at,getPosition:ut,disableTextSelection:Pe,enableTextSelection:Oe,disableImageDrag:lt,enableImageDrag:ht,preventOutline:ct,restoreOutline:pt,getSizedParentNode:ft,getScale:dt}),In="_leaflet_events",kn=qe&&We?2*window.devicePixelRatio:Xe?window.devicePixelRatio:1,Nn={},Fn=(Object.freeze||Object)({on:mt,off:gt,stopPropagation:vt,disableScrollPropagation:bt,disableClickPropagation:xt,preventDefault:wt,stop:Et,getMousePosition:St,getWheelDelta:Tt,fakeStop:Ct,skipped:Mt,isExternalTarget:Lt,addListener:mt,removeListener:gt}),jn=Se.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=ut(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=g(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));e&&n._round(),at(this._el,n),this.fire("step")},_complete:function(){y(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),Dn=Se.extend({options:{crs:Re,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=h(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=n(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(M(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Cn&&$e&&!an&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),mt(this._proxy,Mn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,n,i){if(n=void 0===n?this._zoom:this._limitZoom(n),t=this._limitCenter(M(t),n,this.options.maxBounds),i=i||{},this._stop(),this._loaded&&!i.reset&&!0!==i){void 0!==i.animate&&(i.zoom=e({animate:i.animate},i.zoom),i.pan=e({animate:i.animate,duration:i.duration},i.pan));if(this._zoom!==n?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,n,i.zoom):this._tryAnimatedPan(t,i.pan))return clearTimeout(this._sizeTimer),this}return this._resetView(t,n),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||($e?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||($e?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=t instanceof b?t:this.latLngToContainerPoint(t),s=o.subtract(r).multiplyBy(1-1/i),a=this.containerPointToLatLng(r.add(s));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():T(t);var n=x(e.paddingTopLeft||e.padding||[0,0]),i=x(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,!1,n.add(i));if((r="number"===typeof e.maxZoom?Math.min(e.maxZoom,r):r)===1/0)return{center:t.getCenter(),zoom:r};var o=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r);return{center:this.unproject(s.add(a).divideBy(2).add(o),r),zoom:r}},fitBounds:function(t,e){if(t=T(t),!t.isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=x(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(!0!==e.animate&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new jn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate){$(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,n){function i(t){var e=t?-1:1,n=t?y:m,i=y*y-m*m+e*b*b*_*_,r=2*n*b*_,o=i/r,s=Math.sqrt(o*o+1)-o;return s<1e-9?-18:Math.log(s)}function r(t){return(Math.exp(t)-Math.exp(-t))/2}function o(t){return(Math.exp(t)+Math.exp(-t))/2}function s(t){return r(t)/o(t)}function a(t){return m*(o(x)/o(x+v*t))}function u(t){return m*(o(x)*s(x+v*t)-r(x))/b}function l(t){return 1-Math.pow(1-t,1.5)}function h(){var n=(Date.now()-w)/S,i=l(n)*E;n<=1?(this._flyToFrame=g(h,this),this._move(this.unproject(c.add(p.subtract(c).multiplyBy(u(i)/_)),d),this.getScaleZoom(m/a(i),d),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}if(n=n||{},!1===n.animate||!$e)return this.setView(t,e,n);this._stop();var c=this.project(this.getCenter()),p=this.project(t),f=this.getSize(),d=this._zoom;t=M(t),e=void 0===e?d:e;var m=Math.max(f.x,f.y),y=m*this.getZoomScale(d,e),_=p.distanceTo(c)||1,v=1.42,b=v*v,x=i(0),w=Date.now(),E=(i(1)-x)/v,S=n.duration?1e3*n.duration:1e3*E*.8;return this._moveStart(!0,n.noMoveStart),h.call(this),this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){return t=T(t),t.isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,T(t));return n.equals(i)||this.panTo(i,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var n=x(e.paddingTopLeft||e.padding||[0,0]),i=x(e.paddingBottomRight||e.padding||[0,0]),r=this.getCenter(),o=this.project(r),s=this.project(t),a=this.getPixelBounds(),u=a.getSize().divideBy(2),l=E([a.min.add(n),a.max.subtract(i)]);if(!l.contains(s)){this._enforcingBounds=!0;var h=o.subtract(s),c=x(s.x+h.x,s.y+h.y);(s.x<l.min.x||s.x>l.max.x)&&(c.x=o.x-h.x,h.x>0?c.x+=u.x-n.x:c.x-=u.x-i.x),(s.y<l.min.y||s.y>l.max.y)&&(c.y=o.y-h.y,h.y>0?c.y+=u.y-n.y:c.y-=u.y-i.y),this.panTo(this.unproject(c),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=e({animate:!1,pan:!0},!0===t?{animate:!0}:t);var i=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=i.divideBy(2).round(),s=r.divideBy(2).round(),a=o.subtract(s);return a.x||a.y?(t.animate&&t.pan?this.panBy(a):(t.pan&&this._rawPanBy(a),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(n(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:i,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=e({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var i=n(this._handleGeolocationResponse,this),r=n(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(i,r,t):navigator.geolocation.getCurrentPosition(i,r,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new C(e,n),r=i.toBounds(2*t.coords.accuracy),o=this._locateOptions;if(o.setView){var s=this.getBoundsZoom(r);this.setView(i,o.maxZoom?Math.min(s,o.maxZoom):s)}var a={latlng:i,bounds:r,timestamp:t.timestamp};for(var u in t.coords)"number"===typeof t.coords[u]&&(a[u]=t.coords[u]);this.fire("locationfound",a)},addHandler:function(t,e){if(!e)return this;var n=this[t]=new e(this);return this._handlers.push(n),this.options[t]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),Y(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(y(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)Y(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=H("div",n,e||this._mapPane);return t&&(this._panes[t]=i),i},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new S(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=T(t),n=x(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),u=this.getSize().subtract(n),l=E(this.project(a,i),this.project(s,i)).getSize(),h=$e?this.options.zoomSnap:1,c=u.x/l.x,p=u.y/l.y,f=e?Math.max(c,p):Math.min(c,p);return i=this.getScaleZoom(f,i),h&&(i=Math.round(i/(h/100))*(h/100),i=e?Math.ceil(i/h)*h:Math.floor(i/h)*h),Math.max(r,Math.min(o,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new b(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new w(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"===typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=void 0===e?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?1/0:i},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(M(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(x(t),e)},layerPointToLatLng:function(t){var e=x(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){return this.project(M(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(M(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(T(t))},distance:function(t,e){return this.options.crs.distance(M(t),M(e))},containerPointToLayerPoint:function(t){return x(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return x(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(x(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(M(t)))},mouseEventToContainerPoint:function(t){return St(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=X(t);if(!e)throw new Error("Map container not found.");if(e._leaflet_id)throw new Error("Map container is already initialized.");mt(e,"scroll",this._onScroll,this),this._containerId=i(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&$e,$(t,"leaflet-container"+(sn?" leaflet-touch":"")+(ln?" leaflet-retina":"")+(Fe?" leaflet-oldie":"")+(Ve?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=V(t,"position");"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),at(this._mapPane,new b(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||($(t.markerPane,"leaflet-zoom-hide"),$(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){at(this._mapPane,new b(0,0));var n=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return y(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){at(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[i(this._container)]=this;var e=t?gt:mt;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),$e&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){y(this._resizeRequest),this._resizeRequest=g(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,r=[],o="mouseout"===e||"mouseover"===e,s=t.target||t.srcElement,a=!1;s;){if((n=this._targets[i(s)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){a=!0;break}if(n&&n.listens(e,!0)){if(o&&!Lt(s,t))break;if(r.push(n),o)break}if(s===this._container)break;s=s.parentNode}return r.length||a||o||!Lt(s,t)||(r=[this]),r},_handleDOMEvent:function(t){if(this._loaded&&!Mt(t)){var e=t.type;"mousedown"!==e&&"keypress"!==e||ct(t.target||t.srcElement),this._fireDOMEvent(t,e)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,n,i){if("click"===t.type){var r=e({},t);r.type="preclick",this._fireDOMEvent(r,r.type,i)}if(!t._stopped&&(i=(i||[]).concat(this._findEventTargets(t,n)),i.length)){var o=i[0];"contextmenu"===n&&o.listens(n,!0)&&wt(t);var s={originalEvent:t};if("keypress"!==t.type){var a=o.getLatLng&&(!o._radius||o._radius<=10);s.containerPoint=a?this.latLngToContainerPoint(o.getLatLng()):this.mouseEventToContainerPoint(t),s.layerPoint=this.containerPointToLayerPoint(s.containerPoint),s.latlng=a?o.getLatLng():this.layerPointToLatLng(s.layerPoint)}for(var u=0;u<i.length;u++)if(i[u].fire(n,s,!0),s.originalEvent._stopped||!1===i[u].options.bubblingMouseEvents&&-1!==f(this._mouseEvents,n))return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ut(this._mapPane)||new b(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return E([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n)return t;var i=this.project(t,e),r=this.getSize().divideBy(2),o=new w(i.subtract(r),i.add(r)),s=this._getBoundsOffset(o,n,e);return s.round().equals([0,0])?t:this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e)return t;var n=this.getPixelBounds(),i=new w(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=E(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max);return new b(this._rebound(r.x,-o.x),this._rebound(r.y,-o.y))},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=$e?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(n))&&(this.panBy(n,e),!0)},_createAnimProxy:function(){var t=this._proxy=H("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=Tn,n=this._proxy.style[e];st(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",function(){var t=this.getCenter(),e=this.getZoom();st(this._proxy,this.project(t,e),this.getZoomScale(e,1))},this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Y(this._proxy),delete this._proxy},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);return!(!0!==n.animate&&!this.getSize().contains(r))&&(g(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,i,r){this._mapPane&&(i&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,$(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:r}),setTimeout(n(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),g(function(){this._moveEnd(!0)},this))}}),Gn=_.extend({options:{position:"topright"},initialize:function(t){h(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];return $(e,"leaflet-control"),-1!==n.indexOf("bottom")?i.insertBefore(e,i.firstChild):i.appendChild(e),this},remove:function(){return this._map?(Y(this._container),this.onRemove&&this.onRemove(this._map),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),zn=function(t){return new Gn(t)};Dn.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){function t(t,r){var o=n+t+" "+n+r;e[t+r]=H("div",o,i)}var e=this._controlCorners={},n="leaflet-",i=this._controlContainer=H("div",n+"control-container",this._container);t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)Y(this._controlCorners[t]);Y(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Un=Gn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){h(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var i in t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Gn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(i(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){$(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?($(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=H("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",!0),xt(e),bt(e);var i=this._section=H("section",t+"-list");n&&(this._map.on("click",this.collapse,this),Ge||mt(e,{mouseenter:this.expand,mouseleave:this.collapse},this));var r=this._layersLink=H("a",t+"-toggle",e);r.href="#",r.title="Layers",sn?(mt(r,"click",Et),mt(r,"click",this.expand,this)):mt(r,"focus",this.expand,this),n||this.expand(),this._baseLayersList=H("div",t+"-base",i),this._separator=H("div",t+"-separator",i),this._overlaysList=H("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&i(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,i){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:i}),this.options.sortLayers&&this._layers.sort(n(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;q(this._baseLayersList),q(this._overlaysList),this._layerControlInputs=[];var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++)i=this._layers[n],this._addItem(i),e=e||i.overlay,t=t||!i.overlay,r+=i.overlay?0:1;return this.options.hideSingleBase&&(t=t&&r>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(i(t.target)),n=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;n&&this._map.fire(n,e)},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",i=document.createElement("div");return i.innerHTML=n,i.firstChild},_addItem:function(t){var e,n=document.createElement("label"),r=this._map.hasLayer(t.layer);t.overlay?(e=document.createElement("input"),e.type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=r):e=this._createRadioElement("leaflet-base-layers",r),this._layerControlInputs.push(e),e.layerId=i(t.layer),mt(e,"click",this._onInputClick,this);var o=document.createElement("span");o.innerHTML=" "+t.name;var s=document.createElement("div");return n.appendChild(s),s.appendChild(e),s.appendChild(o),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],r=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||r.push(e);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])&&this._map.removeLayer(r[o]);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])||this._map.addLayer(i[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),r=n.length-1;r>=0;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}}),Bn=function(t,e,n){return new Un(t,e,n)},Zn=Gn.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=H("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,r){var o=H("a",n,i);return o.innerHTML=t,o.href="#",o.title=e,o.setAttribute("role","button"),o.setAttribute("aria-label",e),xt(o),mt(o,"click",Et),mt(o,"click",r,this),mt(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";tt(this._zoomInButton,e),tt(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMinZoom())&&$(this._zoomOutButton,e),(this._disabled||t._zoom===t.getMaxZoom())&&$(this._zoomInButton,e)}});Dn.mergeOptions({zoomControl:!0}),Dn.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Zn,this.addControl(this.zoomControl))});var Wn=function(t){return new Zn(t)},Xn=Gn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e=H("div","leaflet-control-scale"),n=this.options;return this._addScales(n,"leaflet-control-scale-line",e),t.on(n.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),e},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=H("div",e,n)),t.imperial&&(this._iScale=H("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e,n,i,r=3.2808399*t;r>5280?(e=r/5280,n=this._getRoundNum(e),this._updateScale(this._iScale,n+" mi",n/e)):(i=this._getRoundNum(r),this._updateScale(this._iScale,i+" ft",i/r))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}}),Vn=function(t){return new Xn(t)},Hn=Gn.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){h(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=H("div","leaflet-control-attribution"),xt(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var n=[];this.options.prefix&&n.push(this.options.prefix),t.length&&n.push(t.join(", ")),this._container.innerHTML=n.join(" | ")}}});Dn.mergeOptions({attributionControl:!0}),Dn.addInitHook(function(){this.options.attributionControl&&(new Hn).addTo(this)});var Yn=function(t){return new Hn(t)};Gn.Layers=Un,Gn.Zoom=Zn,Gn.Scale=Xn,Gn.Attribution=Hn,zn.layers=Bn,zn.zoom=Wn,zn.scale=Vn,zn.attribution=Yn;var qn=_.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});qn.addTo=function(t,e){return t.addHandler(e,this),this};var Kn,Jn={Events:Ee},Qn=sn?"touchstart mousedown":"mousedown",$n={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},ti={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},ei=Se.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){h(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(mt(this._dragStartTarget,Qn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ei._dragging===this&&this.finishDrag(),gt(this._dragStartTarget,Qn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!t._simulated&&this._enabled&&(this._moved=!1,!Q(this._element,"leaflet-zoom-anim")&&!(ei._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches)&&(ei._dragging=this,this._preventOutline&&ct(this._element),lt(),Pe(),!this._moving))){this.fire("down");var e=t.touches?t.touches[0]:t,n=ft(this._element);this._startPoint=new b(e.clientX,e.clientY),this._parentScale=dt(n),mt(document,ti[t.type],this._onMove,this),mt(document,$n[t.type],this._onUp,this)}},_onMove:function(t){if(!t._simulated&&this._enabled){if(t.touches&&t.touches.length>1)return void(this._moved=!0);var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new b(e.clientX,e.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,wt(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ut(this._element).subtract(n),$(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),$(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,y(this._animRequest),this._lastEvent=t,this._animRequest=g(this._updatePosition,this,!0)))}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),at(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){tt(document.body,"leaflet-dragging"),this._lastTarget&&(tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null);for(var t in ti)gt(document,ti[t],this._onMove,this),gt(document,$n[t],this._onUp,this);ht(),Oe(),this._moved&&this._moving&&(y(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,ei._dragging=!1}}),ni=(Object.freeze||Object)({simplify:At,pointToSegmentDistance:Rt,closestPointOnSegment:It,clipSegment:jt,_getEdgeIntersection:Dt,_getBitCode:Gt,_sqClosestPointOnSegment:Ut,isFlat:Bt,_flat:Zt}),ii=(Object.freeze||Object)({clipPolygon:Wt}),ri={project:function(t){return new b(t.lng,t.lat)},unproject:function(t){return new C(t.y,t.x)},bounds:new w([-180,-90],[180,90])},oi={R:6378137,R_MINOR:6356752.314245179,bounds:new w([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=o*Math.sin(i),a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),o/2);return i=-n*Math.log(Math.max(a,1e-10)),new b(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,r=this.R_MINOR/i,o=Math.sqrt(1-r*r),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),u=0,l=.1;u<15&&Math.abs(l)>1e-7;u++)e=o*Math.sin(a),e=Math.pow((1-e)/(1+e),o/2),l=Math.PI/2-2*Math.atan(s*e)-a,a+=l;return new C(a*n,t.x*n/i)}},si=(Object.freeze||Object)({LonLat:ri,Mercator:oi,SphericalMercator:Le}),ai=e({},Me,{code:"EPSG:3395",projection:oi,transformation:function(){var t=.5/(Math.PI*oi.R);return O(t,.5,-t,.5)}()}),ui=e({},Me,{code:"EPSG:4326",projection:ri,transformation:O(1/180,1,-1/180,.5)}),li=e({},Ce,{projection:ri,transformation:O(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:!0});Ce.Earth=Me,Ce.EPSG3395=ai,Ce.EPSG3857=Re,Ce.EPSG900913=Ie,Ce.EPSG4326=ui,Ce.Simple=li;var hi=Se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[i(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[i(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var n=this.getEvents();e.on(n,this),this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e),this.getAttribution&&e.attributionControl&&e.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),e.fire("layeradd",{layer:this})}}});Dn.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=i(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=i(t);return this._layers[e]?(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return!!t&&i(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){t=t?ye(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[i(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=i(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=void 0===r.minZoom?t:Math.min(t,r.minZoom),e=void 0===r.maxZoom?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ci=hi.extend({initialize:function(t,e){h(this,e),this._layers={};var n,i;if(t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)n=this._layers[e],n[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return i(t)}}),pi=function(t,e){return new ci(t,e)},fi=ci.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),ci.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),ci.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new S;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}}),di=function(t){return new fi(t)},mi=_.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){h(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var i=this._createImg(n,e&&"IMG"===e.tagName?e:null);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"];"number"===typeof i&&(i=[i,i]);var r=x(i),o=x("shadow"===e&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),r&&(t.style.width=r.x+"px",t.style.height=r.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return ln&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),gi=mi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return gi.imagePath||(gi.imagePath=this._detectIconPath()),(this.options.imagePath||gi.imagePath)+mi.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=H("div","leaflet-default-icon-path",document.body),e=V(t,"background-image")||V(t,"backgroundImage");return document.body.removeChild(t),e=null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),yi=qn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new ei(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),$(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,r=this._marker.options.autoPanPadding,o=ut(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),u=E(s.min._subtract(a).add(r),s.max._subtract(a).subtract(r));if(!u.contains(o)){var l=x((Math.max(u.max.x,o.x)-u.max.x)/(s.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(s.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(s.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(s.min.y-u.min.y)).multiplyBy(i);n.panBy(l,{animate:!1}),this._draggable._newPos._add(l),this._draggable._startPos._add(l),at(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=g(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(y(this._panRequest),this._panRequest=g(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=ut(e._icon),r=e._map.layerPointToLatLng(i);n&&at(n,i),e._latlng=r,t.latlng=r,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){y(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),_i=hi.extend({options:{icon:new gi,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){h(this,e),this._latlng=M(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=M(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1;n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName&&(n.alt=t.alt||"")),$(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex});var r=t.icon.createShadow(this._shadow),o=!1;r!==this._shadow&&(this._removeShadow(),o=!0),r&&($(r,e),r.alt=""),this._shadow=r,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),r&&o&&this.getPane("shadowPane").appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),Y(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Y(this._shadow),this._shadow=null},_setPos:function(t){at(this._icon,t),this._shadow&&at(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&($(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),yi)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new yi(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;it(this._icon,t),this._shadow&&it(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),vi=hi.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return h(this,t),this._renderer&&this._renderer._updateStyle(this),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),bi=vi.extend({options:{fill:!0,radius:10},initialize:function(t,e){h(this,e),this._latlng=M(t),this._radius=this.options.radius},setLatLng:function(t){return this._latlng=M(t),this.redraw(),this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return vi.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new w(this._point.subtract(i),this._point.add(i))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),xi=bi.extend({initialize:function(t,n,i){if("number"===typeof n&&(n=e({},i,{radius:n})),h(this,n),this._latlng=M(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new S(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:vi.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===Me.distance){var r=Math.PI/180,o=this._mRadius/Me.R/r,s=n.project([e+o,t]),a=n.project([e-o,t]),u=s.add(a).divideBy(2),l=n.unproject(u).lat,h=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(l*r))/(Math.cos(e*r)*Math.cos(l*r)))/r;(isNaN(h)||0===h)&&(h=o/Math.cos(Math.PI/180*e)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(h)?0:u.x-n.project([l,t-h]).x,this._radiusY=u.y-s.y}else{var c=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(c).x}this._updateBounds()}}),wi=vi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){h(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,r=null,o=Ut,s=0,a=this._parts.length;s<a;s++)for(var u=this._parts[s],l=1,h=u.length;l<h;l++){e=u[l-1],n=u[l];var c=o(t,e,n,!0);c<i&&(i=c,r=o(t,e,n))}return r&&(r.distance=Math.sqrt(i)),r},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,s,a=this._rings[0],u=a.length;if(!u)return null;for(t=0,e=0;t<u-1;t++)e+=a[t].distanceTo(a[t+1])/2;if(0===e)return this._map.layerPointToLatLng(a[0]);for(t=0,i=0;t<u-1;t++)if(r=a[t],o=a[t+1],n=r.distanceTo(o),(i+=n)>e)return s=(i-e)/n,this._map.layerPointToLatLng([o.x-s*(o.x-r.x),o.y-s*(o.y-r.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=M(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new S,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Bt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=Bt(t),i=0,r=t.length;i<r;i++)n?(e[i]=M(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new w;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new b(e,e);this._bounds.isValid()&&t.isValid()&&(t.min._subtract(n),t.max._add(n),this._pxBounds=t)},_projectLatlngs:function(t,e,n){var i,r,o=t[0]instanceof C,s=t.length;if(o){for(r=[],i=0;i<s;i++)r[i]=this._map.latLngToLayerPoint(t[i]),n.extend(r[i]);e.push(r)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);var e,n,i,r,o,s,a,u=this._parts;for(e=0,i=0,r=this._rings.length;e<r;e++)for(a=this._rings[e],n=0,o=a.length;n<o-1;n++)(s=jt(a[n],a[n+1],t,n,!0))&&(u[i]=u[i]||[],u[i].push(s[0]),s[1]===a[n+1]&&n!==o-2||(u[i].push(s[1]),i++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=At(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,r,o,s,a,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(n=0,o=this._parts.length;n<o;n++)for(a=this._parts[n],i=0,s=a.length,r=s-1;i<s;r=i++)if((e||0!==i)&&Rt(t,a[r],a[i])<=u)return!0;return!1}});wi._flat=Zt;var Ei=wi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,r,o,s,a,u,l=this._rings[0],h=l.length;if(!h)return null;for(o=s=a=0,t=0,e=h-1;t<h;e=t++)n=l[t],i=l[e],r=n.y*i.x-i.y*n.x,s+=(n.x+i.x)*r,a+=(n.y+i.y)*r,o+=3*r;return u=0===o?l[0]:[s/o,a/o],this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=wi.prototype._convertLatLngs.call(this,t),n=e.length;return n>=2&&e[0]instanceof C&&e[0].equals(e[n-1])&&e.pop(),e},_setLatLngs:function(t){wi.prototype._setLatLngs.call(this,t),Bt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Bt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new b(e,e);if(t=new w(t.min.subtract(n),t.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(t)){if(this.options.noClip)return void(this._parts=this._rings);for(var i,r=0,o=this._rings.length;r<o;r++)i=Wt(this._rings[r],t,!0),i.length&&this._parts.push(i)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,r,o,s,a,u,l=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(r=0,a=this._parts.length;r<a;r++)for(e=this._parts[r],o=0,u=e.length,s=u-1;o<u;s=o++)n=e[o],i=e[s],n.y>t.y!==i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(l=!l);return l||wi.prototype._containsPoint.call(this,t,!0)}}),Si=fi.extend({initialize:function(t,e){h(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,r=ye(t)?t:t.features;if(r){for(e=0,n=r.length;e<n;e++)i=r[e],(i.geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var o=this.options;if(o.filter&&!o.filter(t))return this;var s=Jt(t,o);return s?(s.feature=ie(t),s.defaultOptions=s.options,this.resetStyle(s),o.onEachFeature&&o.onEachFeature(t,s),this.addLayer(s)):this},resetStyle:function(t){return t.options=e({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){"function"===typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),Ti={toGeoJSON:function(t){return ne(this,{type:"Point",coordinates:te(this.getLatLng(),t)})}};_i.include(Ti),xi.include(Ti),bi.include(Ti),wi.include({toGeoJSON:function(t){var e=!Bt(this._latlngs),n=ee(this._latlngs,e?1:0,!1,t);return ne(this,{type:(e?"Multi":"")+"LineString",coordinates:n})}}),Ei.include({toGeoJSON:function(t){var e=!Bt(this._latlngs),n=e&&!Bt(this._latlngs[0]),i=ee(this._latlngs,n?2:e?1:0,!0,t);return e||(i=[i]),ne(this,{type:(n?"Multi":"")+"Polygon",coordinates:i})}}),ci.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(n){e.push(n.toGeoJSON(t).geometry.coordinates)}),ne(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===e)return this.toMultiPoint(t);var n="GeometryCollection"===e,i=[];return this.eachLayer(function(e){if(e.toGeoJSON){var r=e.toGeoJSON(t);if(n)i.push(r.geometry);else{var o=ie(r);"FeatureCollection"===o.type?i.push.apply(i,o.features):i.push(o)}}}),n?ne(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i}}});var Ci=re,Mi=hi.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=T(e),h(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&($(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Y(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&K(this._image),this},bringToBack:function(){return this._map&&J(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=T(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:H("img");if($(e,"leaflet-image-layer"),this._zoomAnimated&&$(e,"leaflet-zoom-animated"),this.options.className&&$(e,this.options.className),e.onselectstart=s,e.onmousemove=s,e.onload=n(this.fire,this,"load"),e.onerror=n(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t)return void(this._url=e.src);e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;st(this._image,n,e)},_reset:function(){var t=this._image,e=new w(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();at(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){it(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Li=function(t,e,n){return new Mi(t,e,n)},Pi=Mi.extend({options:{autoplay:!0,loop:!0},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:H("video");if($(e,"leaflet-image-layer"),this._zoomAnimated&&$(e,"leaflet-zoom-animated"),e.onselectstart=s,e.onmousemove=s,e.onloadeddata=n(this.fire,this,"load"),t){for(var i=e.getElementsByTagName("source"),r=[],o=0;o<i.length;o++)r.push(i[o].src);return void(this._url=i.length>0?r:[e.src])}ye(this._url)||(this._url=[this._url]),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop;for(var a=0;a<this._url.length;a++){var u=H("source");u.src=this._url[a],e.appendChild(u)}}}),Oi=hi.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){h(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&it(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&it(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(it(this._container,0),this._removeTimeout=setTimeout(n(Y,void 0,this._container),200)):Y(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=M(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&K(this._container),this},bringToBack:function(){return this._map&&J(this._container),this},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=x(this.options.offset),n=this._getAnchor();this._zoomAnimated?at(this._container,t.add(n)):e=e.add(t).add(n);var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px",this._container.style.left=r+"px"}},_getAnchor:function(){return[0,0]}}),Ai=Oi.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Oi.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof vi||this._source.on("preclick",vt))},onRemove:function(t){Oi.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof vi||this._source.off("preclick",vt))},getEvents:function(){var t=Oi.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=H("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=H("div",t+"-content-wrapper",e);if(this._contentNode=H("div",t+"-content",n),xt(n),bt(this._contentNode),mt(n,"contextmenu",vt),this._tipContainer=H("div",t+"-tip-container",e),this._tip=H("div",t+"-tip",this._tipContainer),this.options.closeButton){var i=this._closeButton=H("a",t+"-close-button",e);i.href="#close",i.innerHTML="&#215;",mt(i,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="";var i=t.offsetHeight,r=this.options.maxHeight;r&&i>r?(e.height=r+"px",$(t,"leaflet-popup-scrolled")):tt(t,"leaflet-popup-scrolled"),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();at(this._container,e.add(n))},_adjustPan:function(){if(this.options.autoPan){this._map._panAnim&&this._map._panAnim.stop();var t=this._map,e=parseInt(V(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new b(this._containerLeft,-n-this._containerBottom);r._add(ut(this._container));var o=t.layerPointToContainerPoint(r),s=x(this.options.autoPanPadding),a=x(this.options.autoPanPaddingTopLeft||s),u=x(this.options.autoPanPaddingBottomRight||s),l=t.getSize(),h=0,c=0;o.x+i+u.x>l.x&&(h=o.x+i-l.x+u.x),o.x-h-a.x<0&&(h=o.x-a.x),o.y+n+u.y>l.y&&(c=o.y+n-l.y+u.y),o.y-c-a.y<0&&(c=o.y-a.y),(h||c)&&t.fire("autopanstart").panBy([h,c])}},_onCloseButtonClick:function(t){this._close(),Et(t)},_getAnchor:function(){return x(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ri=function(t,e){return new Ai(t,e)};Dn.mergeOptions({closePopupOnClick:!0}),Dn.include({openPopup:function(t,e,n){return t instanceof Ai||(t=new Ai(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),hi.include({bindPopup:function(t,e){return t instanceof Ai?(h(t,e),this._popup=t,t._source=this):(this._popup&&!e||(this._popup=new Ai(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){if(t instanceof hi||(e=t,t=this),t instanceof fi)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._popup&&this._map&&(this._popup._source=t,this._popup.update(),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(this._popup&&this._map){if(Et(t),e instanceof vi)return void this.openPopup(t.layer||t.target,t.latlng);this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}});var Ii=Oi.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Oi.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Oi.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Oi.prototype.getEvents.call(this);return sn&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=H("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),o=this.options.direction,s=n.offsetWidth,a=n.offsetHeight,u=x(this.options.offset),l=this._getAnchor();"top"===o?t=t.add(x(-s/2+u.x,-a+u.y+l.y,!0)):"bottom"===o?t=t.subtract(x(s/2-u.x,-u.y,!0)):"center"===o?t=t.subtract(x(s/2+u.x,a/2-l.y+u.y,!0)):"right"===o||"auto"===o&&r.x<i.x?(o="right",t=t.add(x(u.x+l.x,l.y-a/2+u.y,!0))):(o="left",t=t.subtract(x(s+l.x-u.x,a/2-l.y-u.y,!0))),tt(n,"leaflet-tooltip-right"),tt(n,"leaflet-tooltip-left"),tt(n,"leaflet-tooltip-top"),tt(n,"leaflet-tooltip-bottom"),$(n,"leaflet-tooltip-"+o),at(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&it(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return x(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),ki=function(t,e){return new Ii(t,e)};Dn.include({openTooltip:function(t,e,n){return t instanceof Ii||(t=new Ii(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),hi.include({bindTooltip:function(t,e){return t instanceof Ii?(h(t,e),this._tooltip=t,t._source=this):(this._tooltip&&!e||(this._tooltip=new Ii(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(t||!this._tooltipHandlersAdded){var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),sn&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t}},openTooltip:function(t,e){if(t instanceof hi||(e=t,t=this),t instanceof fi)for(var n in this._layers){t=this._layers[n];break}return e||(e=t.getCenter?t.getCenter():t.getLatLng()),this._tooltip&&this._map&&(this._tooltip._source=t,this._tooltip.update(),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive&&this._tooltip._container&&($(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container))),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive&&this._tooltip._container&&(tt(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container))),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e,n,i=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(e=this._map.mouseEventToContainerPoint(t.originalEvent),n=this._map.containerPointToLayerPoint(e),i=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(i)}});var Ni=mi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&"DIV"===t.tagName?t:document.createElement("div"),n=this.options;if(e.innerHTML=!1!==n.html?n.html:"",n.bgPos){var i=x(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});mi.Default=gi;var Fi=hi.extend({options:{tileSize:256,opacity:1,updateWhenIdle:tn,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){h(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),Y(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(K(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(J(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=r(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof b?t:new b(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),r=0,o=n.length;r<o;r++)e=n[r].style.zIndex,n[r]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Fe){it(this._container,this.options.opacity);var t=+new Date,e=!1,n=!1;for(var i in this._tiles){var r=this._tiles[i];if(r.current&&r.loaded){var o=Math.min(1,(t-r.loaded)/200);it(r.el,o),o<1?e=!0:(r.active?n=!0:this._onOpaqueTile(r),r.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),e&&(y(this._fadeFrame),this._fadeFrame=g(this._updateOpacity,this))}},_onOpaqueTile:s,_initContainer:function(){this._container||(this._container=H("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(Y(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],r=this._map;return i||(i=this._levels[t]={},i.el=H("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,r.getCenter(),r.getZoom()),i.el.offsetWidth,this._onCreateLevel(i)),this._level=i,i}},_onUpdateLevel:s,_onRemoveLevel:s,_onCreateLevel:s,_pruneTiles:function(){if(this._map){var t,e,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)return void this._removeAllTiles();for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var i=e.coords;this._retainParent(i.x,i.y,i.z,i.z-5)||this._retainChildren(i.x,i.y,i.z,i.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)Y(this._levels[t].el),this._onRemoveLevel(t),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),s=n-1,a=new b(+r,+o);a.z=+s;var u=this._tileCoordsToKey(a),l=this._tiles[u];return l&&l.active?(l.retain=!0,!0):(l&&l.loaded&&(l.retain=!0),s>i&&this._retainParent(r,o,s,i))},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++)for(var o=2*e;o<2*e+2;o++){var s=new b(r,o);s.z=n+1;var a=this._tileCoordsToKey(s),u=this._tiles[a];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<i&&this._retainChildren(r,o,n+1,i))}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var r=this._clampZoom(Math.round(e));(void 0!==this.options.maxZoom&&r>this.options.maxZoom||void 0!==this.options.minZoom&&r<this.options.minZoom)&&(r=void 0);var o=this.options.updateWhenZooming&&r!==this._tileZoom;i&&!o||(this._tileZoom=r,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==r&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();$e?st(t.el,r,i):at(t.el,r)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,r=this._map.getPixelWorldBounds(this._tileZoom);r&&(this._globalTileRange=this._pxBoundsToTileRange(r)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(2*i);return new w(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),s=[],a=this.options.keepBuffer,u=new w(r.getBottomLeft().subtract([a,-a]),r.getTopRight().add([a,-a]));if(!(isFinite(r.min.x)&&isFinite(r.min.y)&&isFinite(r.max.x)&&isFinite(r.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var l in this._tiles){var h=this._tiles[l].coords;h.z===this._tileZoom&&u.contains(new b(h.x,h.y))||(this._tiles[l].current=!1)}if(Math.abs(n-this._tileZoom)>1)return void this._setView(t,n);for(var c=r.min.y;c<=r.max.y;c++)for(var p=r.min.x;p<=r.max.x;p++){var f=new b(p,c);if(f.z=this._tileZoom,this._isValidTile(f)){var d=this._tiles[this._tileCoordsToKey(f)];d?d.current=!0:s.push(f)}}if(s.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));var m=document.createDocumentFragment();for(p=0;p<s.length;p++)this._addTile(s[p],m);this._level.el.appendChild(m)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}if(!this.options.bounds)return!0;var i=this._tileCoordsToBounds(t);return T(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n);return[e.unproject(i,t.z),e.unproject(r,t.z)]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),n=new S(e[0],e[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new b(+e[0],+e[1]);return n.z=+e[2],n},_removeTile:function(t){var e=this._tiles[t];e&&(Y(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){$(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=s,t.onmousemove=s,Fe&&this.options.opacity<1&&it(t,this.options.opacity),Ge&&!ze&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var i=this._getTilePos(t),r=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),n(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&g(n(this._tileReady,this,t,null,o)),at(o,i),this._tiles[r]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,i){e&&this.fire("tileerror",{error:e,tile:i,coords:t});var r=this._tileCoordsToKey(t);(i=this._tiles[r])&&(i.loaded=+new Date,this._map._fadeAnimated?(it(i.el,0),y(this._fadeFrame),this._fadeFrame=g(this._updateOpacity,this)):(i.active=!0,this._pruneTiles()),e||($(i.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:i.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Fe||!this._map._fadeAnimated?g(this._pruneTiles,this):setTimeout(n(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new b(this._wrapX?o(t.x,this._wrapX):t.x,this._wrapY?o(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new w(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}}),ji=Fi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,e=h(this,e),e.detectRetina&&ln&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"===typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),Ge||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var i=document.createElement("img");return mt(i,"load",n(this._tileOnLoad,this,e,i)),mt(i,"error",n(this._tileOnError,this,e,i)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(i.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),i.alt="",i.setAttribute("role","presentation"),i.src=this.getTileUrl(t),i},getTileUrl:function(t){var n={r:ln?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var i=this._globalTileRange.max.y-t.y;this.options.tms&&(n.y=i),n["-y"]=i}return p(this._url,e(n,this.options))},_tileOnLoad:function(t,e){Fe?setTimeout(n(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset;return n&&(t=e-t),t+i},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=s,e.onerror=s,e.complete||(e.src=_e,Y(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return Be||e.el.setAttribute("src",_e),Fi.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==_e))return Fi.prototype._tileReady.call(this,t,e,n)}}),Di=ji.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,n){this._url=t;var i=e({},this.defaultWmsParams);for(var r in n)r in this.options||(i[r]=n[r]);n=h(this,n);var o=n.detectRetina&&ln?2:1,s=this.getTileSize();i.width=s.x*o,i.height=s.y*o,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,ji.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,i=E(n.project(e[0]),n.project(e[1])),r=i.min,o=i.max,s=(this._wmsVersion>=1.3&&this._crs===ui?[r.y,r.x,o.y,o.x]:[r.x,r.y,o.x,o.y]).join(","),a=ji.prototype.getTileUrl.call(this,t);return a+c(this.wmsParams,a,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+s},setParams:function(t,n){return e(this.wmsParams,t),n||this.redraw(),this}});ji.WMS=Di,ue.wms=le;var Gi=hi.extend({options:{padding:.1,tolerance:0},initialize:function(t){h(this,t),i(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&$(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=ut(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),s=this._map.project(t,e),a=s.subtract(o),u=r.multiplyBy(-n).add(i).add(r).subtract(a);$e?st(this._container,u,n):at(this._container,u)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new w(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),zi=Gi.extend({getEvents:function(){var t=Gi.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Gi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");mt(t,"mousemove",r(this._onMouseMove,32,this),this),mt(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),mt(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){y(this._redrawRequest),delete this._ctx,Y(this._container),gt(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Gi.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=ln?2:1;at(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",ln&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Gi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[i(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,r=e.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete t._order,delete this._layers[i(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"===typeof t.options.dashArray){var e,n,i=t.options.dashArray.split(/[, ]+/),r=[];for(n=0;n<i.length;n++){if(e=Number(i[n]),isNaN(e))return;r.push(e)}t.options._dashArray=r}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||g(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new w,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.clearRect(0,0,this._container.width,this._container.height)},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var n=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,r,o,s=t._parts,a=s.length,u=this._ctx;if(a){for(u.beginPath(),n=0;n<a;n++){for(i=0,r=s[n].length;i<r;i++)o=s[n][i],u[i?"lineTo":"moveTo"](o.x,o.y);e&&u.closePath()}this._fillStroke(u,t)}}},_updateCircle:function(t){if(this._drawing&&!t._empty()){var e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),r=(Math.max(Math.round(t._radiusY),1)||i)/i;1!==r&&(n.save(),n.scale(1,r)),n.beginPath(),n.arc(e.x,e.y/r,i,0,2*Math.PI,!1),1!==r&&n.restore(),this._fillStroke(n,t)}},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),r=this._drawFirst;r;r=r.next)e=r.layer,e.options.interactive&&e._containsPoint(i)&&!this._map._draggableMoved(e)&&(n=e);n&&(Ct(t),this._fireEvent([n],t))},_onMouseMove:function(t){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(tt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null)},_handleMouseHover:function(t,e){for(var n,i,r=this._drawFirst;r;r=r.next)n=r.layer,n.options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i&&($(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i)),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t)},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;n&&(n.prev=i,i?i.next=n:n&&(this._drawFirst=n),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t))}},_bringToBack:function(t){var e=t._order;if(e){var n=e.next,i=e.prev;i&&(i.next=n,n?n.prev=i:i&&(this._drawLast=i),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t))}}}),Ui=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),Bi={_initContainer:function(){this._container=H("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Gi.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Ui("shape");$(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Ui("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[i(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;Y(e),t.removeInteractiveTarget(e),delete this._layers[i(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke,r.filled=!!i.fill,i.stroke?(e||(e=t._stroke=Ui("stroke")),r.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=ye(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(r.removeChild(e),t._stroke=null),i.fill?(n||(n=t._fill=Ui("fill")),r.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(r.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){K(t._container)},_bringToBack:function(t){J(t._container)}},Zi=pn?Ui:A,Wi=Gi.extend({getEvents:function(){var t=Gi.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=Zi("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Zi("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Y(this._container),gt(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(!this._map._animatingZoom||!this._bounds){Gi.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),at(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Zi("path");t.options.className&&$(e,t.options.className),t.options.interactive&&$(e,"leaflet-interactive"),this._updateStyle(t),this._layers[i(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){Y(t._path),t.removeInteractiveTarget(t._path),delete this._layers[i(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,n=t.options;e&&(n.stroke?(e.setAttribute("stroke",n.color),e.setAttribute("stroke-opacity",n.opacity),e.setAttribute("stroke-width",n.weight),e.setAttribute("stroke-linecap",n.lineCap),e.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?e.setAttribute("stroke-dasharray",n.dashArray):e.removeAttribute("stroke-dasharray"),n.dashOffset?e.setAttribute("stroke-dashoffset",n.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),n.fill?(e.setAttribute("fill",n.fillColor||n.color),e.setAttribute("fill-opacity",n.fillOpacity),e.setAttribute("fill-rule",n.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,R(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i=Math.max(Math.round(t._radiusY),1)||n,r="a"+n+","+i+" 0 1,0 ",o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){K(t._path)},_bringToBack:function(t){J(t._path)}});pn&&Wi.include(Bi),Dn.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if("overlayPane"===t||void 0===t)return!1;var e=this._paneRenderers[t];return void 0===e&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&he(t)||ce(t)}});var Xi=Ei.extend({initialize:function(t,e){Ei.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=T(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});Wi.create=Zi,Wi.pointsToPath=R,Si.geometryToLayer=Jt,Si.coordsToLatLng=Qt,Si.coordsToLatLngs=$t,Si.latLngToCoords=te,Si.latLngsToCoords=ee,Si.getFeature=ne,Si.asFeature=ie,Dn.mergeOptions({boxZoom:!0});var Vi=qn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){mt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){gt(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Y(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Pe(),lt(),this._startPoint=this._map.mouseEventToContainerPoint(t),mt(document,{contextmenu:Et,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=H("div","leaflet-zoom-box",this._container),$(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new w(this._point,this._startPoint),n=e.getSize();at(this._box,e.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(Y(this._box),tt(this._container,"leaflet-crosshair")),Oe(),ht(),gt(document,{contextmenu:Et,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if((1===t.which||1===t.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(n(this._resetState,this),0);var e=new S(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){27===t.keyCode&&this._finish()}});Dn.addInitHook("addHandler","boxZoom",Vi),Dn.mergeOptions({doubleClickZoom:!0});var Hi=qn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(r):e.setZoomAround(t.containerPoint,r)}});Dn.addInitHook("addHandler","doubleClickZoom",Hi),Dn.mergeOptions({dragging:!0,inertia:!ze,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Yi=qn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new ei(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}$(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){tt(this._map._container,"leaflet-grab"),tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=T(this._map.options.maxBounds);this._offsetLimit=E(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,s=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;if(e.fire("dragend",t),i)e.fire("moveend");else{this._prunePositions(+new Date);var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=r.multiplyBy(s/o),u=a.distanceTo([0,0]),l=Math.min(n.inertiaMaxSpeed,u),h=a.multiplyBy(l/u),c=l/(n.inertiaDeceleration*s),p=h.multiplyBy(-c/2).round();p.x||p.y?(p=e._limitOffset(p,e.options.maxBounds),g(function(){e.panBy(p,{duration:c,easeLinearity:s,noMoveStart:!0,animate:!0})})):e.fire("moveend")}}});Dn.addInitHook("addHandler","dragging",Yi),Dn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var qi=qn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),mt(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),gt(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(i,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e,n,i=this._panKeys={},r=this.keyCodes;for(e=0,n=r.left.length;e<n;e++)i[r.left[e]]=[-1*t,0];for(e=0,n=r.right.length;e<n;e++)i[r.right[e]]=[t,0];for(e=0,n=r.down.length;e<n;e++)i[r.down[e]]=[0,t];for(e=0,n=r.up.length;e<n;e++)i[r.up[e]]=[0,-1*t]},_setZoomDelta:function(t){var e,n,i=this._zoomKeys={},r=this.keyCodes;for(e=0,n=r.zoomIn.length;e<n;e++)i[r.zoomIn[e]]=t;for(e=0,n=r.zoomOut.length;e<n;e++)i[r.zoomOut[e]]=-t},_addHooks:function(){mt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){gt(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=x(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}Et(t)}}});Dn.addInitHook("addHandler","keyboard",qi),Dn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Ki=qn.extend({addHooks:function(){mt(this._map._container,"mousewheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){gt(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Tt(t),i=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var r=Math.max(i-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(n(this._performZoom,this),r),Et(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(4*this._map.options.wheelPxPerZoomLevel),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,s=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0,this._startTime=null,s&&("center"===t.options.scrollWheelZoom?t.setZoom(e+s):t.setZoomAround(this._lastMousePos,e+s))}});Dn.addInitHook("addHandler","scrollWheelZoom",Ki),Dn.mergeOptions({tap:!0,tapTolerance:15});var Ji=qn.extend({addHooks:function(){mt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){gt(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(t.touches){if(wt(t),this._fireClick=!0,t.touches.length>1)return this._fireClick=!1,void clearTimeout(this._holdTimeout);var e=t.touches[0],i=e.target;this._startPos=this._newPos=new b(e.clientX,e.clientY),i.tagName&&"a"===i.tagName.toLowerCase()&&$(i,"leaflet-active"),this._holdTimeout=setTimeout(n(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),mt(document,{touchmove:this._onMove,touchend:this._onUp},this)}},_onUp:function(t){if(clearTimeout(this._holdTimeout),gt(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;n&&n.tagName&&"a"===n.tagName.toLowerCase()&&tt(n,"leaflet-active"),this._simulateEvent("mouseup",e),this._isTapValid()&&this._simulateEvent("click",e)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new b(e.clientX,e.clientY),this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}});sn&&!on&&Dn.addInitHook("addHandler","tap",Ji),Dn.mergeOptions({touchZoom:sn&&!ze,bounceAtZoomLimits:!0});var Qi=qn.extend({addHooks:function(){$(this._map._container,"leaflet-touch-zoom"),mt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){tt(this._map._container,"leaflet-touch-zoom"),gt(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),"center"!==e.options.touchZoom&&(this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))),this._startDist=n.distanceTo(i),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),mt(document,"touchmove",this._onTouchMove,this),mt(document,"touchend",this._onTouchEnd,this),wt(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,i=e.mouseEventToContainerPoint(t.touches[0]),r=e.mouseEventToContainerPoint(t.touches[1]),o=i.distanceTo(r)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&o>1)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var s=i._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===s.x&&0===s.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(s),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),y(this._animRequest);var a=n(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=g(a,this,!0),wt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming)return void(this._zooming=!1);this._zooming=!1,y(this._animRequest),gt(document,"touchmove",this._onTouchMove),gt(document,"touchend",this._onTouchEnd),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Dn.addInitHook("addHandler","touchZoom",Qi),Dn.BoxZoom=Vi,Dn.DoubleClickZoom=Hi,Dn.Drag=Yi,Dn.Keyboard=qi,Dn.ScrollWheelZoom=Ki,Dn.Tap=Ji,Dn.TouchZoom=Qi,Object.freeze=fe,t.version="1.4.0",t.Control=Gn,t.control=zn,t.Browser=fn,t.Evented=Se,t.Mixin=Jn,t.Util=we,t.Class=_,t.Handler=qn,t.extend=e,t.bind=n,t.stamp=i,t.setOptions=h,t.DomEvent=Fn,t.DomUtil=Rn,t.PosAnimation=jn,t.Draggable=ei,t.LineUtil=ni,t.PolyUtil=ii,t.Point=b,t.point=x,t.Bounds=w,t.bounds=E,t.Transformation=P,t.transformation=O,t.Projection=si,t.LatLng=C,t.latLng=M,t.LatLngBounds=S,t.latLngBounds=T,t.CRS=Ce,t.GeoJSON=Si,t.geoJSON=re,t.geoJson=Ci,t.Layer=hi,t.LayerGroup=ci,t.layerGroup=pi,t.FeatureGroup=fi,t.featureGroup=di,t.ImageOverlay=Mi,t.imageOverlay=Li,t.VideoOverlay=Pi,t.videoOverlay=oe,t.DivOverlay=Oi,t.Popup=Ai,t.popup=Ri,t.Tooltip=Ii,t.tooltip=ki,t.Icon=mi,t.icon=Xt,t.DivIcon=Ni,t.divIcon=se,t.Marker=_i,t.marker=Vt,t.TileLayer=ji,t.tileLayer=ue,t.GridLayer=Fi,t.gridLayer=ae,t.SVG=Wi,t.svg=ce,t.Renderer=Gi,t.Canvas=zi,t.canvas=he,t.Path=vi,t.CircleMarker=bi,t.circleMarker=Ht,t.Circle=xi,t.circle=Yt,t.Polyline=wi,t.polyline=qt,t.Polygon=Ei,t.polygon=Kt,t.Rectangle=Xi,t.rectangle=pe,t.Map=Dn,t.map=Ot;var $i=window.L;t.noConflict=function(){return window.L=$i,this},window.L=t}(e)}()});!function(){var t=L.Marker.prototype._initIcon,e=L.Marker.prototype._setPos,n="msTransform"===L.DomUtil.TRANSFORM;L.Marker.addInitHook(function(){var t=this.options.icon&&this.options.icon.options,e=t&&this.options.icon.options.iconAnchor;e&&(e=e[0]+"px "+e[1]+"px"),this.options.rotationOrigin=this.options.rotationOrigin||e||"center bottom",this.options.rotationAngle=this.options.rotationAngle||0,this.on("drag",function(t){t.target._applyRotation()})}),L.Marker.include({_initIcon:function(){t.call(this)},_setPos:function(t){e.call(this,t),this._applyRotation()},_applyRotation:function(){this.options.rotationAngle&&(this._icon.style[L.DomUtil.TRANSFORM+"Origin"]=this.options.rotationOrigin,n?this._icon.style[L.DomUtil.TRANSFORM]="rotate("+this.options.rotationAngle+"deg)":this._icon.style[L.DomUtil.TRANSFORM]+=" rotateZ("+this.options.rotationAngle+"deg)")},setRotationAngle:function(t){return this.options.rotationAngle=t,this.update(),this},setRotationOrigin:function(t){return this.options.rotationOrigin=t,this.update(),this}})}();var bg=function(t,e){return vg.CRS.EPSG3857.unproject(new vg.Point(t,e))},xg=function(t,e){return vg.CRS.EPSG3857.project(new vg.LatLng(e,t))},wg=function(t){if(null===t||void 0===t||null===t.latitude||void 0===t.latitude||null===t.longitude||void 0===t.longitude)return null;if(t.projection&&"EPSG:4326"===t.projection){var e=xg(t.longitude,t.latitude);t.longitude=e.x,t.latitude=e.y,t.projection="EPSG:3857"}t.type="position";var n=vg.marker(bg(t.longitude,t.latitude),{icon:vg.icon({iconUrl:void 0===t.direction?Ip:kp,iconSize:[73*.4,28.8],iconAnchor:[36.5*.4,14.4]}),rotationAngle:void 0===t.direction?0:t.direction});return n.data=t,n},Eg=function(t){if(null===t||void 0===t||null===t.latitude||void 0===t.latitude||null===t.longitude||void 0===t.longitude)return null;if(t.projection&&"EPSG:4326"===t.projection){var e=xg(t.longitude,t.latitude);t.longitude=e.x,t.latitude=e.y,t.projection="EPSG:3857"}t.type=$l;var n=vg.marker(bg(t.longitude,t.latitude),{icon:vg.icon({iconUrl:Np,iconSize:[29.6,82*.4],iconAnchor:[14.8,82*.4]})});return n.data=t,n},Sg=function(t){if(null===t||void 0===t||null===t.latitude||void 0===t.latitude||null===t.longitude||void 0===t.longitude)return null;if(t.projection&&"EPSG:4326"===t.projection){var e=xg(t.longitude,t.latitude);t.longitude=e.x,t.latitude=e.y,t.projection="EPSG:3857"}t.type=th;var n=vg.marker(bg(t.longitude,t.latitude),{icon:vg.icon({iconUrl:Fp,iconSize:[20,20],iconAnchor:[10,10]})});return n.data=t,n},Tg=function(t){if(null===t||void 0===t||null===t.tag||void 0===t.tag||null===t.tag.latitude||void 0===t.tag.latitude||null===t.tag.longitude||void 0===t.tag.longitude)return null;if(t.tag.projection&&"EPSG:4326"===t.tag.projection){var e=xg(t.tag.longitude,t.tag.latitude);t.tag.longitude=e.x,t.tag.latitude=e.y,t.tag.projection="EPSG:3857"}t.type=eh;var n=vg.marker(bg(t.tag.longitude,t.tag.latitude),{icon:vg.icon({iconUrl:jp,iconSize:[71*.4,82*.4],iconAnchor:[35.5*.4,82*.4]})});return n.data=t,n},Cg=function(t){if(null===t||void 0===t||null===t.tag||void 0===t.tag||null===t.tag.latitude||void 0===t.tag.latitude||null===t.tag.longitude||void 0===t.tag.longitude)return null;if(t.tag.projection&&"EPSG:4326"===t.tag.projection){var e=xg(t.tag.longitude,t.tag.latitude);t.tag.longitude=e.x,t.tag.latitude=e.y,t.tag.projection="EPSG:3857"}t.type=nh;var n=vg.marker(bg(t.tag.longitude,t.tag.latitude),{icon:vg.icon({iconUrl:Dp,iconSize:[73*.4,82*.4],iconAnchor:[36.5*.4,82*.4]})});return n.data=t,n},Mg=function(t){if(null===t||void 0===t||null===t.latitude||void 0===t.latitude||null===t.longitude||void 0===t.longitude)return null;if(t.projection&&"EPSG:4326"===t.projection){var e=xg(t.longitude,t.latitude);t.longitude=e.x,t.latitude=e.y,t.projection="EPSG:3857"}t.type=ih;var n=vg.marker(bg(t.longitude,t.latitude),{icon:vg.icon({iconUrl:Ip,iconSize:[73*.4,28.8],iconAnchor:[36.5*.4,14.4]})});return n.data=t,n},Lg=function(t){if(null===t||void 0===t||null===t.latitude||void 0===t.latitude||null===t.longitude||void 0===t.longitude)return null;if(t.projection&&"EPSG:4326"===t.projection){var e=xg(t.longitude,t.latitude);t.longitude=e.x,t.latitude=e.y,t.projection="EPSG:3857"}t.type=rh;var n=vg.marker(bg(t.longitude,t.latitude),{icon:vg.icon({iconUrl:Gp,iconSize:[29.6,82*.4],iconAnchor:[14.8,82*.4]})});return n.data=t,n},Pg=function(t){if(null===t||void 0===t||null===t.latitude||void 0===t.latitude||null===t.longitude||void 0===t.longitude)return null;if(t.projection&&"EPSG:4326"===t.projection){var e=xg(t.longitude,t.latitude);t.longitude=e.x,t.latitude=e.y,t.projection="EPSG:3857"}t.type=oh;var n=vg.marker(bg(t.longitude,t.latitude),{icon:vg.icon({iconUrl:zp,iconSize:[29.6,82*.4],iconAnchor:[14.8,82*.4]})});return n.data=t,n},Og=2,Ag=18,Rg=[13581135.47915831,3474532.6891957317],Ig=vg.CRS.EPSG3857,kg=function(t){function e(t){uc(this,e);var n=cc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.map=null,n.state={loaded:!1},n}return hc(e,t),lc(e,[{key:"getChildContext",value:function(){return{map:this.map}}},{key:"componentDidMount",value:function(){var t=this.props,e=t.zoom,n=t.minZoom,i=t.maxZoom;this.map=vg.map(this.ref,{attributionControl:!1,zoomControl:!1,center:bg(Rg[0],Rg[1]),zoom:e,maxZoom:i,minZoom:n,crs:Ig}),this.setState({loaded:!0})}},{key:"render",value:function(){var t=this;return Xl.a.createElement("div",{ref:function(e){return t.ref=e},style:{width:window.innerWidth,height:window.innerHeight}},void 0!==this.props.children&&this.state.loaded?this.props.children instanceof Array?this.props.children.filter(function(t){return null!==t}).map(function(t){return Xl.a.cloneElement(t)}):Xl.a.cloneElement(this.props.children):null)}}]),e}(Wl.Component);kg.defaultProps={children:null,zoom:16,maxZoom:Ag,minZoom:Og},kg.propTypes={children:ql.a.node,zoom:ql.a.number,minZoom:ql.a.number,maxZoom:ql.a.number},kg.childContextTypes={map:ql.a.object};var Ng=fe(function(t){!function(e){t.exports=function(t){function e(t,e){function n(){4===r.readyState&&(200===r.status?e.call(i,r.responseText):e.call(i,"error"))}var i=this,r=new XMLHttpRequest;r.onreadystatechange=n,r.open("GET",t),r.send()}var n={};"keys"in Object||(Object.keys=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}),n.Source=t.Layer.extend({options:{untiled:!0,identify:!0},initialize:function(e,n){t.setOptions(this,n),this.options.tiled&&(this.options.untiled=!1),this._url=e,this._subLayers={},this._overlay=this.createOverlay(this.options.untiled)},createOverlay:function(t){var e={};for(var i in this.options)"untiled"!=i&&"identify"!=i&&(e[i]=this.options[i]);return t?n.overlay(this._url,e):n.tileLayer(this._url,e)},onAdd:function(){this.refreshOverlay()},getEvents:function(){return this.options.identify?{click:this.identify}:{}},setOpacity:function(t){this.options.opacity=t,this._overlay&&this._overlay.setOpacity(t)},bringToBack:function(){this.options.isBack=!0,this._overlay&&this._overlay.bringToBack()},bringToFront:function(){this.options.isBack=!1,this._overlay&&this._overlay.bringToFront()},getLayer:function(t){return n.layer(this,t)},addSubLayer:function(t){this._subLayers[t]=!0,this.refreshOverlay()},removeSubLayer:function(t){delete this._subLayers[t],this.refreshOverlay()},refreshOverlay:function(){var t=Object.keys(this._subLayers).join(",");this._map&&(t?(this._overlay.setParams({layers:t}),this._overlay.addTo(this._map)):this._overlay.remove())},identify:function(t){var e=this.getIdentifyLayers();e.length&&this.getFeatureInfo(t.containerPoint,t.latlng,e,this.showFeatureInfo)},getFeatureInfo:function(e,n,i,r){function o(t){this.hideWaiting();var e=this.parseFeatureInfo(t,a);r.call(this,n,e)}var s=this.getFeatureInfoParams(e,i),a=this._url+t.Util.getParamString(s,this._url);this.showWaiting(),this.ajax(a,o)},ajax:function(t,n){e.call(this,t,n)},getIdentifyLayers:function(){return this.options.identifyLayers?this.options.identifyLayers:Object.keys(this._subLayers)},getFeatureInfoParams:function(e,n){var i,r;this.options.untiled?i=this._overlay.wmsParams:(r=this.createOverlay(!0),r.updateWmsParams(this._map),i=r.wmsParams,i.layers=n.join(","));var o={request:"GetFeatureInfo",query_layers:n.join(","),X:Math.round(e.x),Y:Math.round(e.y)};return t.extend({},i,o)},parseFeatureInfo:function(t,e){return"error"==t&&(t="<iframe src='"+e+"' style='border:none'>"),t},showFeatureInfo:function(t,e){this._map&&this._map.openPopup(e,t)},showWaiting:function(){this._map&&(this._map._container.style.cursor="progress")},hideWaiting:function(){this._map&&(this._map._container.style.cursor="default")}}),n.source=function(t,e){return new n.Source(t,e)},n.Layer=t.Layer.extend({initialize:function(e,i,r){t.setOptions(this,r),e.addSubLayer||(e=n.getSourceForUrl(e,r)),this._source=e,this._name=i},onAdd:function(){this._source._map||this._source.addTo(this._map),this._source.addSubLayer(this._name)},onRemove:function(){this._source.removeSubLayer(this._name)},setOpacity:function(t){this._source.setOpacity(t)},bringToBack:function(){this._source.bringToBack()},bringToFront:function(){this._source.bringToFront()}}),n.layer=function(t,e){return new n.Layer(t,e)};var i={};return n.getSourceForUrl=function(t,e){return i[t]||(i[t]=n.source(t,e)),i[t]},n.TileLayer=t.TileLayer.WMS,n.tileLayer=t.tileLayer.wms,n.Overlay=t.Layer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},options:{crs:null,uppercase:!1,attribution:"",opacity:1,isBack:!1,minZoom:0,maxZoom:18},initialize:function(e,n){this._url=e;var i={};for(var r in n)r in this.options||(i[r]=n[r],delete n[r]);t.setOptions(this,n),this.wmsParams=t.extend({},this.defaultWmsParams,i)},setParams:function(e){t.extend(this.wmsParams,e),this.update()},getAttribution:function(){return this.options.attribution},onAdd:function(){this.update()},onRemove:function(t){this._currentOverlay&&(t.removeLayer(this._currentOverlay),delete this._currentOverlay),this._currentUrl&&delete this._currentUrl},getEvents:function(){return{moveend:this.update}},update:function(){function e(){if(this._map){if(r._url!=this._currentUrl)return void this._map.removeLayer(r);this._currentOverlay&&this._map.removeLayer(this._currentOverlay),this._currentOverlay=r,r.setOpacity(this.options.opacity?this.options.opacity:1),!0===this.options.isBack&&r.bringToBack(),!1===this.options.isBack&&r.bringToFront()}}if(this._map){this.updateWmsParams();var n=this.getImageUrl();if(this._currentUrl!=n){this._currentUrl=n;var i=this._map.getBounds(),r=t.imageOverlay(n,i,{opacity:0});r.addTo(this._map),r.once("load",e,this),(this._map.getZoom()<this.options.minZoom||this._map.getZoom()>this.options.maxZoom)&&this._map.removeLayer(r)}}},setOpacity:function(t){this.options.opacity=t,this._currentOverlay&&this._currentOverlay.setOpacity(t)},bringToBack:function(){this.options.isBack=!0,this._currentOverlay&&this._currentOverlay.bringToBack()},bringToFront:function(){this.options.isBack=!1,this._currentOverlay&&this._currentOverlay.bringToFront()},updateWmsParams:function(e){e||(e=this._map);var n=e.getBounds(),i=e.getSize(),r=parseFloat(this.wmsParams.version),o=this.options.crs||e.options.crs,s=r>=1.3?"crs":"srs",a=o.project(n.getNorthWest()),u=o.project(n.getSouthEast()),l={width:i.x,height:i.y};l[s]=o.code,l.bbox=(r>=1.3&&o===t.CRS.EPSG4326?[u.y,a.x,a.y,u.x]:[a.x,u.y,u.x,a.y]).join(","),t.extend(this.wmsParams,l)},getImageUrl:function(){var e=this.options.uppercase||!1,n=t.Util.getParamString(this.wmsParams,this._url,e);return this._url+n}}),n.overlay=function(t,e){return new n.Overlay(t,e)},n}(vg)}()}),Fg=function(t){function e(){var t,n,i,r;uc(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=i=cc(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.loadTianDiTu=function(){vg.tileLayer(sh.replace("{0-7}","{s}")+"/DataServer?T=img_w&x={x}&y={y}&l={z}&tk=111b0cbae5ef2fb8ebdf06f937b12dd8",{subdomains:["0","1","2","3","4","5","6","7"],maxZoom:Ag,minZoom:Og,detectRetina:!0,zIndex:-10}).addTo(i.context.map),vg.tileLayer(sh.replace("{0-7}","{s}")+"/DataServer?T=cia_w&x={x}&y={y}&l={z}&tk=111b0cbae5ef2fb8ebdf06f937b12dd8",{subdomains:["0","1","2","3","4","5","6","7"],maxZoom:Ag,minZoom:Og,detectRetina:!0,zIndex:-5}).addTo(i.context.map)},i.loadCustomMap=function(){vg.tileLayer("http://39.105.217.228:9002/api/wmts/gettile/4b9006155b9946d5bf259dd750084f52/{z}/{x}/{y}",{maxZoom:Ag,minZoom:Og,detectRetina:!0,bounds:[bg(13574731.18887278,3469919.836022329),bg(13585438.647663247,3478566.0198801826)],zIndex:-9}).addTo(i.context.map)},i.loadIndoorMaps=function(){new(Ng.Source.extend({ajax:function(t,e){var n=this;Object(Kl.a)(t+"&INFO_FORMAT=application/json&FEATURE_COUNT=10").pipe(Object(Hl.d)(function(t){return t.response}),Object(Hl.a)(function(t){return t}),Object(Hl.d)(function(t){return t.features}),Object(Hl.a)(function(t){return t.length}),Object(Hl.a)(function(t){return!!t.every(function(e){return t[0].properties.building===e.properties.building})||(window.zoomIn(2),window.move(t[0].properties.longitude,t[0].properties.latitude),!1)}),Object(Hl.c)(function(t){return Object(Vl.a)(t).pipe(Object(Hl.d)(function(t){return{id:t.id,floor:t.properties.floor,latitude:t.properties.latitude,longitude:t.properties.longitude,polygonLayerId:t.properties.polygon_layer,poiLayerId:t.properties.poi_layer,routeLayerId:t.properties.route_layer,xmin:t.properties.map_xmin,ymin:t.properties.map_ymin,xmax:t.properties.map_xmax,ymax:t.properties.map_ymax}}),Object(Hl.i)(),Object(Hl.h)(function(t){return e.call(n,t)}))})).subscribe()},showWaiting:function(){},showFeatureInfo:function(t,e){i.data=e,i.popupLayer=vg.popup({closeButton:!1,autoClose:!0,closeOnClick:!0}).setLatLng(t).setContent("<div class='popup' style='margin-left:50px;margin-bottom:-10px;background:url("+nf+") no-repeat'><span style='display:block;'><strong>\u5ba4\u5185\u5730\u56fe\u63d0\u793a</strong></span><span style='display:block;margin-top: 20px;'>\n          \u662f\u5426\u8fdb\u5165\u8be5\u5ba4\u5185\u5730\u56fe\n          </span>\n          <div style=\"margin-top:20px;float: right;\"><span style='color: #0060B6;cursor:pointer;' onclick=\"window.hideOutdoorPopup()\">\u53d6\u6d88</span><span style='margin-left:20px;margin-right:50px;color: #0060B6;cursor:pointer;'  onclick=\"window.showIndoorMap()\">\u786e\u5b9a</span></div></div>").openOn(i.context.map)}}))(ah+"/indoor_map/wms",{layers:"indoor_map:indoor_map",tiled:!0,format:"image/png",transparent:!0,maxZoom:Ag,minZoom:Og,continuousWorld:!0,zIndex:-4}).getLayer("indoor_map:indoor_map").addTo(i.context.map)},i.initPopup=function(){},i.showPopup=function(t){},r=n,cc(i,r)}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){var t=this;this.loadTianDiTu(),this.loadCustomMap(),this.loadIndoorMaps(),this.initPopup(),window.hideOutdoorPopup=function(){t.popupLayer.remove()},window.showIndoorMap=function(){t.popupLayer.remove(),window.loadIndoor(t.data.sort(function(t,e){return t.floor-e.floor}))}}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);Fg.defaultProps={},Fg.propTypes={},Fg.contextTypes={map:ql.a.object};var jg=function(t){function e(){return uc(this,e),cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){this.loadMap(this.props.map)}},{key:"shouldComponentUpdate",value:function(t){return null===t.map||(null===this.props.map||void 0===this.props.map)&&null!==t.map||null!==t.map&&t.map!==this.props.map}},{key:"componentWillUpdate",value:function(t){this.loadMap(t.map)}},{key:"loadMap",value:function(t){var e=this;Object(Vl.c)(t).pipe(Object(Hl.h)(function(){e.layer&&e.layer.remove()}),Object(Hl.a)(function(t){return null!==t&&void 0!==t}),Object(Hl.h)(function(t){e.layer=vg.tileLayer.wms(ah+"/wms",{layers:t.polygonLayerId,tiled:!0,format:"image/png",maxZoom:24,transparent:!0,continuousWorld:!0}).addTo(e.context.map),null!==t.latitude&&null!==t.longitude&&e.context.map.panTo(bg(t.longitude,t.latitude),{duration:.8}),t.xmin&&t.ymin&&t.xmax&&t.ymax&&e.context.map.setMaxBounds([bg(t.xmin-100,t.ymin-100),bg(t.xmax+100,t.ymax+100)])})).subscribe()}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);jg.defaultProps={map:null},jg.propTypes={map:ql.a.object},jg.contextTypes={map:ql.a.object};var Dg=function(t){function e(){return uc(this,e),cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){this.layer=null,this.loadPoi(this.props.map)}},{key:"shouldComponentUpdate",value:function(t){return(null===this.props.map||void 0===this.props.map)&&null!==t.map||null!==t.map&&t.map!==this.props.map}},{key:"componentWillUpdate",value:function(t){this.loadPoi(t.map)}},{key:"componentWillUnmount",value:function(){this.layer&&this.context.map.hasLayer(this.layer)&&this.context.map.removeLayer(this.layer)}},{key:"loadPoi",value:function(t){var e=this;Object(Vl.c)(t).pipe(Object(Hl.a)(function(t){return null!==t&&void 0!==t&&null!==t.poiLayerId&&void 0!==t.poiLayerId}),Object(Hl.h)(function(t){return e.layer=vg.tileLayer.wms(ah+"/wms",{layers:t.poiLayerId,tiled:!0,format:"image/png",transparent:!0,maxZoom:24,continuousWorld:!0}).addTo(e.context.map)})).subscribe()}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);Dg.defaultProps={map:null},Dg.propTypes={map:ql.a.object},Dg.contextTypes={map:ql.a.object};var Gg=function(t){function e(){return uc(this,e),cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){this.layer=vg.featureGroup().addTo(this.context.map),this.layer.setZIndex(1),this.loadData(this.props.data)}},{key:"shouldComponentUpdate",value:function(t){var e=this;return null===this.props.data||void 0===this.props.data||null!==t.data&&(t.data.length!==this.props.data.length||!t.data.every(function(t,n){return t===e.props.data[n]}))}},{key:"componentWillUpdate",value:function(t){this.loadData(t.data)}},{key:"loadData",value:function(t){var e=this;Object(Vl.c)(t).pipe(Object(Hl.h)(function(){return e.layer.clearLayers()}),Object(Hl.a)(function(t){return null!==t&&void 0!==t}),Object(Hl.c)(function(t){return t}),Object(Hl.d)(function(t){return e.props.createLabel(t)}),Object(Hl.a)(function(t){return null!==t}),Object(Hl.h)(function(t){return t.addTo(e.layer)})).subscribe()}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);Gg.defaultProps={data:null},Gg.propTypes={data:ql.a.arrayOf(ql.a.object),createLabel:ql.a.func.isRequired},Gg.contextTypes={map:ql.a.object};var zg=function(t){function e(){return uc(this,e),cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){this.layer=vg.featureGroup().addTo(this.context.map),this.layer.setZIndex(1),this.loadPosition(this.props.position)}},{key:"shouldComponentUpdate",value:function(t){return null===this.props.position||void 0===this.props.position||t.position!==this.props.position}},{key:"componentWillUpdate",value:function(t){this.loadPosition(t.position)}},{key:"loadPosition",value:function(t){var e=this;Object(Vl.c)(t).pipe(Object(Hl.h)(function(){return e.layer.clearLayers()}),Object(Hl.a)(function(t){return null!==t&&void 0!==t}),Object(Hl.d)(function(t){return wg(t)}),Object(Hl.h)(function(t){return t.addTo(e.layer)})).subscribe()}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);zg.defaultProps={position:null},zg.propTypes={position:ql.a.object},zg.contextTypes={map:ql.a.object};var Ug=function(t){function e(){return uc(this,e),cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){var t=this;Object(Vl.b)(this.context.map,"click").pipe(Object(Hl.h)(function(e){return t.props.onSingleClick(e)}),Object(Hl.d)(function(t){return t.latlng}),Object(Hl.h)(function(e){var n=xg(e.lng,e.lat);console.log({coord3857:[n.x,n.y],coord4326:[e.lng,e.lat],zoom:t.context.map.getZoom(),maxZoom:t.context.map.getMaxZoom(),minZoom:t.context.map.getMinZoom(),extent:t.context.map.getBounds()})})).subscribe(),Object(Vl.b)(this.context.map,"dblclick").pipe(Object(Hl.h)(function(e){return t.props.onDoubleClick(e)}),Object(Hl.d)(function(t){return t.latlng}),Object(Hl.d)(function(t){return xg(t.lng,t.lat)}),Object(Hl.d)(function(t){return[t.x,t.y]}),Object(Hl.h)(function(t){return console.log(t)}),Object(Hl.h)(function(t){"undefined"!==typeof android&&"undefined"!==typeof android.showPosition&&android.showPosition(t[0],t[1])})).subscribe()}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);Ug.defaultProps={onSingleClick:function(){return!1},onDoubleClick:function(){return!1}},Ug.propTypes={onSingleClick:ql.a.func,onDoubleClick:ql.a.func},Ug.contextTypes={map:ql.a.object};var Bg=function(t){function e(){var t,n,i,r;uc(this,e);for(var o=arguments.length,s=Array(o),a=0;a<o;a++)s[a]=arguments[a];return n=i=cc(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(s))),i.createStartPoint=function(t,e){return null===t||void 0===t||null===e||void 0===e?null:vg.marker(bg(t,e),{icon:vg.icon({iconUrl:Ap,iconSize:[24,31.6],iconAnchor:[12,31.6]})})},i.createEndPoint=function(t,e){return null===t||void 0===t||null===e||void 0===e?null:vg.marker(bg(t,e),{icon:vg.icon({iconUrl:Op,iconSize:[23.6,31.6],iconAnchor:[11.8,31.6]})})},r=n,cc(i,r)}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){this.layer=vg.featureGroup().addTo(this.context.map),this.style={stroke:!0,color:"#0DC56E",weight:5,dashArray:[6]},this.loadRoutes(this.props.routes,this.props.map)}},{key:"shouldComponentUpdate",value:function(t){return null===this.props.map||void 0===this.props.map||(null===this.props.routes||void 0===this.props.routes||(null!==t.routes||null!==t.map)&&(t.map!==this.props.map||t.routes!==this.props.routes))}},{key:"componentWillUpdate",value:function(t){this.loadRoutes(t.routes,t.map)}},{key:"loadRoutes",value:function(t,e){var n=this;Object(Vl.c)(t).pipe(Object(Hl.h)(function(){return n.layer.clearLayers()}),Object(Hl.a)(function(t){return null!==e&&void 0!==e&&null!==t&&void 0!==t&&t.source_floor&&t.source_longitude&&t.source_latitude&&t.target_floor&&t.target_longitude&&t.target_latitude}),Object(Hl.c)(function(t){return Object(Kl.a)({url:"http://101.200.36.227:9000/api/web/routing/routes?sourceFloor="+t.source_floor+"&sourceLongitude="+t.source_longitude+"&sourceLatitude="+t.source_latitude+"&targetFloor="+t.target_floor+"&targetLongitude="+t.target_longitude+"&targetLatitude="+t.target_latitude,crossDomain:!0,headers:{Authorization:"eyJhbGciOiJIUzI1NiJ9.eyJpc3MiOiJyZWxpYWJsZXNlbnNlLmNvbSIsImlhdCI6MTUyODA0MTA5MSwidXNlcklkIjoxLCJ1c2VyVHlwZSI6IlNVUEVSX0FETUlOIiwidXNlck5hbWUiOiJhZG1pbiJ9.oXUEj0oXLi5rKnGjC8o1FlTWDie5bkgs0zsGSLnGeyI","Content-Type":"application/json",Accept:"application/json, text/plain, */*"}})}),Object(Hl.d)(function(t){return t.response}),Object(Hl.b)(function(t){return null!==t&&200===t.code}),Object(Hl.d)(function(t){return t.result}),Object(Hl.c)(function(t){return t}),Object(Hl.a)(function(t){return t.floor===e.floor}),Object(Hl.d)(function(t){return t.geojsonRoutes}),Object(Hl.c)(function(t){return t}),Object(Hl.d)(function(t){return JSON.parse(t)}),Object(Hl.f)("coordinates"),Object(Hl.e)(),Object(Hl.g)(function(t,e){var n=e[0],i=e[1],r=n.filter(function(t){return JSON.stringify(i[0])===JSON.stringify(t)||JSON.stringify(i[1])===JSON.stringify(t)}).shift();return t.length>0?t.concat(i.filter(function(t){return JSON.stringify(t)!==JSON.stringify(r)})):t.concat(n.filter(function(t){return JSON.stringify(t)!==JSON.stringify(r)}),[r],i.filter(function(t){return JSON.stringify(t)!==JSON.stringify(r)}))},[]),Object(Hl.d)(function(n){return t.source_floor===e.floor?[[t.source_longitude,t.source_latitude]].concat(n):n}),Object(Hl.d)(function(n){return t.target_floor===e.floor?n.concat([[t.target_longitude,t.target_latitude]]):n}),Object(Hl.c)(function(t){return t}),Object(Hl.e)(),Object(Hl.d)(function(t){return t.map(function(t){return bg(t[0],t[1])}).map(function(t){return[t.lng,t.lat]})}),Object(Hl.d)(function(t){return{type:"LineString",coordinates:t}}),Object(Hl.d)(function(t){return vg.geoJSON(t,{style:n.style})})).subscribe(function(t){return t.addTo(n.layer)},function(){},function(){t.source_floor===e.floor&&n.createStartPoint(t.source_longitude,t.source_latitude).addTo(n.layer),t.target_floor===e.floor&&n.createEndPoint(t.target_longitude,t.target_latitude).addTo(n.layer)})}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);Bg.defaultProps={routes:null,map:null},Bg.propTypes={routes:ql.a.object,map:ql.a.object},Bg.contextTypes={map:ql.a.object};var Zg=function(t){function e(){return uc(this,e),cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){var t=this;window.rotate=function(){},window.center=function(){t.props.position&&t.props.position.longitude&&t.props.position.latitude&&t.context.map.panTo(bg(t.props.position.longitude,t.props.position.latitude),{duration:.8})},window.bounds=function(){t.props.map&&t.props.map.xmin&&t.props.map.ymin&&t.props.map.xmax&&t.props.map.ymax&&t.context.map.flyToBounds([bg(t.props.map.xmin,t.props.map.ymin),bg(t.props.map.xmax,t.props.map.ymax)])},window.setIndoor=function(){t.context.map.setMinZoom(19),t.context.map.setMaxZoom(24),t.context.map.setZoom(20)},window.setOutdoor=function(){t.context.map.setMinZoom(Og),t.context.map.setMaxZoom(Ag),t.context.map.setZoom(16)},window.zoom=function(e){t.context.map.setZoom(e)},window.zoomIn=function(){t.context.map.zoomIn(1)},window.zoomOut=function(){t.context.map.zoomOut(1)},window.move=function(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"EPSG:3857";if("EPSG:4326"===i){var r=xg(e,n);e=r.x,n=r.y,i="EPSG:3857"}t.context.map.panTo(bg(e,n),{duration:.8})}}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);Zg.defaultProps={position:null,map:null},Zg.propTypes={position:ql.a.object,map:ql.a.object},Zg.contextTypes={map:ql.a.object};var Wg=1,Xg=2,Vg=4,Hg=5,Yg=484813681109536e-20,qg=Math.PI/2,Kg=.16666666666666666,Jg=.04722222222222222,Qg=.022156084656084655,$g=1e-10,ty=.017453292519943295,ey=57.29577951308232,ny=Math.PI/4,iy=2*Math.PI,ry=3.14159265359,oy={};oy.greenwich=0,oy.lisbon=-9.131906111111,oy.paris=2.337229166667,oy.bogota=-74.080916666667,oy.madrid=-3.687938888889,oy.rome=12.452333333333,oy.bern=7.439583333333,oy.jakarta=106.807719444444,oy.ferro=-17.666666666667,oy.brussels=4.367975,oy.stockholm=18.058277777778,oy.athens=23.7163375,oy.oslo=10.722916666667;var sy={ft:{to_meter:.3048},"us-ft":{to_meter:1200/3937}},ay=/[\s_\-\/\(\)]/g,uy=1,ly=/\s/,hy=/[A-Za-z]/,cy=/[A-Za-z84]/,py=/[,\]]/,fy=/[\d\.E\-\+]/;Ps.prototype.readCharicter=function(){var t=this.text[this.place++];if(4!==this.state)for(;ly.test(t);){if(this.place>=this.text.length)return;t=this.text[this.place++]}switch(this.state){case uy:return this.neutral(t);case 2:return this.keyword(t);case 4:return this.quoted(t);case 5:return this.afterquote(t);case 3:return this.number(t);case-1:return}},Ps.prototype.afterquote=function(t){if('"'===t)return this.word+='"',void(this.state=4);if(py.test(t))return this.word=this.word.trim(),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in afterquote yet, index '+this.place)},Ps.prototype.afterItem=function(t){return","===t?(null!==this.word&&this.currentObject.push(this.word),this.word=null,void(this.state=uy)):"]"===t?(this.level--,null!==this.word&&(this.currentObject.push(this.word),this.word=null),this.state=uy,this.currentObject=this.stack.pop(),void(this.currentObject||(this.state=-1))):void 0},Ps.prototype.number=function(t){if(fy.test(t))return void(this.word+=t);if(py.test(t))return this.word=parseFloat(this.word),void this.afterItem(t);throw new Error("havn't handled \""+t+'" in number yet, index '+this.place)},Ps.prototype.quoted=function(t){if('"'===t)return void(this.state=5);this.word+=t},Ps.prototype.keyword=function(t){if(cy.test(t))return void(this.word+=t);if("["===t){var e=[];return e.push(this.word),this.level++,null===this.root?this.root=e:this.currentObject.push(e),this.stack.push(this.currentObject),this.currentObject=e,void(this.state=uy)}if(py.test(t))return void this.afterItem(t);throw new Error("havn't handled \""+t+'" in keyword yet, index '+this.place)},Ps.prototype.neutral=function(t){if(hy.test(t))return this.word=t,void(this.state=2);if('"'===t)return this.word="",void(this.state=4);if(fy.test(t))return this.word=t,void(this.state=3);if(py.test(t))return void this.afterItem(t);throw new Error("havn't handled \""+t+'" in neutral yet, index '+this.place)},Ps.prototype.output=function(){for(;this.place<this.text.length;)this.readCharicter();if(-1===this.state)return this.root;throw new Error('unable to parse string "'+this.text+'". State is '+this.state)};var dy=.017453292519943295;!function(t){t("EPSG:4326","+title=WGS 84 (long/lat) +proj=longlat +ellps=WGS84 +datum=WGS84 +units=degrees"),t("EPSG:4269","+title=NAD83 (long/lat) +proj=longlat +a=6378137.0 +b=6356752.31414036 +ellps=GRS80 +datum=NAD83 +units=degrees"),t("EPSG:3857","+title=WGS 84 / Pseudo-Mercator +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs"),t.WGS84=t["EPSG:4326"],t["EPSG:3785"]=t["EPSG:3857"],t.GOOGLE=t["EPSG:3857"],t["EPSG:900913"]=t["EPSG:3857"],t["EPSG:102113"]=t["EPSG:3857"]}(js);var my=["PROJECTEDCRS","PROJCRS","GEOGCS","GEOCCS","PROJCS","LOCAL_CS","GEODCRS","GEODETICCRS","GEODETICDATUM","ENGCRS","ENGINEERINGCRS"],gy=["3857","900913","3785","102113"],yy=["Mercator","Popular Visualisation Pseudo Mercator","Mercator_1SP","Mercator_Auxiliary_Sphere","merc"],_y={init:Js,forward:Qs,inverse:$s,names:yy},vy=["longlat","identity"],by={init:ta,forward:ea,inverse:ea,names:vy},xy=[_y,by],wy={},Ey=[],Sy={start:ra,add:na,get:ia},Ty={};Ty.MERIT={a:6378137,rf:298.257,ellipseName:"MERIT 1983"},Ty.SGS85={a:6378136,rf:298.257,ellipseName:"Soviet Geodetic System 85"},Ty.GRS80={a:6378137,rf:298.257222101,ellipseName:"GRS 1980(IUGG, 1980)"},Ty.IAU76={a:6378140,rf:298.257,ellipseName:"IAU 1976"},Ty.airy={a:6377563.396,b:6356256.91,ellipseName:"Airy 1830"},Ty.APL4={a:6378137,rf:298.25,ellipseName:"Appl. Physics. 1965"},Ty.NWL9D={a:6378145,rf:298.25,ellipseName:"Naval Weapons Lab., 1965"},Ty.mod_airy={a:6377340.189,b:6356034.446,ellipseName:"Modified Airy"},Ty.andrae={a:6377104.43,rf:300,ellipseName:"Andrae 1876 (Den., Iclnd.)"},Ty.aust_SA={a:6378160,rf:298.25,ellipseName:"Australian Natl & S. Amer. 1969"},Ty.GRS67={a:6378160,rf:298.247167427,ellipseName:"GRS 67(IUGG 1967)"},Ty.bessel={a:6377397.155,rf:299.1528128,ellipseName:"Bessel 1841"},Ty.bess_nam={a:6377483.865,rf:299.1528128,ellipseName:"Bessel 1841 (Namibia)"},Ty.clrk66={a:6378206.4,b:6356583.8,ellipseName:"Clarke 1866"},Ty.clrk80={a:6378249.145,rf:293.4663,ellipseName:"Clarke 1880 mod."},Ty.clrk58={a:6378293.645208759,rf:294.2606763692654,ellipseName:"Clarke 1858"},Ty.CPM={a:6375738.7,rf:334.29,ellipseName:"Comm. des Poids et Mesures 1799"},Ty.delmbr={a:6376428,rf:311.5,ellipseName:"Delambre 1810 (Belgium)"},Ty.engelis={a:6378136.05,rf:298.2566,ellipseName:"Engelis 1985"},Ty.evrst30={a:6377276.345,rf:300.8017,ellipseName:"Everest 1830"},Ty.evrst48={a:6377304.063,rf:300.8017,ellipseName:"Everest 1948"},Ty.evrst56={a:6377301.243,rf:300.8017,ellipseName:"Everest 1956"},Ty.evrst69={a:6377295.664,rf:300.8017,ellipseName:"Everest 1969"},Ty.evrstSS={a:6377298.556,rf:300.8017,ellipseName:"Everest (Sabah & Sarawak)"},Ty.fschr60={a:6378166,rf:298.3,ellipseName:"Fischer (Mercury Datum) 1960"},Ty.fschr60m={a:6378155,rf:298.3,ellipseName:"Fischer 1960"},Ty.fschr68={a:6378150,rf:298.3,ellipseName:"Fischer 1968"},Ty.helmert={a:6378200,rf:298.3,ellipseName:"Helmert 1906"},Ty.hough={a:6378270,rf:297,ellipseName:"Hough"},Ty.intl={a:6378388,rf:297,ellipseName:"International 1909 (Hayford)"},Ty.kaula={a:6378163,rf:298.24,ellipseName:"Kaula 1961"},Ty.lerch={a:6378139,rf:298.257,ellipseName:"Lerch 1979"},Ty.mprts={a:6397300,rf:191,ellipseName:"Maupertius 1738"},Ty.new_intl={a:6378157.5,b:6356772.2,ellipseName:"New International 1967"},Ty.plessis={a:6376523,rf:6355863,ellipseName:"Plessis 1817 (France)"},Ty.krass={a:6378245,rf:298.3,ellipseName:"Krassovsky, 1942"},Ty.SEasia={a:6378155,b:6356773.3205,ellipseName:"Southeast Asia"},Ty.walbeck={a:6376896,b:6355834.8467,ellipseName:"Walbeck"},Ty.WGS60={a:6378165,rf:298.3,ellipseName:"WGS 60"},Ty.WGS66={a:6378145,rf:298.25,ellipseName:"WGS 66"},Ty.WGS7={a:6378135,rf:298.26,ellipseName:"WGS 72"};var Cy=Ty.WGS84={a:6378137,rf:298.257223563,ellipseName:"WGS 84"};Ty.sphere={a:6370997,b:6370997,ellipseName:"Normal Sphere (r=6370997)"};var My={};My.wgs84={towgs84:"0,0,0",ellipse:"WGS84",datumName:"WGS84"},My.ch1903={towgs84:"674.374,15.056,405.346",ellipse:"bessel",datumName:"swiss"},My.ggrs87={towgs84:"-199.87,74.79,246.62",ellipse:"GRS80",datumName:"Greek_Geodetic_Reference_System_1987"},My.nad83={towgs84:"0,0,0",ellipse:"GRS80",datumName:"North_American_Datum_1983"},My.nad27={nadgrids:"@conus,@alaska,@ntv2_0.gsb,@ntv1_can.dat",ellipse:"clrk66",datumName:"North_American_Datum_1927"},My.potsdam={towgs84:"606.0,23.0,413.0",ellipse:"bessel",datumName:"Potsdam Rauenberg 1950 DHDN"},My.carthage={towgs84:"-263.0,6.0,431.0",ellipse:"clark80",datumName:"Carthage 1934 Tunisia"},My.hermannskogel={towgs84:"653.0,-212.0,449.0",ellipse:"bessel",datumName:"Hermannskogel"},My.osni52={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"airy",datumName:"Irish National"},My.ire65={towgs84:"482.530,-130.596,564.557,-1.042,-0.214,-0.631,8.15",ellipse:"mod_airy",datumName:"Ireland 1965"},My.rassadiran={towgs84:"-133.63,-157.5,-158.62",ellipse:"intl",datumName:"Rassadiran"},My.nzgd49={towgs84:"59.47,-5.04,187.44,0.47,-0.1,1.024,-4.5993",ellipse:"intl",datumName:"New Zealand Geodetic Datum 1949"},My.osgb36={towgs84:"446.448,-125.157,542.060,0.1502,0.2470,0.8421,-20.4894",ellipse:"airy",datumName:"Airy 1830"},My.s_jtsk={towgs84:"589,76,480",ellipse:"bessel",datumName:"S-JTSK (Ferro)"},My.beduaram={towgs84:"-106,-87,188",ellipse:"clrk80",datumName:"Beduaram"},My.gunung_segara={towgs84:"-403,684,41",ellipse:"bessel",datumName:"Gunung Segara Jakarta"},My.rnb72={towgs84:"106.869,-52.2978,103.724,-0.33657,0.456955,-1.84218,1",ellipse:"intl",datumName:"Reseau National Belge 1972"},ua.projections=Sy,ua.projections.start();var Ly=ua("WGS84"),Py=6,Oy="AJSAJS",Ay="AFAFAF",Ry=65,Iy=73,ky=79,Ny=86,Fy=90,jy={forward:Ta,inverse:Ca,toPoint:Ma};Ua.fromMGRS=function(t){return new Ua(Ma(t))},Ua.prototype.toMGRS=function(t){return Ta([this.x,this.y],t)};var Dy=1,Gy=.25,zy=.046875,Uy=.01953125,By=.01068115234375,Zy=.75,Wy=.46875,Xy=.013020833333333334,Vy=.007120768229166667,Hy=.3645833333333333,Yy=.005696614583333333,qy=.3076171875,Ky=20,Jy=["Transverse_Mercator","Transverse Mercator","tmerc"],Qy={init:Xa,forward:Va,inverse:Ha,names:Jy},$y=["Extended_Transverse_Mercator","Extended Transverse Mercator","etmerc"],t_={init:nu,forward:iu,inverse:ru,names:$y},e_=["Universal Transverse Mercator System","utm"],n_={init:su,names:e_,dependsOn:"etmerc"},i_=20,r_=["gauss"],o_={init:uu,forward:lu,inverse:hu,names:r_},s_=["Stereographic_North_Pole","Oblique_Stereographic","Polar_Stereographic","sterea","Oblique Stereographic Alternative","Double_Stereographic"],a_={init:cu,forward:pu,inverse:fu,names:s_},u_=["stere","Stereographic_South_Pole","Polar Stereographic (variant B)"],l_={init:mu,forward:gu,inverse:yu,names:u_,ssfn_:du},h_=["somerc"],c_={init:_u,forward:vu,inverse:bu,names:h_},p_=["Hotine_Oblique_Mercator","Hotine Oblique Mercator","Hotine_Oblique_Mercator_Azimuth_Natural_Origin","Hotine_Oblique_Mercator_Azimuth_Center","omerc"],f_={init:xu,forward:wu,inverse:Eu,names:p_},d_=["Lambert Tangential Conformal Conic Projection","Lambert_Conformal_Conic","Lambert_Conformal_Conic_2SP","lcc"],m_={init:Su,forward:Tu,inverse:Cu,names:d_},g_=["Krovak","krovak"],y_={init:Mu,forward:Lu,inverse:Pu,names:g_},__=["Cassini","Cassini_Soldner","cass"],v_={init:Du,forward:Gu,inverse:zu,names:__},b_=.3333333333333333,x_=.17222222222222222,w_=.10257936507936508,E_=.06388888888888888,S_=.0664021164021164,T_=.016415012942191543,C_=["Lambert Azimuthal Equal Area","Lambert_Azimuthal_Equal_Area","laea"],M_={init:Bu,forward:Zu,inverse:Wu,names:C_,S_POLE:1,N_POLE:2,EQUIT:3,OBLIQ:4},L_=["Albers_Conic_Equal_Area","Albers","aea"],P_={init:Yu,forward:qu,inverse:Ku,names:L_,phi1z:Ju},O_=["gnom"],A_={init:Qu,forward:$u,inverse:tl,names:O_},R_=["cea"],I_={init:nl,forward:il,inverse:rl,names:R_},k_=["Equirectangular","Equidistant_Cylindrical","eqc"],N_={init:ol,forward:sl,inverse:al,names:k_},F_=20,j_=["Polyconic","poly"],D_={init:ul,forward:ll,inverse:hl,names:j_},G_=["New_Zealand_Map_Grid","nzmg"],z_={init:cl,forward:pl,inverse:fl,names:G_},U_=["Miller_Cylindrical","mill"],B_={init:dl,forward:ml,inverse:gl,names:U_},Z_=20,W_=["Sinusoidal","sinu"],X_={init:yl,forward:_l,inverse:vl,names:W_},V_=["Mollweide","moll"],H_={init:bl,forward:xl,inverse:wl,names:V_},Y_=["Equidistant_Conic","eqdc"],q_={init:El,forward:Sl,inverse:Tl,names:Y_},K_=["Van_der_Grinten_I","VanDerGrinten","vandg"],J_={init:Cl,forward:Ml,inverse:Ll,names:K_},Q_=["Azimuthal_Equidistant","aeqd"],$_={init:Pl,forward:Ol,inverse:Al,names:Q_},tv=["ortho"],ev={init:Rl,forward:Il,inverse:kl,names:tv},nv={FRONT:1,RIGHT:2,BACK:3,LEFT:4,TOP:5,BOTTOM:6},iv={AREA_0:1,AREA_1:2,AREA_2:3,AREA_3:4},rv=["Quadrilateralized Spherical Cube","Quadrilateralized_Spherical_Cube","qsc"],ov={init:Nl,forward:Fl,inverse:jl,names:rv},sv=[[1,2.2199e-17,-715515e-10,31103e-10],[.9986,-482243e-9,-24897e-9,-13309e-10],[.9954,-83103e-8,-448605e-10,-9.86701e-7],[.99,-.00135364,-59661e-9,36777e-10],[.9822,-.00167442,-449547e-11,-572411e-11],[.973,-.00214868,-903571e-10,1.8736e-8],[.96,-.00305085,-900761e-10,164917e-11],[.9427,-.00382792,-653386e-10,-26154e-10],[.9216,-.00467746,-10457e-8,481243e-11],[.8962,-.00536223,-323831e-10,-543432e-11],[.8679,-.00609363,-113898e-9,332484e-11],[.835,-.00698325,-640253e-10,9.34959e-7],[.7986,-.00755338,-500009e-10,9.35324e-7],[.7597,-.00798324,-35971e-9,-227626e-11],[.7186,-.00851367,-701149e-10,-86303e-10],[.6732,-.00986209,-199569e-9,191974e-10],[.6213,-.010418,883923e-10,624051e-11],[.5722,-.00906601,182e-6,624051e-11],[.5322,-.00677797,275608e-9,624051e-11]],av=[[-5.20417e-18,.0124,1.21431e-18,-8.45284e-11],[.062,.0124,-1.26793e-9,4.22642e-10],[.124,.0124,5.07171e-9,-1.60604e-9],[.186,.0123999,-1.90189e-8,6.00152e-9],[.248,.0124002,7.10039e-8,-2.24e-8],[.31,.0123992,-2.64997e-7,8.35986e-8],[.372,.0124029,9.88983e-7,-3.11994e-7],[.434,.0123893,-369093e-11,-4.35621e-7],[.4958,.0123198,-102252e-10,-3.45523e-7],[.5571,.0121916,-154081e-10,-5.82288e-7],[.6176,.0119938,-241424e-10,-5.25327e-7],[.6769,.011713,-320223e-10,-5.16405e-7],[.7346,.0113541,-397684e-10,-6.09052e-7],[.7903,.0109107,-489042e-10,-104739e-11],[.8435,.0103431,-64615e-9,-1.40374e-9],[.8936,.00969686,-64636e-9,-8547e-9],[.9394,.00840947,-192841e-9,-42106e-10],[.9761,.00616527,-256e-6,-42106e-10],[1,.00328947,-319159e-9,-42106e-10]],uv=.8487,lv=1.3523,hv=ey/5,cv=1/hv,pv=18,fv=function(t,e){return t[0]+e*(t[1]+e*(t[2]+e*t[3]))},dv=function(t,e){return t[1]+e*(2*t[2]+3*e*t[3])},mv=["Robinson","robin"],gv={init:Ul,forward:Bl,inverse:Zl,names:mv};Sa.defaultDatum="WGS84",Sa.Proj=ua,Sa.WGS84=new Sa.Proj("WGS84"),Sa.Point=Ua,Sa.toPoint=ya,Sa.defs=js,Sa.transform=xa,Sa.mgrs=jy,Sa.version="2.5.0",function(t){t.Proj.projections.add(Qy),t.Proj.projections.add(t_),t.Proj.projections.add(n_),t.Proj.projections.add(a_),t.Proj.projections.add(l_),t.Proj.projections.add(c_),t.Proj.projections.add(f_),t.Proj.projections.add(m_),t.Proj.projections.add(y_),t.Proj.projections.add(v_),t.Proj.projections.add(M_),t.Proj.projections.add(P_),t.Proj.projections.add(A_),t.Proj.projections.add(I_),t.Proj.projections.add(N_),t.Proj.projections.add(D_),t.Proj.projections.add(z_),t.Proj.projections.add(B_),t.Proj.projections.add(X_),t.Proj.projections.add(H_),t.Proj.projections.add(q_),t.Proj.projections.add(J_),t.Proj.projections.add($_),t.Proj.projections.add(ev),t.Proj.projections.add(ov),t.Proj.projections.add(gv)}(Sa);var yv=fe(function(t){!function(e){var n,i;n=vg,i=Sa,t.exports=function(t,e){return e.__esModule&&e.default&&(e=e.default),t.Proj={},t.Proj._isProj4Obj=function(t){return"undefined"!==typeof t.inverse&&"undefined"!==typeof t.forward},t.Proj.Projection=t.Class.extend({initialize:function(e,n,i){var r=t.Proj._isProj4Obj(e);this._proj=r?e:this._projFromCodeDef(e,n),this.bounds=r?n:i},project:function(e){var n=this._proj.forward([e.lng,e.lat]);return new t.Point(n[0],n[1])},unproject:function(e,n){var i=this._proj.inverse([e.x,e.y]);return new t.LatLng(i[1],i[0],n)},_projFromCodeDef:function(t,n){if(n)e.defs(t,n);else if(void 0===e.defs[t]){var i=t.split(":");if(i.length>3&&(t=i[i.length-3]+":"+i[i.length-1]),void 0===e.defs[t])throw"No projection definition for code "+t}return e(t)}}),t.Proj.CRS=t.Class.extend({includes:t.CRS,options:{transformation:new t.Transformation(1,0,-1,0)},initialize:function(e,n,i){var r,o,s,a;if(t.Proj._isProj4Obj(e)?(o=e,r=o.srsCode,a=n||{},this.projection=new t.Proj.Projection(o,a.bounds)):(r=e,s=n,a=i||{},this.projection=new t.Proj.Projection(r,s,a.bounds)),t.Util.setOptions(this,a),this.code=r,this.transformation=this.options.transformation,this.options.origin&&(this.transformation=new t.Transformation(1,-this.options.origin[0],-1,this.options.origin[1])),this.options.scales)this._scales=this.options.scales;else if(this.options.resolutions){this._scales=[];for(var u=this.options.resolutions.length-1;u>=0;u--)this.options.resolutions[u]&&(this._scales[u]=1/this.options.resolutions[u])}this.infinite=!this.options.bounds},scale:function(t){var e,n,i,r,o=Math.floor(t);return t===o?this._scales[t]:(e=this._scales[o],n=this._scales[o+1],i=n-e,r=t-o,e+i*r)},zoom:function(t){var e,n,i,r=this._closestElement(this._scales,t),o=this._scales.indexOf(r);return t===r?o:void 0===r?-1/0:(n=o+1,void 0===(e=this._scales[n])?1/0:(i=e-r,(t-r)/i+o))},distance:t.CRS.Earth.distance,R:t.CRS.Earth.R,_closestElement:function(t,e){for(var n,i=t.length;i--;)t[i]<=e&&(void 0===n||n<t[i])&&(n=t[i]);return n}}),t.Proj.GeoJSON=t.GeoJSON.extend({initialize:function(e,n){this._callLevel=0,t.GeoJSON.prototype.initialize.call(this,e,n)},addData:function(e){var n;e&&(e.crs&&"name"===e.crs.type?n=new t.Proj.CRS(e.crs.properties.name):e.crs&&e.crs.type&&(n=new t.Proj.CRS(e.crs.type+":"+e.crs.properties.code)),void 0!==n&&(this.options.coordsToLatLng=function(e){var i=t.point(e[0],e[1]);return n.projection.unproject(i)})),this._callLevel++;try{t.GeoJSON.prototype.addData.call(this,e)}finally{this._callLevel--,0===this._callLevel&&delete this.options.coordsToLatLng}}}),t.Proj.geoJson=function(e,n){return new t.Proj.GeoJSON(e,n)},t.Proj.ImageOverlay=t.ImageOverlay.extend({initialize:function(e,n,i){t.ImageOverlay.prototype.initialize.call(this,e,null,i),this._projectedBounds=n},_animateZoom:function(e){var n=this._map.getZoomScale(e.zoom),i=t.point(this._projectedBounds.min.x,this._projectedBounds.max.y),r=this._projectedToNewLayerPoint(i,e.zoom,e.center);t.DomUtil.setTransform(this._image,r,n)},_reset:function(){var e=this._map.getZoom(),n=this._map.getPixelOrigin(),i=t.bounds(this._transform(this._projectedBounds.min,e)._subtract(n),this._transform(this._projectedBounds.max,e)._subtract(n)),r=i.getSize();t.DomUtil.setPosition(this._image,i.min),this._image.style.width=r.x+"px",this._image.style.height=r.y+"px"},_projectedToNewLayerPoint:function(t,e,n){var i=this._map.getSize()._divideBy(2),r=this._map.project(n,e)._subtract(i)._round(),o=r.add(this._map._getMapPanePos());return this._transform(t,e)._subtract(o)},_transform:function(t,e){var n=this._map.options.crs,i=n.transformation,r=n.scale(e);return i.transform(t,r)}}),t.Proj.imageOverlay=function(e,n,i){return new t.Proj.ImageOverlay(e,n,i)},t.Proj}(n,i)}()});!function(t){t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")&&t.default}(yv),function(t,e,n){L.XmlUtil={namespaces:{xlink:"http://www.w3.org/1999/xlink",xmlns:"http://www.w3.org/2000/xmlns/",xsd:"http://www.w3.org/2001/XMLSchema",xsi:"http://www.w3.org/2001/XMLSchema-instance",wfs:"http://www.opengis.net/wfs",gml:"http://www.opengis.net/gml",ogc:"http://www.opengis.net/ogc",ows:"http://www.opengis.net/ows"},xmldoc:(new DOMParser).parseFromString("<root />","text/xml"),setAttributes:function(t,e){for(var n in e)if(null!=e[n]&&e[n].toString){var i=e[n].toString(),r=this.namespaces[n.substring(0,n.indexOf(":"))]||null;t.setAttributeNS(r,n,i)}},evaluate:function(t,e){var n=e;n instanceof Document||(n=this.parseXml(e));var i=new XPathEvaluator,r=i.createNSResolver(n.documentElement);return i.evaluate(t,n,r,XPathResult.ANY_TYPE,null)},createElementNS:function(t,e,n){n=n||{};var i=n.uri;i||(i=this.namespaces[t.substring(0,t.indexOf(":"))]),i||(i=this.namespaces[n.prefix]);var r=i?this.xmldoc.createElementNS(i,t):this.xmldoc.createElement(t);return e&&this.setAttributes(r,e),null!=n.value&&r.appendChild(this.xmldoc.createTextNode(n.value)),r},createTextNode:function(t){return null===t||void 0===t?t="":t instanceof Date&&(t=t.toISOString()),this.xmldoc.createTextNode(t)},getNodeText:function(t){return t?t.innerText||t.textContent||t.text:""},serializeXmlDocumentString:function(t){var n=e.implementation.createDocument("","",null);return n.appendChild(t),(new XMLSerializer).serializeToString(n)},serializeXmlToString:function(t){return(new XMLSerializer).serializeToString(t)},parseXml:function(e){if("undefined"!==typeof t.DOMParser)return(new t.DOMParser).parseFromString(e,"text/xml");if("undefined"!==typeof t.ActiveXObject&&new t.ActiveXObject("Microsoft.XMLDOM")){var n=new t.ActiveXObject("Microsoft.XMLDOM");return n.async="false",n.loadXML(e),n}throw new Error("No XML parser found")},parseOwsExceptionReport:function(t){var e=t;e instanceof Document||(e=this.parseXml(t));var n=e.documentElement;if(!n||"ows:ExceptionReport"!==n.tagName)return null;for(var i={exceptions:[],message:""},r=n.getElementsByTagNameNS(L.XmlUtil.namespaces.ows,"Exception"),o=0,s=r.length;o<s;o++){for(var a=r[o],u=a.getAttribute("exceptionCode"),l=a.getElementsByTagNameNS(L.XmlUtil.namespaces.ows,"ExceptionText"),h={code:u,text:""},c=0,p=l.length;c<p;c++){var f=l[c],d=f.innerText||f.textContent||f.text;h.text+=d,c<p-1&&(h.text+=". ")}i.message+=h.code+" - "+h.text,o<s-1&&(i.message+=" "),i.exceptions.push(h)}return i}},L.Util.request=function(e){e=L.extend({async:!0,method:"POST",data:"",params:{},headers:{},url:t.location.href,withCredentials:!1,success:function(t){console.log(t)},error:function(t){console.log("Ajax request fail"),console.log(t)},complete:function(){}},e);var n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(200===n.status?e.success(n.responseText):e.error(n.responseText),e.complete())},n.withCredentials=e.withCredentials;var i=e.url+L.Util.getParamString(e.params,e.url);n.open(e.method,i,e.async);for(var r in e.headers)n.setRequestHeader(r,e.headers[r]);n.send(e.data)},L.Filter={},L.filter=function(t){var e=L.XmlUtil.createElementNS("ogc:Filter");return Array.isArray(t)?t.forEach(function(t){e.appendChild(t instanceof Element?t:t.toGml())}):t&&e.appendChild(t instanceof Element?t:t.toGml()),e},L.Filter.propertyName=function(t){return L.XmlUtil.createElementNS("ogc:PropertyName",{},{value:t})},L.Filter.literal=function(t){return L.XmlUtil.createElementNS("ogc:Literal",{},{value:t})},L.Filter.element=function(t){return t instanceof Element?t:t.toGml()},L.Filter.propertyElement=function(t){return t instanceof Element?t:t&&"function"===typeof t.toGml?t.toGml():L.Filter.propertyName(t)},L.Filter.literalElement=function(t){return t instanceof Element?t:t&&"function"===typeof t.toGml?t.toGml():L.Filter.literal(t)},L.Filter.Abstract=L.Class.extend({attributes:{},options:{},tagName:null,buildFilterContent:function(){throw"Build filter content is abstract and should be implemented"},toGml:function(){var t=L.XmlUtil.createElementNS(this.tagName,this.attributes,this.options);return this.buildFilterContent(t),t}}),L.Filter.BinarySpatial=L.Filter.Abstract.extend({initialize:function(t,e,n){this.propertyName=t,this.value=e,this.crs=n},buildFilterContent:function(t){return t.appendChild(L.Filter.propertyName(this.propertyName)),"string"===typeof this.value?t.appendChild(L.Filter.propertyName(this.value)):t.appendChild(this.value.toGml(this.crs)),t}}),L.Filter.Equals=L.Filter.BinarySpatial.extend({tagName:"ogc:Equals"}),L.Filter.equals=function(t){return new L.Filter.Equals(t)},L.Filter.Disjoint=L.Filter.BinarySpatial.extend({tagName:"ogc:Disjoint"}),L.Filter.disjoint=function(t){return new L.Filter.Disjoint(t)},L.Filter.Touches=L.Filter.BinarySpatial.extend({tagName:"ogc:Touches"}),L.Filter.touches=function(t){return new L.Filter.Touches(t)},L.Filter.Within=L.Filter.BinarySpatial.extend({tagName:"ogc:Within"}),L.Filter.within=function(t){return new L.Filter.Within(t)},L.Filter.Overlaps=L.Filter.BinarySpatial.extend({tagName:"ogc:Overlaps"}),L.Filter.overlaps=function(t){return new L.Filter.Overlaps(t)},L.Filter.Crosses=L.Filter.BinarySpatial.extend({tagName:"ogc:Crosses"}),L.Filter.crosses=function(t){return new L.Filter.Crosses(t)},L.Filter.Intersects=L.Filter.BinarySpatial.extend({tagName:"ogc:Intersects"}),L.Filter.intersects=function(t){return new L.Filter.Intersects(t)},L.Filter.Contains=L.Filter.BinarySpatial.extend({tagName:"ogc:Contains"}),L.Filter.contains=function(t){return new L.Filter.Contains(t)},L.Filter.DistanceBuffer=L.Filter.Abstract.extend({initialize:function(t,e,n,i,r){this.propertyName=t,this.geomerty=e,this.crs=n,this.distance=i,this.units=r},buildFilterContent:function(t){t.appendChild(L.Filter.propertyName(this.propertyName)),t.appendChild(this.geomerty.toGml(this.crs)),t.appendChild(L.XmlUtil.createElementNS("ogc:Distance",{units:this.units},{value:this.distance}))}}),L.Filter.DWithin=L.Filter.DistanceBuffer.extend({tagName:"ogc:DWithin"}),L.Filter.dwithin=function(t,e,n,i,r){return new L.Filter.DWithin(t,e,n,i,r)},L.Filter.Beyond=L.Filter.DistanceBuffer.extend({tagName:"ogc:Beyond"}),L.Filter.beyond=function(t,e,n,i,r){return new L.Filter.Beyond(t,e,n,i,r)},L.Filter.BBox=L.Filter.Abstract.extend({tagName:"ogc:BBOX",geometryField:null,bbox:null,crs:null,initialize:function(t,e,n){this.bbox=e,this.geometryField=t,this.crs=n},buildFilterContent:function(t){this.geometryField&&t.appendChild(L.Filter.propertyName(this.geometryField)),t.appendChild(this.bbox.toGml(this.crs))}}),L.Filter.bbox=function(t,e,n){return new L.Filter.BBox(t,e,n)},L.Filter.GmlObjectID=L.Filter.Abstract.extend({tagName:"ogc:GmlObjectId",initialize:function(t){this.attributes={"gml:id":t}},buildFilterContent:function(){}}),L.Filter.gmlobjectid=function(t){return new L.Filter.GmlObjectID(t)},L.Filter.BinaryOperator=L.Filter.Abstract.extend({initialize:function(t,e){this.firstValue=t,this.secondValue=e},buildFilterContent:function(t){t.appendChild(L.Filter.propertyElement(this.firstValue)),t.appendChild(L.Filter.literalElement(this.secondValue))}}),L.Filter.Add=L.Filter.BinaryOperator.extend({tagName:"Add"}),L.Filter.add=function(t,e){return new L.Filter.Add(t,e)},L.Filter.Sub=L.Filter.BinaryOperator.extend({tagName:"Sub"}),L.Filter.sub=function(t,e){return new L.Filter.Sub(t,e)},L.Filter.Mul=L.Filter.BinaryOperator.extend({tagName:"Mul"}),L.Filter.mul=function(t,e){return new L.Filter.Mul(t,e)},L.Filter.Div=L.Filter.BinaryOperator.extend({tagName:"Div"}),L.Filter.div=function(t,e){return new L.Filter.Div(t,e)},L.Filter.BinaryComparison=L.Filter.BinaryOperator.extend({matchCase:!1,initialize:function(t,e,n){L.Filter.BinaryOperator.prototype.initialize.call(this,t,e),this.attributes={matchCase:!!n}}}),L.Filter.EQ=L.Filter.BinaryComparison.extend({tagName:"ogc:PropertyIsEqualTo"}),L.Filter.eq=function(t,e){return new L.Filter.EQ(t,e)},L.Filter.NotEQ=L.Filter.BinaryComparison.extend({tagName:"ogc:PropertyIsNotEqualTo"}),L.Filter.neq=function(t,e){return new L.Filter.NotEQ(t,e)},L.Filter.LT=L.Filter.BinaryComparison.extend({tagName:"ogc:PropertyIsLessThan"}),L.Filter.lt=function(t,e){return new L.Filter.LT(t,e)},L.Filter.GT=L.Filter.BinaryComparison.extend({tagName:"ogc:PropertyIsGreaterThan"}),L.Filter.gt=function(t,e){return new L.Filter.GT(t,e)},L.Filter.LEQ=L.Filter.BinaryComparison.extend({tagName:"ogc:PropertyIsLessThanOrEqualTo"}),L.Filter.leq=function(t,e){return new L.Filter.LEQ(t,e)},L.Filter.GEQ=L.Filter.BinaryComparison.extend({tagName:"ogc:PropertyIsGreaterThanOrEqualTo"}),L.Filter.geq=function(t,e){return new L.Filter.GEQ(t,e)},L.Filter.Like=L.Filter.Abstract.extend({tagName:"ogc:PropertyIsLike",wildCard:"*",singleChar:"#",escapeChar:"!",matchCase:!0,initialize:function(t,e,n){this.name=t,this.val=e;var i={wildCard:this.wildCard,singleChar:this.singleChar,escapeChar:this.escapeChar,matchCase:this.matchCase};this.attributes=L.extend(i,n||{})},buildFilterContent:function(t){var e=L.Filter.propertyName(this.name),n=L.Filter.literal(this.val);return t.appendChild(e),t.appendChild(n),t}}),L.Filter.like=function(t,e,n){return new L.Filter.Like(t,e,n)},L.Filter.IsNull=L.Filter.Abstract.extend({tagName:"ogc:PropertyIsNull",initialize:function(t){this.propertyName=t},buildFilterContent:function(t){t.appendChild(L.Filter.propertyName(this.propertyName))}}),L.Filter.isnull=function(t){return new L.Filter.IsNull(t)},L.Filter.IsBetween=L.Filter.Abstract.extend({tagName:"ogc:PropertyIsBetween",initialize:function(t,e,n){this.property=t,this.lowerBoundary=e,this.upperBoundary=n},buildFilterContent:function(t){t.appendChild(L.Filter.propertyElement(this.property));var e=L.XmlUtil.createElementNS("ogc:LowerBoundary");e.appendChild(L.Filter.literalElement(this.lowerBoundary)),t.appendChild(e);var n=L.XmlUtil.createElementNS("ogc:UpperBoundary");n.appendChild(L.Filter.literalElement(this.upperBoundary)),t.appendChild(n)}}),L.Filter.isbetween=function(t,e,n){return new L.Filter.IsBetween(t,e,n)},L.Filter.BinaryLogic=L.Filter.Abstract.extend({filters:null,initialize:function(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.filters=t},buildFilterContent:function(t){this.filters.forEach(function(e){t.appendChild(L.Filter.element(e))})}}),L.Filter.And=L.Filter.BinaryLogic.extend({tagName:"And"}),L.Filter.and=function(){return new(Function.prototype.bind.apply(L.Filter.And,arguments))},L.Filter.Or=L.Filter.BinaryLogic.extend({tagName:"Or"}),L.Filter.or=function(){return new(Function.prototype.bind.apply(L.Filter.Or,arguments))},L.Filter.Not=L.Filter.Abstract.extend({tagName:"Not",initialize:function(t){this.filter=t},buildFilterContent:function(t){t.appendChild(L.Filter.element(this.filter))}}),L.Filter.not=function(t){return new L.Filter.Not(t)},L.Filter.Function=L.Filter.Abstract.extend({tagName:"Function",initialize:function(){var t=arguments[0];this.attributes={name:t};for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);this.expressions=e},buildFilterContent:function(t){var e=this.expressions[0];t.appendChild(L.Filter.propertyElement(e));for(var n=1;n<this.expressions.length;n++){var i=this.expressions[n];t.appendChild(L.Filter.literalElement(i))}}}),L.Filter.function=function(){return new(Function.prototype.bind.apply(L.Filter.Function,arguments))},L.Format={},L.Format.Scheme=L.Class.extend({options:{geometryField:"Shape"},initialize:function(t){L.setOptions(this,t)},parse:function(t){for(var e=new L.GML.FeatureType({geometryField:this.options.geometryField}),n=t.getElementsByTagNameNS(L.XmlUtil.namespaces.xsd,"complexType")[0],i=n.getElementsByTagNameNS(L.XmlUtil.namespaces.xsd,"sequence")[0],r=0;r<i.children.length;r++){var o=i.children[r];if(o.attributes.name){var s=o.attributes.name.value,a=o.attributes.type;if(!a){a=o.getElementsByTagNameNS(L.XmlUtil.namespaces.xsd,"restriction").attributes.base}if(a){var u=a.value.split(":").pop();s!==this.options.geometryField?e.appendField(s,u):e.geometryFields[s]=u}}}return e}}),L.Format.Base=L.Class.extend({defaultOptions:{crs:L.CRS.EPSG3857,coordsToLatLng:function(t){return new L.LatLng(t[1],t[0],t[2])},latLngToCoords:function(t){var e=[t.lng,t.lat];return void 0!==t.alt&&e.push(t.alt),e},geometryField:"Shape"},initialize:function(t){if(L.setOptions(this,L.extend({},this.defaultOptions,t)),t.crs){var e=t.crs;this.options.coordsToLatLng=function(t){var n=L.point(t[0],t[1]),i=e.projection.unproject(n);return t[2]&&(i.alt=t[2]),i},this.options.latLngToCoords=function(t){var n=L.latLng(t);return e.projection.project(n)}}},setFeatureDescription:function(t){this.namespaceUri=t.attributes.targetNamespace.value;var e=new L.Format.Scheme({geometryField:this.options.geometryField});this.featureType=e.parse(t)},responseToLayers:function(){throw"responseToLayers is abstract and should be implemented"}}),L.Format.GeoJSON=L.Format.Base.extend({outputFormat:"application/json",responseToLayers:function(t){for(var e=[],n=JSON.parse(t),i=0;i<n.features.length;i++){var r=this.processFeature(n.features[i]);r&&e.push(r)}return e},processFeature:function(t){var e=this.generateLayer(t);return e?(e.feature=t,e):null},generateLayer:function(t){var e=L.GeoJSON.geometryToLayer(t,this.options||null);return e||(console.log("Geometry field doesn' exist inside received feature: '"+t+"', so feature will be skipped and won't be converted into leaflet layer"),null)}}),L.GML=L.GML||{},L.GML.ParserContainerMixin={parsers:{},initializeParserContainer:function(){this.parsers={}},appendParser:function(t){this.parsers[t.elementTag]=t},parseElement:function(t,e){var n=this.parsers[t.tagName];if(!n)throw"unknown child element "+t.tagName;return n.parse(t,e)}},L.GML.Element=L.Class.extend({elementTag:"",parse:function(){throw"not implemented parse function in parser for "+this.elementTag}}),L.GML.Geometry=L.GML.Element.extend({elementOptions:function(t,e){var n=L.extend({},e),i=t.getAttribute("srsDimension");return i&&(n.dimension=parseInt(i)),n}}),L.GML.Coordinates=L.GML.Element.extend({defaultSeparator:{ds:".",cs:",",ts:" "},elementTag:"gml:coordinates",parse:function(t){var e=this.defaultSeparator.ds;t.attributes.decimal&&(e=t.attributes.decimal.value);var n=this.defaultSeparator.cs;t.attributes.cs&&(n=t.attributes.cs.value);var i=this.defaultSeparator.ts;t.attributes.ts&&(i=t.attributes.ts.value);for(var r=[],o=t.textContent.split(i),s=function(t){return"."!==e&&(t=t.replace(e,".")),parseFloat(t)},a=0;a<o.length;a++)r.push(o[a].split(n).map(s));return 1===r.length?r[0]:r}}),L.GML.Pos=L.GML.Element.extend({elementTag:"gml:pos",parse:function(t){return t.textContent.split(" ").map(function(t){return parseFloat(t)})}}),L.GML.PosList=L.GML.Element.extend({statics:{DIM:2},elementTag:"gml:posList",parse:function(t,e){var n=[];e=e||{};for(var i=e.dimension||L.GML.PosList.DIM,r=t.textContent.split(" "),o=0;o<r.length;o+=i){for(var s=[],a=o;a<o+i;a++)s.push(parseFloat(r[a]));n.push(s)}return n}}),L.GML.PointNode=L.GML.Geometry.extend({includes:L.GML.ParserContainerMixin,elementTag:"gml:Point",initialize:function(){this.initializeParserContainer(),this.appendParser(new L.GML.Pos),this.appendParser(new L.GML.Coordinates)},parse:function(t,e){return e=this.elementOptions(t,e),this.parseElement(t.firstElementChild,e)}}),L.GML.PointSequence=L.GML.Geometry.extend({includes:L.GML.ParserContainerMixin,initialize:function(){this.initializeParserContainer(),this.appendParser(new L.GML.Pos),this.appendParser(new L.GML.PosList),this.appendParser(new L.GML.Coordinates),this.appendParser(new L.GML.PointNode)},parse:function(t,e){e=this.elementOptions(t,e);var n=t.firstElementChild,i=[],r=n.tagName;if("gml:pos"===r||"gml:Point"===r)for(var o=this.parsers[r],s=t.getElementsByTagNameNS(L.XmlUtil.namespaces.gml,r.split(":").pop()),a=0;a<s.length;a++)i.push(o.parse(s[a],e));else i=this.parseElement(n,e);return i}}),L.GML.LinearRing=L.GML.PointSequence.extend({elementTag:"gml:LinearRing",parse:function(t,e){var n=L.GML.PointSequence.prototype.parse.call(this,t,e);return n.pop(),n}}),L.GML.LineStringNode=L.GML.PointSequence.extend({elementTag:"gml:LineString"}),L.GML.PolygonNode=L.GML.Geometry.extend({elementTag:"gml:Polygon",initialize:function(){this.linearRingParser=new L.GML.LinearRing},parse:function(t,e){e=this.elementOptions(t,e);for(var n=[],i=0;i<t.children.length;i++){var r=t.children[i];n.push(this.linearRingParser.parse(r.firstElementChild,e))}return n}}),L.GML.CoordsToLatLngMixin={transform:function(t,e){if(Array.isArray(t[0])){for(var n=[],i=0;i<t.length;i++)n.push(this.transform(t[i],e));return n}return e.coordsToLatLng(t)}},L.GML.Point=L.GML.PointNode.extend({includes:L.GML.CoordsToLatLngMixin,parse:function(t,e){var n=L.GML.PointNode.prototype.parse.call(this,t,e),i=new L.Marker;return i.setLatLng(this.transform(n,e)),i}}),L.GML.LineString=L.GML.LineStringNode.extend({includes:L.GML.CoordsToLatLngMixin,parse:function(t,e){var n=new L.Polyline([]),i=L.GML.LineStringNode.prototype.parse.call(this,t);return n.setLatLngs(this.transform(i,e)),n}}),L.GML.Polygon=L.GML.PolygonNode.extend({includes:L.GML.CoordsToLatLngMixin,parse:function(t,e){var n=new L.Polygon([]),i=L.GML.PolygonNode.prototype.parse.call(this,t,e);return n.setLatLngs(this.transform(i,e)),n}}),L.GML.MultiGeometry=L.GML.Geometry.extend({includes:[L.GML.ParserContainerMixin,L.GML.CoordsToLatLngMixin],initialize:function(){this.initializeParserContainer()},parse:function(t,e){e=this.elementOptions(t,e);for(var n=[],i=0;i<t.children.length;i++)for(var r=t.children[i],o=0;o<r.children.length;o++){var s=r.children[o];n.push(this.parseElement(s,e))}return this.transform(n,e)}}),L.GML.AbstractMultiPolyline=L.GML.MultiGeometry.extend({initialize:function(){L.GML.MultiGeometry.prototype.initialize.call(this),this.appendParser(new L.GML.LineStringNode)},parse:function(t,e){var n=L.GML.MultiGeometry.prototype.parse.call(this,t,e),i=new L.Polyline([]);return i.setLatLngs(n),i}}),L.GML.AbstractMultiPolygon=L.GML.MultiGeometry.extend({initialize:function(){L.GML.MultiGeometry.prototype.initialize.call(this),this.appendParser(new L.GML.PolygonNode)},parse:function(t,e){var n=L.GML.MultiGeometry.prototype.parse.call(this,t,e),i=new L.Polygon([]);return i.setLatLngs(n),i}}),L.GML.MultiLineString=L.GML.AbstractMultiPolyline.extend({elementTag:"gml:MultiLineString"}),L.GML.MultiCurve=L.GML.AbstractMultiPolyline.extend({elementTag:"gml:MultiCurve"}),L.GML.MultiPolygon=L.GML.AbstractMultiPolygon.extend({elementTag:"gml:MultiPolygon"}),L.GML.MultiSurface=L.GML.AbstractMultiPolygon.extend({elementTag:"gml:MultiSurface"}),L.GML.MultiPoint=L.GML.MultiGeometry.extend({elementTag:"gml:MultiPoint",initialize:function(){L.GML.MultiGeometry.prototype.initialize.call(this),this.appendParser(new L.GML.PointNode)},parse:function(t,e){for(var n=L.GML.MultiGeometry.prototype.parse.call(this,t,e),i=new L.FeatureGroup,r=0;r<n.length;r++){var o=new L.Marker;o.setLatLng(n[r]),i.addLayer(o)}return i}}),L.GML.FeatureType=L.Class.extend({options:{geometryField:"Shape"},primitives:[{types:["byte","short","int","integer","long","float","double","decimal"],parse:function(t){return 0===t?0:(t=String.prototype.trim.call(t||""),""===t?null:Number(t))},validate:function(t){return!isNaN(t)},type:"number"},{types:["string"],parse:function(t){return t},validate:function(t){return!0},type:"string"},{types:["boolean"],parse:function(t){return"false"!==(t=String.prototype.trim.call(t||"").toLowerCase())},validate:function(t){return!0},type:"boolean"},{types:["date","time","datetime"],parse:function(t){return t=String.prototype.trim.call(t||""),""===t?null:new Date(t)},validate:function(t){return!isNaN(t)},type:"date"}],initialize:function(t){L.setOptions(this,t),this.fields={},this.fieldValidators={},this.fieldTypes={},this.geometryFields={}},appendField:function(t,e){var n=this;e=String.prototype.toLowerCase.call(e||""),this.primitives.forEach(function(i){-1!==i.types.indexOf(e)&&(n.fields[t]=i.parse,n.fieldValidators[t]=i.validate,n.fieldTypes[t]=i.type)})},parse:function(t){for(var e={},n=0;n<t.children.length;n++){var i=t.children[n],r=i.tagName.split(":").pop();if(r!==this.options.geometryField){var o=this.fields[r];o||(this.appendField(r,"string"),o=this.fields[r]),e[r]=o(i.textContent)}}return{type:"Feature",properties:e,id:t.attributes["gml:id"].value}}}),L.Format.GML=L.Format.Base.extend({includes:L.GML.ParserContainerMixin,outputFormat:"text/xml; subtype=gml/3.1.1",initialize:function(t){L.Format.Base.prototype.initialize.call(this,t),this.initializeParserContainer(),this.appendParser(new L.GML.Point),this.appendParser(new L.GML.LineString),this.appendParser(new L.GML.Polygon),this.appendParser(new L.GML.MultiLineString),this.appendParser(new L.GML.MultiPolygon),this.appendParser(new L.GML.MultiCurve),this.appendParser(new L.GML.MultiSurface),this.appendParser(new L.GML.MultiPoint)},responseToLayers:function(t){for(var e=[],n=L.XmlUtil.parseXml(t),i=n.documentElement,r=i.getElementsByTagNameNS(L.XmlUtil.namespaces.gml,"featureMember"),o=0;o<r.length;o++){var s=r[o].firstElementChild,a=this.processFeature(s);a&&e.push(a)}var u=i.getElementsByTagNameNS(L.XmlUtil.namespaces.gml,"featureMembers");if(u.length>0)for(var l=u[0].children,h=0;h<l.length;h++){var c=l[h],p=this.processFeature(c);p&&e.push(p)}return e},processFeature:function(t){var e=this.generateLayer(t);return e?(e.feature=this.featureType.parse(t),e):null},generateLayer:function(t){var e=t.getElementsByTagNameNS(this.namespaceUri,this.options.geometryField)[0];return e?this.parseElement(e.firstElementChild,this.options):(console.log("Geometry field '"+this.options.geometryField+"' doesn' exist inside received feature: '"+t.innerHTML+"', so feature will be skipped and won't be converted into leaflet layer"),null)}}),L.Util.project=function(t,e){if(L.Util.isArray(e)){var n=[];return e.forEach(function(e){n.push(L.Util.project(t,e))}),n}return t.projection.project(e)},L.Util.isFlat=L.LineUtil.isFlat||L.LineUtil._flat||L.Polyline._flat,L.GmlUtil={posNode:function(t){return L.XmlUtil.createElementNS("gml:pos",{srsDimension:2},{value:t.x+" "+t.y})},posListNode:function(t,e){var n=[];if(t.forEach(function(t){n.push(t.x+" "+t.y)}),e&&t.length>0){var i=t[0];n.push(i.x+" "+i.y)}var r=n.join(" ");return L.XmlUtil.createElementNS("gml:posList",{},{value:r})}},L.CircleMarker.include({toGml:function(t){var e=L.XmlUtil.createElementNS("gml:Point",{srsName:t.code});return e.appendChild(L.GmlUtil.posNode(L.Util.project(t,this.getLatLng()))),e}}),L.LatLngBounds.prototype.toGml=function(t){var e=t.project(this.getSouthWest()),n=t.project(this.getNorthEast()),i=L.XmlUtil.createElementNS("gml:Envelope",{srsName:t.code});return i.appendChild(L.XmlUtil.createElementNS("gml:lowerCorner",{},{value:e.x+" "+e.y})),i.appendChild(L.XmlUtil.createElementNS("gml:upperCorner",{},{value:n.x+" "+n.y})),i},L.Marker.include({toGml:function(t){var e=L.XmlUtil.createElementNS("gml:Point",{srsName:t.code});return e.appendChild(L.GmlUtil.posNode(L.Util.project(t,this.getLatLng()))),e}}),L.Polygon.include({toGml:function(t,e){for(var n=this.getLatLngs(),i=[],r=0;r<n.length;r++){var o=n[r],s=L.Util.isFlat(o),a=L.XmlUtil.createElementNS("gml:Polygon",{srsName:t.code,srsDimension:2});if(a.appendChild(L.XmlUtil.createElementNS("gml:exterior")).appendChild(L.XmlUtil.createElementNS("gml:LinearRing",{srsDimension:2})).appendChild(L.GmlUtil.posListNode(L.Util.project(t,s?o:o[0]),!0)),!s)for(var u=1;u<o.length;u++)a.appendChild(L.XmlUtil.createElementNS("gml:interior")).appendChild(L.XmlUtil.createElementNS("gml:LinearRing",{srsDimension:2})).appendChild(L.GmlUtil.posListNode(L.Util.project(t,o[u]),!0));i.push(a)}if(1===i.length&&!e)return i[0];for(var l=L.XmlUtil.createElementNS("gml:MultiSurface",{srsName:t.code,srsDimension:2}),h=l.appendChild(L.XmlUtil.createElementNS("gml:surfaceMembers")),c=0;c<i.length;c++)h.appendChild(i[c]);return l}}),L.Polyline.include({_lineStringNode:function(t,e){var n=L.XmlUtil.createElementNS("gml:LineString",{srsName:t.code,srsDimension:2});return n.appendChild(L.GmlUtil.posListNode(L.Util.project(t,e),!1)),n},toGml:function(t,e){var n=this.getLatLngs(),i=[];if(L.Util.isFlat(n))i.push(this._lineStringNode(t,n));else for(var r=0;r<n.length;r++)i.push(this._lineStringNode(t,n[r]));if(1===i.length&&!e)return i[0];for(var o=L.XmlUtil.createElementNS("gml:MultiCurve",{srsName:t.code,srsDimension:2}),s=o.appendChild(L.XmlUtil.createElementNS("gml:curveMembers")),a=0;a<i.length;a++)s.appendChild(i[a]);return o}});var i={setProperties:function(t){for(var e in t)t.hasOwnProperty(e)&&(this.feature.properties[e]=t[e])},getProperty:function(t){return this.feature.properties[t]},deleteProperties:function(t){for(var e=0;e<t.length;e++)this.feature.properties.hasOwnProperty(t[e])&&delete this.feature.properties[t[e]]}};L.Marker.include(i),L.Path.include(i),L.WFS=L.FeatureGroup.extend({_capabilities:null,_boundingBox:null,options:{crs:L.CRS.EPSG3857,showExisting:!0,geometryField:"Shape",url:"",version:"1.1.0",typeNS:"",typeName:"",typeNSName:"",maxFeatures:null,filter:null,opacity:1,fillOpacity:1,style:{color:"black",weight:1,opacity:1,fillOpacity:1},namespaceUri:""},state:{},initialize:function(t,e){L.setOptions(this,t),this.state={exist:"exist"},this._layers={},this.readFormat=e||new L.Format.GML({crs:this.options.crs,geometryField:this.options.geometryField}),this.options.typeNSName=this.namespaceName(this.options.typeName),this.options.srsName=this.options.crs.code,this._updateOpacity();var n=this;this.describeFeatureType(function(){n.options.showExisting&&n.loadFeatures(n.options.filter)},function(t){n.fire("error",{error:new Error(t)})})},namespaceName:function(t){return this.options.typeNS+":"+t},describeFeatureType:function(t,e){var n=L.XmlUtil.createElementNS("wfs:DescribeFeatureType",{service:"WFS",version:this.options.version});n.appendChild(L.XmlUtil.createElementNS("TypeName",{},{value:this.options.typeNSName}));var i=this;L.Util.request({url:this.options.url,data:L.XmlUtil.serializeXmlDocumentString(n),headers:this.options.headers||{},success:function(n){var r=L.XmlUtil.parseOwsExceptionReport(n);if(r)return void("function"===typeof e&&e(r.message));var o=L.XmlUtil.parseXml(n),s=o.documentElement;i.readFormat.setFeatureDescription(s),i.options.namespaceUri=s.attributes.targetNamespace.value,"function"===typeof t&&t()},error:function(t){"function"===typeof e&&e(t)}})},getFeature:function(t){var e=L.XmlUtil.createElementNS("wfs:GetFeature",{service:"WFS",version:this.options.version,maxFeatures:this.options.maxFeatures,outputFormat:this.readFormat.outputFormat}),n=e.appendChild(L.XmlUtil.createElementNS("wfs:Query",{typeName:this.options.typeNSName,srsName:this.options.srsName}));return t&&n.appendChild(L.filter(t)),e},loadFeatures:function(t){var e=this;L.Util.request({url:this.options.url,data:L.XmlUtil.serializeXmlDocumentString(e.getFeature(t)),headers:this.options.headers||{},success:function(t){var n=L.XmlUtil.parseOwsExceptionReport(t);if(n)return e.fire("error",{error:new Error(n.message)}),e;var i=e.readFormat.responseToLayers(t,{coordsToLatLng:e.options.coordsToLatLng,pointToLayer:e.options.pointToLayer});return"function"===typeof e.options.style?i.forEach(function(t){t.state=e.state.exist,t.setStyle&&t.setStyle(e.options.style(t)),e.addLayer(t)}):(i.forEach(function(t){t.state=e.state.exist,e.addLayer(t)}),e.setStyle(e.options.style)),e.fire("load",{responseText:t}),e},error:function(t){return e.fire("error",{error:new Error(t)}),e}})},getCapabilities:function(t,e){var n=this._capabilities;if(n&&"function"===typeof t)return void t(n);var i=L.XmlUtil.createElementNS("wfs:GetCapabilities",{service:"WFS",version:this.options.version}),r=this;L.Util.request({url:this.options.url,data:L.XmlUtil.serializeXmlDocumentString(i),headers:this.options.headers||{},success:function(i){var o=L.XmlUtil.parseOwsExceptionReport(i);if(o)return void("function"===typeof e&&e(new Error(o.message)));try{n=L.XmlUtil.parseXml(i).documentElement}catch(t){return void("function"===typeof e&&e(t))}r._capabilities=n,"function"===typeof t&&t(n)},error:function(t){"function"===typeof e&&e(new Error(t))}})},getBoundingBox:function(t,e){var n=this._boundingBox;if(n&&"function"===typeof t)return void t(n);var i=this;this.getCapabilities(function(e){for(var r=e.getElementsByTagName("FeatureTypeList")[0],o=r.getElementsByTagName("FeatureType"),s=0,a=o.length;s<a;s++){var u=o[s];if(L.XmlUtil.getNodeText(u.getElementsByTagName("Name")[0])===i.options.typeNSName){var l=u.getElementsByTagNameNS(L.XmlUtil.namespaces.ows,"WGS84BoundingBox")[0],h=l.getElementsByTagNameNS(L.XmlUtil.namespaces.ows,"LowerCorner")[0],c=l.getElementsByTagNameNS(L.XmlUtil.namespaces.ows,"UpperCorner")[0],p=L.XmlUtil.getNodeText(h),f=L.XmlUtil.getNodeText(c),d=p.split(" ").reverse(),m=f.split(" ").reverse();n=L.latLngBounds([d,m]);break}}i._boundingBox=n,"function"===typeof t&&t(n)},function(t){"function"===typeof e&&e(new Error(t))})},setOpacity:function(t,e){return this.options.opacity=t,this.options.fillOpacity=e||t,this._updateOpacity(),this},_updateOpacity:function(){var t=L.extend(this.options.style||{},{opacity:this.options.opacity,fillOpacity:this.options.fillOpacity});this.setStyle(t)}}),L.wfs=function(t,e){return new L.WFS(t,e)},L.WFST=L.WFS.extend({options:{forceMulti:!1},initialize:function(t,e){L.WFS.prototype.initialize.call(this,t,e),this.state=L.extend(this.state,{insert:"insertElement",update:"updateElement",remove:"removeElement"}),this.changes={}},addLayer:function(t){if(L.FeatureGroup.prototype.addLayer.call(this,t),t.feature||(t.feature={properties:{}}),!t.state){t.state=this.state.insert;var e=this.getLayerId(t);this.changes[e]=t}return this},removeLayer:function(t){L.FeatureGroup.prototype.removeLayer.call(this,t);var e=this.getLayerId(t);if(e in this.changes){var n=this.changes[e];n.state===this.state.insert?delete this.changes[e]:n.state=this.state.remove}else t.state=this.state.remove,this.changes[e]=t},editLayer:function(t){t.state!==this.state.insert&&(t.state=this.state.update);var e=this.getLayerId(t);return this.changes[e]=t,this},save:function(){var t=L.XmlUtil.createElementNS("wfs:Transaction",{service:"WFS",version:this.options.version}),e=[];for(var n in this.changes){var i=this.changes[n],r=this[i.state](i);t.appendChild(r),i.state===this.state.insert&&e.push(i)}var o=this;return L.Util.request({url:this.options.url,data:L.XmlUtil.serializeXmlDocumentString(t),headers:this.options.headers||{},withCredentials:!0,success:function(t){var n=L.XmlUtil.parseXml(t),i=L.XmlUtil.parseOwsExceptionReport(n);if(null!==i)return void o.fire("save:failed",i);for(var r=L.XmlUtil.evaluate("//wfs:InsertResults/wfs:Feature/ogc:FeatureId/@fid",n),s=[],a=r.iterateNext();a;)s.push(new L.Filter.GmlObjectID(a.value)),a=r.iterateNext();e.forEach(function(t){L.FeatureGroup.prototype.removeLayer.call(o,t)}),o.once("load",function(){o.fire("save:success"),o.changes={}}),o.loadFeatures(s)},error:function(t){o.fire("save:failed",t)}}),this}}),L.wfst=function(t,e){return new L.WFST(t,e)},L.WFST.include({gmlFeature:function(t){var e=L.XmlUtil.createElementNS(this.options.typeNSName,{},{uri:this.options.namespaceUri}),n=t.feature;for(var i in n.properties)e.appendChild(this.gmlProperty(i,n.properties[i]));return e.appendChild(this.gmlProperty(this.options.geometryField,t.toGml(this.options.crs,this.options.forceMulti))),e},gmlProperty:function(t,e){var n=L.XmlUtil.createElementNS(this.namespaceName(t));return e instanceof Element?n.appendChild(e):null===e||void 0===e||""===e?L.XmlUtil.setAttributes(n,{"xsi:nil":!0}):n.appendChild(L.XmlUtil.createTextNode(e)),n},wfsProperty:function(t,e){var n=L.XmlUtil.createElementNS("wfs:Property");n.appendChild(L.XmlUtil.createElementNS("wfs:Name",{},{value:t}));var i=L.XmlUtil.createElementNS("wfs:Value");return e instanceof Element?i.appendChild(e):i.appendChild(L.XmlUtil.createTextNode(e)),n.appendChild(i),n}}),L.WFST.include({insertElement:function(t){var e=L.XmlUtil.createElementNS("wfs:Insert");return e.appendChild(this.gmlFeature(t)),e},updateElement:function(t){var e=L.XmlUtil.createElementNS("wfs:Update",{typeName:this.options.typeNSName}),n=t.feature;for(var i in n.properties)n.properties.hasOwnProperty(i)&&e.appendChild(this.wfsProperty(i,n.properties[i]));e.appendChild(this.wfsProperty(this.namespaceName(this.options.geometryField),t.toGml(this.options.crs,this.options.forceMulti)));var r=new L.Filter.GmlObjectID(t.feature.id);return e.appendChild(L.filter(r)),e},removeElement:function(t){var e=L.XmlUtil.createElementNS("wfs:Delete",{typeName:this.options.typeNSName}),n=new L.Filter.GmlObjectID(t.feature.id);return e.appendChild(L.filter(n)),e}})}(window,document);var _v=function(t){function e(){return uc(this,e),cc(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){this.layer=vg.featureGroup().addTo(this.context.map),this.loadTrigger(this.props.map),Object(Vl.b)(this.layer,"click").pipe(Object(Hl.h)(function(t){return console.log(t.layer.feature.properties.name)})).subscribe()}},{key:"shouldComponentUpdate",value:function(t){return null===this.props.map||void 0===this.props.map||null===this.props.position||void 0===this.props.position||(null!==t.map||null!==t.position)&&(t.map!==this.props.map||t.position!==this.props.position)}},{key:"componentWillUpdate",value:function(t){t.map!==this.props.map&&this.loadTrigger(t.map),t.position!==this.props.position&&this.checkPosition(t.position)}},{key:"loadTrigger",value:function(t){var e=this;Object(Vl.c)(t).pipe(Object(Hl.h)(function(){return e.layer.clearLayers()}),Object(Hl.a)(function(t){return null!==t&&void 0!==t&&null!==t.triggerLayerId&&void 0!==t.triggerLayerId}),Object(Hl.d)(function(t){var e=vg.XmlUtil.createElementNS("GetFeature",{service:"WFS",version:"1.1.0",outputFormat:"application/json"});return e.appendChild(vg.XmlUtil.createElementNS("Query",{typeName:t.triggerLayerId,srsName:"EPSG:3857"})),e}),Object(Hl.c)(function(e){return Object(Kl.a)({url:ah+"/"+t.triggerLayerId.split(":")[0]+"/wfs",method:"POST",body:vg.XmlUtil.serializeXmlDocumentString(e),headers:{"Content-Type":"application/json"}})}),Object(Hl.a)(function(t){return 200===t.status}),Object(Hl.d)(function(t){return t.response}),Object(Hl.h)(function(t){return vg.Proj.geoJson(t,{style:{color:"transparent"}}).addTo(e.layer)})).subscribe()}},{key:"checkPosition",value:function(t){var e=this;Object(Vl.c)(t).pipe(Object(Hl.a)(function(){return void 0!==e.layer.getLayers()&&null!==e.layer&&e.layer.getLayers().length>0}),Object(Hl.h)(function(t){return console.log(t.feature.properties.name)})).subscribe()}},{key:"render",value:function(){return!1}}]),e}(Wl.Component);_v.defaultProps={position:null,map:null},_v.propTypes={position:ql.a.object,map:ql.a.object},_v.contextTypes={map:ql.a.object};var vv=function(t){function e(t){uc(this,e);var n=cc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.initPopup=function(){n.layers=[],n.context.map.eachLayer(function(t){n.layers.push(t)}),Object(Vl.a)(n.layers).pipe(Object(Hl.a)(function(t){return void 0!==t.data}),Object(Hl.h)(function(t){switch(t.data.type){case th:t.bindPopup(n.showNodePopup(t.data),{closeButton:!1});break;case ih:t.bindPopup(n.showTargetPopup(t.data),{closeButton:!1});break;case $l:t.bindPopup(n.showLampPopup(t.data),{closeButton:!1});break;case nh:t.bindPopup(n.showSeniorPopup(t.data),{closeButton:!1});break;case eh:t.bindPopup(n.showNursePopup(t.data),{closeButton:!1});break;case oh:t.bindPopup(n.showUserPopup(t.data),{closeButton:!1});break;case rh:t.bindPopup(n.showSupporterPopup(t.data),{closeButton:!1})}})).subscribe()},n.showNodePopup=function(t){return"<div class='popup' style='margin-left:50px;margin-bottom:-10px;background:url("+nf+") no-repeat'><span style='display:block;'><strong>\u84dd\u7259\u8282\u70b9\u4fe1\u606f</strong></span><span style='display:block;'>\u5730\u5740:"+(t.mac_address?t.mac_address:"")+"</span><span style='display:block;'>\u7ecf\u5ea6:"+t.longitude.toFixed(5)+"</span><span style='display:block;'>\u7eac\u5ea6:"+t.latitude.toFixed(5)+"</span></div>"},n.showTargetPopup=function(t){return"<div class='popup' style='margin-left:50px;margin-bottom:-10px;background:url("+nf+") no-repeat'><span style='display:block;'><strong>\u76ee\u6807\u4fe1\u606f</strong></span><span style='display:block;'>\u7ecf\u5ea6:"+t.longitude.toFixed(5)+"</span><span style='display:block;'>\u7eac\u5ea6:"+t.latitude.toFixed(5)+"</span></div>"},n.showLampPopup=function(t){return"<div class='popup' style='margin-left:50px;margin-bottom:-10px;background:url("+nf+") no-repeat'><span style='display:block;'><strong>\u5b9a\u4f4d\u706f\u4fe1\u606f</strong></span><span style='display:block;'>\u7ecf\u5ea6:"+t.longitude.toFixed(5)+"</span><span style='display:block;'>\u7eac\u5ea6:"+t.latitude.toFixed(5)+"</span></div>"},n.showSeniorPopup=function(t){var e="undefined"!==typeof android&&"undefined"!==typeof android.showSenior?"<span class='detail-btn' onclick={android.showSenior("+t.id+")}>\u67e5\u770b\u8be6\u60c5</span>":"";return"<div class='popup' style='margin-left:50px;margin-bottom:-10px;background:url("+nf+") no-repeat'><span style='display:block;'><strong>\u8001\u4eba\u4fe1\u606f</strong>"+status+"</span><span style='display:block;'>\u7535\u8bdd: xxxxxxx</span><br/><span style='display:block;'>\u4f4d\u7f6e: xxxxxxx</span><span style='display:block;'>\u5176\u4ed6: xxxxxxx</span>"+e+"</div>"},n.showNursePopup=function(t){var e="undefined"!==typeof android&&"undefined"!==typeof android.showNurse?"<span class='detail-btn' onclick={android.showNurse("+t.id+")}>\u67e5\u770b\u8be6\u60c5</span>":"";return"<div class='popup' style='margin-left:50px;margin-bottom:-10px;background:url("+nf+") no-repeat'><span style='display:block;'><strong>\u62a4\u58eb\u4fe1\u606f</strong>"+status+"<span style='display:block;'>\u7535\u8bdd: xxxxxxx</span><br/><span style='display:block;'>\u4f4d\u7f6e: xxxxxxx</span><span style='display:block;'>\u5176\u4ed6: xxxxxxx</span>"+e+"</div>"},n.showUserPopup=function(t){var e="undefined"!==typeof android&&"undefined"!==typeof android.showUser?"<span class='detail-btn' onclick={android.showUser("+t.id+")}>\u67e5\u770b\u8be6\u60c5</span>":"",i=n.getPopupStatus(t.updateTime);return"<div class='popup' style='margin-left:50px;margin-bottom:-10px;background:url("+nf+") no-repeat'><div><img src=\""+ef+"\"/><span class='title'><strong>"+(t.name?t.name:"")+"</strong>"+i+"</span></div><div class='subtitle'>"+(t.company&&t.company.name?t.company.name:"")+"</div><span class='subsubtitle'>"+(t.id?t.id:"")+"</span>"+e+"</div>"},n.showSupporterPopup=function(t){var e="undefined"!==typeof android&&"undefined"!==typeof android.showSupporter?"<span class='detail-btn' onclick={android.showSupporter("+t.id+")}>\u67e5\u770b\u8be6\u60c5</span>":"",i=n.getPopupStatus(t.updateTime);return"<div class='popup' style='margin-left:50px;background:url("+nf+") no-repeat'><div><img src=\""+tf+"\"/><span class='title'><strong>"+t.name+"</strong>"+i+"</span></div><div class='subtitle'>"+(t.company&&t.company.name?t.company.name:"")+"</div><span class='subsubtitle'>\u7528\u6237ID: "+t.id+"</span>"+e+"</div>"},n.getPopupStatus=function(t){var e=Math.floor(((new Date).getTime()-new Date(t).getTime())/1e3);return e>0&&e<5?'<span class="dot-green"></span>':e<300?'<span class="dot-orange"></span>':e<1800?'<span class="dot-red"></span>':e<3600?'<span class="dot-grey"></span>':""},n.feature=null,n.layers=[],n}return hc(e,t),lc(e,[{key:"componentDidMount",value:function(){var t=this;this.context.map.eachLayer(function(e){t.layers.push(e)}),this.initPopup()}},{key:"componentWillUpdate",value:function(t){t.update!==this.props.update&&this.initPopup()}},{key:"render",value:function(){return null}}]),e}(Wl.Component);vv.defaultProps={update:!1,select:null,onFeatureClick:function(){return!0}},vv.propTypes={update:ql.a.bool,select:ql.a.object,onFeatureClick:ql.a.func},vv.contextTypes={map:ql.a.object};i('/* required styles */\r\n\r\n.leaflet-pane,\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow,\r\n.leaflet-tile-container,\r\n.leaflet-pane > svg,\r\n.leaflet-pane > canvas,\r\n.leaflet-zoom-box,\r\n.leaflet-image-layer,\r\n.leaflet-layer {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\t}\r\n.leaflet-container {\r\n\toverflow: hidden;\r\n\t}\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\t-webkit-user-select: none;\r\n\t   -moz-user-select: none;\r\n\t        user-select: none;\r\n\t  -webkit-user-drag: none;\r\n\t}\r\n/* Safari renders non-retina tile on retina better with this, but Chrome is worse */\r\n.leaflet-safari .leaflet-tile {\r\n\timage-rendering: -webkit-optimize-contrast;\r\n\t}\r\n/* hack that prevents hw layers "stretching" when loading new tiles */\r\n.leaflet-safari .leaflet-tile-container {\r\n\twidth: 1600px;\r\n\theight: 1600px;\r\n\t-webkit-transform-origin: 0 0;\r\n\t}\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\tdisplay: block;\r\n\t}\r\n/* .leaflet-container svg: reset svg max-width decleration shipped in Joomla! (joomla.org) 3.x */\r\n/* .leaflet-container img: map is broken in FF if you have max-width: 100% on tiles */\r\n.leaflet-container .leaflet-overlay-pane svg,\r\n.leaflet-container .leaflet-marker-pane img,\r\n.leaflet-container .leaflet-shadow-pane img,\r\n.leaflet-container .leaflet-tile-pane img,\r\n.leaflet-container img.leaflet-image-layer,\r\n.leaflet-container .leaflet-tile {\r\n\tmax-width: none !important;\r\n\tmax-height: none !important;\r\n\t}\r\n\r\n.leaflet-container.leaflet-touch-zoom {\r\n\t-ms-touch-action: pan-x pan-y;\r\n\ttouch-action: pan-x pan-y;\r\n\t}\r\n.leaflet-container.leaflet-touch-drag {\r\n\t-ms-touch-action: pinch-zoom;\r\n\t/* Fallback for FF which doesn\'t support pinch-zoom */\r\n\ttouch-action: none;\r\n\ttouch-action: pinch-zoom;\r\n}\r\n.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom {\r\n\t-ms-touch-action: none;\r\n\ttouch-action: none;\r\n}\r\n.leaflet-container {\r\n\t-webkit-tap-highlight-color: transparent;\r\n}\r\n.leaflet-container a {\r\n\t-webkit-tap-highlight-color: rgba(51, 181, 229, 0.4);\r\n}\r\n.leaflet-tile {\r\n\tfilter: inherit;\r\n\tvisibility: hidden;\r\n\t}\r\n.leaflet-tile-loaded {\r\n\tvisibility: inherit;\r\n\t}\r\n.leaflet-zoom-box {\r\n\twidth: 0;\r\n\theight: 0;\r\n\t-moz-box-sizing: border-box;\r\n\t     box-sizing: border-box;\r\n\tz-index: 800;\r\n\t}\r\n/* workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=888319 */\r\n.leaflet-overlay-pane svg {\r\n\t-moz-user-select: none;\r\n\t}\r\n\r\n.leaflet-pane         { z-index: 400; }\r\n\r\n.leaflet-tile-pane    { z-index: 200; }\r\n.leaflet-overlay-pane { z-index: 400; }\r\n.leaflet-shadow-pane  { z-index: 500; }\r\n.leaflet-marker-pane  { z-index: 600; }\r\n.leaflet-tooltip-pane   { z-index: 650; }\r\n.leaflet-popup-pane   { z-index: 700; }\r\n\r\n.leaflet-map-pane canvas { z-index: 100; }\r\n.leaflet-map-pane svg    { z-index: 200; }\r\n\r\n.leaflet-vml-shape {\r\n\twidth: 1px;\r\n\theight: 1px;\r\n\t}\r\n.lvml {\r\n\tbehavior: url(#default#VML);\r\n\tdisplay: inline-block;\r\n\tposition: absolute;\r\n\t}\r\n\r\n\r\n/* control positioning */\r\n\r\n.leaflet-control {\r\n\tposition: relative;\r\n\tz-index: 800;\r\n\tpointer-events: visiblePainted; /* IE 9-10 doesn\'t have auto */\r\n\tpointer-events: auto;\r\n\t}\r\n.leaflet-top,\r\n.leaflet-bottom {\r\n\tposition: absolute;\r\n\tz-index: 1000;\r\n\tpointer-events: none;\r\n\t}\r\n.leaflet-top {\r\n\ttop: 0;\r\n\t}\r\n.leaflet-right {\r\n\tright: 0;\r\n\t}\r\n.leaflet-bottom {\r\n\tbottom: 0;\r\n\t}\r\n.leaflet-left {\r\n\tleft: 0;\r\n\t}\r\n.leaflet-control {\r\n\tfloat: left;\r\n\tclear: both;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tfloat: right;\r\n\t}\r\n.leaflet-top .leaflet-control {\r\n\tmargin-top: 10px;\r\n\t}\r\n.leaflet-bottom .leaflet-control {\r\n\tmargin-bottom: 10px;\r\n\t}\r\n.leaflet-left .leaflet-control {\r\n\tmargin-left: 10px;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tmargin-right: 10px;\r\n\t}\r\n\r\n\r\n/* zoom and fade animations */\r\n\r\n.leaflet-fade-anim .leaflet-tile {\r\n\twill-change: opacity;\r\n\t}\r\n.leaflet-fade-anim .leaflet-popup {\r\n\topacity: 0;\r\n\t-webkit-transition: opacity 0.2s linear;\r\n\t   -moz-transition: opacity 0.2s linear;\r\n\t        transition: opacity 0.2s linear;\r\n\t}\r\n.leaflet-fade-anim .leaflet-map-pane .leaflet-popup {\r\n\topacity: 1;\r\n\t}\r\n.leaflet-zoom-animated {\r\n\t-webkit-transform-origin: 0 0;\r\n\t    -ms-transform-origin: 0 0;\r\n\t        transform-origin: 0 0;\r\n\t}\r\n.leaflet-zoom-anim .leaflet-zoom-animated {\r\n\twill-change: transform;\r\n\t}\r\n.leaflet-zoom-anim .leaflet-zoom-animated {\r\n\t-webkit-transition: -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t   -moz-transition:    -moz-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t        transition:         transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t}\r\n.leaflet-zoom-anim .leaflet-tile,\r\n.leaflet-pan-anim .leaflet-tile {\r\n\t-webkit-transition: none;\r\n\t   -moz-transition: none;\r\n\t        transition: none;\r\n\t}\r\n\r\n.leaflet-zoom-anim .leaflet-zoom-hide {\r\n\tvisibility: hidden;\r\n\t}\r\n\r\n\r\n/* cursors */\r\n\r\n.leaflet-interactive {\r\n\tcursor: pointer;\r\n\t}\r\n.leaflet-grab {\r\n\tcursor: -webkit-grab;\r\n\tcursor:    -moz-grab;\r\n\tcursor:         grab;\r\n\t}\r\n.leaflet-crosshair,\r\n.leaflet-crosshair .leaflet-interactive {\r\n\tcursor: crosshair;\r\n\t}\r\n.leaflet-popup-pane,\r\n.leaflet-control {\r\n\tcursor: auto;\r\n\t}\r\n.leaflet-dragging .leaflet-grab,\r\n.leaflet-dragging .leaflet-grab .leaflet-interactive,\r\n.leaflet-dragging .leaflet-marker-draggable {\r\n\tcursor: move;\r\n\tcursor: -webkit-grabbing;\r\n\tcursor:    -moz-grabbing;\r\n\tcursor:         grabbing;\r\n\t}\r\n\r\n/* marker & overlays interactivity */\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow,\r\n.leaflet-image-layer,\r\n.leaflet-pane > svg path,\r\n.leaflet-tile-container {\r\n\tpointer-events: none;\r\n\t}\r\n\r\n.leaflet-marker-icon.leaflet-interactive,\r\n.leaflet-image-layer.leaflet-interactive,\r\n.leaflet-pane > svg path.leaflet-interactive {\r\n\tpointer-events: visiblePainted; /* IE 9-10 doesn\'t have auto */\r\n\tpointer-events: auto;\r\n\t}\r\n\r\n/* visual tweaks */\r\n\r\n.leaflet-container {\r\n\tbackground: #ddd;\r\n\toutline: 0;\r\n\t}\r\n.leaflet-container a {\r\n\tcolor: #0078A8;\r\n\t}\r\n.leaflet-container a.leaflet-active {\r\n\toutline: 2px solid orange;\r\n\t}\r\n.leaflet-zoom-box {\r\n\tborder: 2px dotted #38f;\r\n\tbackground: rgba(255,255,255,0.5);\r\n\t}\r\n\r\n\r\n/* general typography */\r\n.leaflet-container {\r\n\tfont: 12px/1.5 "Helvetica Neue", Arial, Helvetica, sans-serif;\r\n\t}\r\n\r\n\r\n/* general toolbar styles */\r\n\r\n.leaflet-bar {\r\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n\tborder-radius: 4px;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-bar a:hover {\r\n\tbackground-color: #fff;\r\n\tborder-bottom: 1px solid #ccc;\r\n\twidth: 26px;\r\n\theight: 26px;\r\n\tline-height: 26px;\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n\ttext-decoration: none;\r\n\tcolor: black;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-control-layers-toggle {\r\n\tbackground-position: 50% 50%;\r\n\tbackground-repeat: no-repeat;\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-bar a:hover {\r\n\tbackground-color: #f4f4f4;\r\n\t}\r\n.leaflet-bar a:first-child {\r\n\tborder-top-left-radius: 4px;\r\n\tborder-top-right-radius: 4px;\r\n\t}\r\n.leaflet-bar a:last-child {\r\n\tborder-bottom-left-radius: 4px;\r\n\tborder-bottom-right-radius: 4px;\r\n\tborder-bottom: none;\r\n\t}\r\n.leaflet-bar a.leaflet-disabled {\r\n\tcursor: default;\r\n\tbackground-color: #f4f4f4;\r\n\tcolor: #bbb;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-bar a {\r\n\twidth: 30px;\r\n\theight: 30px;\r\n\tline-height: 30px;\r\n\t}\r\n.leaflet-touch .leaflet-bar a:first-child {\r\n\tborder-top-left-radius: 2px;\r\n\tborder-top-right-radius: 2px;\r\n\t}\r\n.leaflet-touch .leaflet-bar a:last-child {\r\n\tborder-bottom-left-radius: 2px;\r\n\tborder-bottom-right-radius: 2px;\r\n\t}\r\n\r\n/* zoom control */\r\n\r\n.leaflet-control-zoom-in,\r\n.leaflet-control-zoom-out {\r\n\tfont: bold 18px \'Lucida Console\', Monaco, monospace;\r\n\ttext-indent: 1px;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-zoom-in, .leaflet-touch .leaflet-control-zoom-out  {\r\n\tfont-size: 22px;\r\n\t}\r\n\r\n\r\n/* layers control */\r\n\r\n.leaflet-control-layers {\r\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.4);\r\n\tbackground: #fff;\r\n\tborder-radius: 5px;\r\n\t}\r\n.leaflet-control-layers-toggle {\r\n\tbackground-image: url(images/layers.png);\r\n\twidth: 36px;\r\n\theight: 36px;\r\n\t}\r\n.leaflet-retina .leaflet-control-layers-toggle {\r\n\tbackground-image: url(images/layers-2x.png);\r\n\tbackground-size: 26px 26px;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers-toggle {\r\n\twidth: 44px;\r\n\theight: 44px;\r\n\t}\r\n.leaflet-control-layers .leaflet-control-layers-list,\r\n.leaflet-control-layers-expanded .leaflet-control-layers-toggle {\r\n\tdisplay: none;\r\n\t}\r\n.leaflet-control-layers-expanded .leaflet-control-layers-list {\r\n\tdisplay: block;\r\n\tposition: relative;\r\n\t}\r\n.leaflet-control-layers-expanded {\r\n\tpadding: 6px 10px 6px 6px;\r\n\tcolor: #333;\r\n\tbackground: #fff;\r\n\t}\r\n.leaflet-control-layers-scrollbar {\r\n\toverflow-y: scroll;\r\n\toverflow-x: hidden;\r\n\tpadding-right: 5px;\r\n\t}\r\n.leaflet-control-layers-selector {\r\n\tmargin-top: 2px;\r\n\tposition: relative;\r\n\ttop: 1px;\r\n\t}\r\n.leaflet-control-layers label {\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-control-layers-separator {\r\n\theight: 0;\r\n\tborder-top: 1px solid #ddd;\r\n\tmargin: 5px -10px 5px -6px;\r\n\t}\r\n\r\n/* Default icon URLs */\r\n.leaflet-default-icon-path {\r\n\tbackground-image: url(images/marker-icon.png);\r\n\t}\r\n\r\n\r\n/* attribution and scale controls */\r\n\r\n.leaflet-container .leaflet-control-attribution {\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.7);\r\n\tmargin: 0;\r\n\t}\r\n.leaflet-control-attribution,\r\n.leaflet-control-scale-line {\r\n\tpadding: 0 5px;\r\n\tcolor: #333;\r\n\t}\r\n.leaflet-control-attribution a {\r\n\ttext-decoration: none;\r\n\t}\r\n.leaflet-control-attribution a:hover {\r\n\ttext-decoration: underline;\r\n\t}\r\n.leaflet-container .leaflet-control-attribution,\r\n.leaflet-container .leaflet-control-scale {\r\n\tfont-size: 11px;\r\n\t}\r\n.leaflet-left .leaflet-control-scale {\r\n\tmargin-left: 5px;\r\n\t}\r\n.leaflet-bottom .leaflet-control-scale {\r\n\tmargin-bottom: 5px;\r\n\t}\r\n.leaflet-control-scale-line {\r\n\tborder: 2px solid #777;\r\n\tborder-top: none;\r\n\tline-height: 1.1;\r\n\tpadding: 2px 5px 1px;\r\n\tfont-size: 11px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\t-moz-box-sizing: border-box;\r\n\t     box-sizing: border-box;\r\n\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.5);\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child) {\r\n\tborder-top: 2px solid #777;\r\n\tborder-bottom: none;\r\n\tmargin-top: -2px;\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child):not(:last-child) {\r\n\tborder-bottom: 2px solid #777;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-attribution,\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tbox-shadow: none;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tborder: 2px solid rgba(0,0,0,0.2);\r\n\tbackground-clip: padding-box;\r\n\t}\r\n\r\n\r\n/* popup */\r\n\r\n.leaflet-popup {\r\n\tposition: absolute;\r\n\ttext-align: center;\r\n\tmargin-bottom: 20px;\r\n\t}\r\n.leaflet-popup-content-wrapper {\r\n\tpadding: 1px;\r\n\ttext-align: left;\r\n\tborder-radius: 12px;\r\n\t}\r\n.leaflet-popup-content {\r\n\tmargin: 13px 19px;\r\n\tline-height: 1.4;\r\n\t}\r\n.leaflet-popup-content p {\r\n\tmargin: 18px 0;\r\n\t}\r\n.leaflet-popup-tip-container {\r\n\twidth: 40px;\r\n\theight: 20px;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\tmargin-left: -20px;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\t}\r\n.leaflet-popup-tip {\r\n\twidth: 17px;\r\n\theight: 17px;\r\n\tpadding: 1px;\r\n\r\n\tmargin: -10px auto 0;\r\n\r\n\t-webkit-transform: rotate(45deg);\r\n\t   -moz-transform: rotate(45deg);\r\n\t    -ms-transform: rotate(45deg);\r\n\t        transform: rotate(45deg);\r\n\t}\r\n.leaflet-popup-content-wrapper,\r\n.leaflet-popup-tip {\r\n\tbackground: white;\r\n\tcolor: #333;\r\n\tbox-shadow: 0 3px 14px rgba(0,0,0,0.4);\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tpadding: 4px 4px 0 0;\r\n\tborder: none;\r\n\ttext-align: center;\r\n\twidth: 18px;\r\n\theight: 14px;\r\n\tfont: 16px/14px Tahoma, Verdana, sans-serif;\r\n\tcolor: #c3c3c3;\r\n\ttext-decoration: none;\r\n\tfont-weight: bold;\r\n\tbackground: transparent;\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button:hover {\r\n\tcolor: #999;\r\n\t}\r\n.leaflet-popup-scrolled {\r\n\toverflow: auto;\r\n\tborder-bottom: 1px solid #ddd;\r\n\tborder-top: 1px solid #ddd;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-popup-content-wrapper {\r\n\tzoom: 1;\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\twidth: 24px;\r\n\tmargin: 0 auto;\r\n\r\n\t-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";\r\n\tfilter: progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678);\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip-container {\r\n\tmargin-top: -1px;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-control-zoom,\r\n.leaflet-oldie .leaflet-control-layers,\r\n.leaflet-oldie .leaflet-popup-content-wrapper,\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\tborder: 1px solid #999;\r\n\t}\r\n\r\n\r\n/* div icon */\r\n\r\n.leaflet-div-icon {\r\n\tbackground: #fff;\r\n\tborder: 1px solid #666;\r\n\t}\r\n\r\n\r\n/* Tooltip */\r\n/* Base styles for the element that has a tooltip */\r\n.leaflet-tooltip {\r\n\tposition: absolute;\r\n\tpadding: 6px;\r\n\tbackground-color: #fff;\r\n\tborder: 1px solid #fff;\r\n\tborder-radius: 3px;\r\n\tcolor: #222;\r\n\twhite-space: nowrap;\r\n\t-webkit-user-select: none;\r\n\t-moz-user-select: none;\r\n\t-ms-user-select: none;\r\n\tuser-select: none;\r\n\tpointer-events: none;\r\n\tbox-shadow: 0 1px 3px rgba(0,0,0,0.4);\r\n\t}\r\n.leaflet-tooltip.leaflet-clickable {\r\n\tcursor: pointer;\r\n\tpointer-events: auto;\r\n\t}\r\n.leaflet-tooltip-top:before,\r\n.leaflet-tooltip-bottom:before,\r\n.leaflet-tooltip-left:before,\r\n.leaflet-tooltip-right:before {\r\n\tposition: absolute;\r\n\tpointer-events: none;\r\n\tborder: 6px solid transparent;\r\n\tbackground: transparent;\r\n\tcontent: "";\r\n\t}\r\n\r\n/* Directions */\r\n\r\n.leaflet-tooltip-bottom {\r\n\tmargin-top: 6px;\r\n}\r\n.leaflet-tooltip-top {\r\n\tmargin-top: -6px;\r\n}\r\n.leaflet-tooltip-bottom:before,\r\n.leaflet-tooltip-top:before {\r\n\tleft: 50%;\r\n\tmargin-left: -6px;\r\n\t}\r\n.leaflet-tooltip-top:before {\r\n\tbottom: 0;\r\n\tmargin-bottom: -12px;\r\n\tborder-top-color: #fff;\r\n\t}\r\n.leaflet-tooltip-bottom:before {\r\n\ttop: 0;\r\n\tmargin-top: -12px;\r\n\tmargin-left: -6px;\r\n\tborder-bottom-color: #fff;\r\n\t}\r\n.leaflet-tooltip-left {\r\n\tmargin-left: -6px;\r\n}\r\n.leaflet-tooltip-right {\r\n\tmargin-left: 6px;\r\n}\r\n.leaflet-tooltip-left:before,\r\n.leaflet-tooltip-right:before {\r\n\ttop: 50%;\r\n\tmargin-top: -6px;\r\n\t}\r\n.leaflet-tooltip-left:before {\r\n\tright: 0;\r\n\tmargin-right: -12px;\r\n\tborder-left-color: #fff;\r\n\t}\r\n.leaflet-tooltip-right:before {\r\n\tleft: 0;\r\n\tmargin-left: -12px;\r\n\tborder-right-color: #fff;\r\n\t}\r\n');var bv=function(t){function e(t){uc(this,e);var n=cc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={update:!1},n}return hc(e,t),lc(e,[{key:"componentWillUpdate",value:function(t){t.lamps===this.props.lamps&&t.nodes===this.props.nodes&&t.targets===this.props.targets&&t.nurses===this.props.nurses&&t.seniors===this.props.seniors&&t.supporters===this.props.supporters&&t.users===this.props.users||this.setState({update:!this.state.update})}},{key:"render",value:function(){var t=this;return Xl.a.createElement(kg,{maxZoom:this.props.maxZoom,minZoom:this.props.minZoom,zoom:this.props.zoom},Xl.a.createElement(Fg,{key:"outdoor"}),Xl.a.createElement(jg,{map:this.props.map,key:"indoor"}),this.props.showPoi?Xl.a.createElement(Dg,{map:this.props.map,key:"poi"}):null,Xl.a.createElement(Gg,{data:this.props.lamps.filter(function(e){return!t.props.map||t.props.map&&t.props.map.floor&&e.floor===t.props.map.floor}),key:$l,createLabel:Eg}),Xl.a.createElement(Gg,{data:this.props.nodes.filter(function(e){return!t.props.map||t.props.map&&t.props.map.floor&&e.floor===t.props.map.floor}),key:th,createLabel:Sg}),Xl.a.createElement(Gg,{data:this.props.targets.filter(function(e){return!t.props.map||t.props.map&&t.props.map.floor&&e.floor===t.props.map.floor}),key:ih,createLabel:Mg}),Xl.a.createElement(Gg,{data:this.props.nurses.filter(function(e){return!t.props.map||t.props.map&&t.props.map.floor&&e.tag.floor===t.props.map.floor}),key:eh,createLabel:Tg}),Xl.a.createElement(Gg,{data:this.props.seniors.filter(function(e){return!t.props.map||t.props.map&&t.props.map.floor&&e.tag.floor===t.props.map.floor}),key:nh,createLabel:Cg}),Xl.a.createElement(Gg,{data:this.props.supporters.filter(function(e){return!t.props.map||t.props.map&&t.props.map.floor&&e.floor===t.props.map.floor}),key:rh,createLabel:Lg}),Xl.a.createElement(Gg,{data:this.props.users.filter(function(e){return!t.props.map||t.props.map&&t.props.map.floor&&e.floor===t.props.map.floor}),key:oh,createLabel:Pg}),Xl.a.createElement(zg,{position:!this.props.map||this.props.map&&this.props.map.floor&&this.props.position&&this.props.position.floor===this.props.map.floor?this.props.position:null,key:"position"}),Xl.a.createElement(vv,{key:"label_select",onFeatureClick:this.props.onFeatureClick,select:this.props.select&&this.props.select.floor===this.props.map.floor?this.props.select:null,update:this.state.update}),Xl.a.createElement(Bg,{routes:this.props.routes,map:this.props.map,key:"route"}),Xl.a.createElement(Ug,{key:"event",onSingleClick:this.props.onSingleClick,onDoubleClick:this.props.onDoubleClick}),Xl.a.createElement(Zg,{position:this.props.position,map:this.props.map,key:"control"}),Xl.a.createElement(_v,{position:this.props.position,map:this.props.map,key:"trigger"}))}}]),e}(Wl.Component);bv.defaultProps={map:null,zoom:16,maxZoom:Ag,minZoom:Og,showPoi:!0,routes:null,position:null,lamps:[],nodes:[],targets:[],nurses:[],seniors:[],supporters:[],users:[],select:null,onFeatureClick:function(){return!0},onSingleClick:function(){return!1},onDoubleClick:function(){return!1}},bv.propTypes={map:ql.a.object,zoom:ql.a.number,minZoom:ql.a.number,maxZoom:ql.a.number,showPoi:ql.a.bool,lamps:ql.a.array,nodes:ql.a.array,targets:ql.a.array,nurses:ql.a.array,seniors:ql.a.array,supporters:ql.a.array,users:ql.a.array,routes:ql.a.object,position:ql.a.object,select:ql.a.object,onFeatureClick:ql.a.func,onSingleClick:ql.a.func,onDoubleClick:ql.a.func};i("body {\n  margin: 0;\n  padding: 0;\n  font-family: sans-serif;\n}\n.leaflet-container {\n  background: #ffffff;\n}\n\n.leaflet-popup-content-wrapper {\n  background: none;\n  box-shadow: none;\n}\n\n.leaflet-popup-tip {\n  width: 0;\n  height: 0;\n}\n\n.popup {\n  position: absolute;\n  bottom: -40px;\n  left: 20px;\n  -webkit-filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\n  filter: drop-shadow(0 1px 4px rgba(0, 0, 0, 0.2));\n  padding-top: 10px;\n  padding-left: 25px;\n  padding-right: 15px;\n  min-width: 250px;\n  min-height: 152px;\n}\n\n.popup .avatar {\n  background-color: rgba(252, 139, 78, 1);\n}\n\n.popup.title {\n  vertical-align: super;\n  margin-left: 10px;\n  line-height: 24px;\n  color: rgba(0, 0, 0, 0.85);\n  font-size: 24px;\n  text-align: left;\n  font-family: PingFangSC-Medium;\n}\n\n.popup.subtitle {\n  margin-top: 10px;\n  width: 180px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-left: 40px;\n  line-height: 20px;\n  color: rgba(0, 0, 0, 0.45);\n  font-size: 14px;\n  text-align: left;\n  font-family: PingFangSC-Regular;\n}\n\n.popup .subsubtitle {\n  width: 180px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  margin-left: 40px;\n  line-height: 32px;\n  color: rgba(0, 0, 0, 0.45);\n  font-size: 16px;\n  text-align: left;\n  font-family: HelveticaNeue;\n}\n\n.ol-viewport {\n  background: #ffffff;\n}\n\n.detail-btn {\n  background: #00ace2;\n  float: right;\n  margin-top: 10px;\n  margin-right: 10px;\n  color: white;\n  padding: 5px;\n  font-size: 11px;\n}\n\n.dot-green {\n  height: 12px;\n  width: 12px;\n  float: right;\n  margin-right: 20px;\n  margin-top: 10px;\n  background-color: #15d605;\n  border-radius: 50%;\n  display: inline-block;\n}\n\n.dot-orange {\n  height: 12px;\n  width: 12px;\n  float: right;\n  margin-right: 20px;\n  margin-top: 10px;\n  background-color: #faad25;\n  border-radius: 50%;\n  display: inline-block;\n}\n\n.dot-red {\n  height: 12px;\n  width: 12px;\n  float: right;\n  margin-right: 20px;\n  margin-top: 10px;\n  background-color: #d0021b;\n  border-radius: 50%;\n  display: inline-block;\n}\n\n.dot-grey {\n  height: 12px;\n  width: 12px;\n  float: right;\n  margin-right: 20px;\n  margin-top: 10px;\n  background-color: #9b9b9b;\n  border-radius: 50%;\n  display: inline-block;\n}\n\n.floor-select {\n  position: absolute;\n  height: 30px;\n  right: 20px;\n  top: 20px;\n  background: white;\n  border-radius: 3px;\n  font-size: 12px;\n  box-shadow: 0 3px 0 rgba(0, 0, 0, 0.05);\n  overflow: hidden;\n}\n\n.back {\n  position: absolute;\n  left: 20px;\n  top: 20px;\n}\n\n.back img {\n  height: 40px;\n  width: 40px;\n}\n");var xv=function(t){function e(t){uc(this,e);var n=cc(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={type:n.props.type,map:n.props.map,maps:n.props.maps,nodes:n.props.nodes,targets:n.props.targets,nurses:n.props.nurses,seniors:n.props.seniors,lamps:n.props.lamps,supporters:n.props.supporters,users:n.props.users,routes:n.props.routes,position:n.props.position,showPoi:n.props.showPoi,select:n.props.select,heatmap:n.props.heatmap,history:n.props.history},n}return hc(e,t),lc(e,[{key:"componentWillReceiveProps",value:function(t){this.setState({type:t.type,map:t.map,maps:t.maps,nodes:t.nodes,targets:t.targets,nurses:t.nurses,seniors:t.seniors,lamps:t.lamps,supporters:t.supporters,users:t.users,routes:t.routes,position:t.position,showPoi:t.showPoi,select:t.select,heatmap:t.heatmap,history:t.history})}},{key:"componentDidMount",value:function(){var t=this;window.loadOpenlayers=function(){return t.setState({type:"openlayers"})},window.loadLeaflet=function(){return t.setState({type:"leaflet"})},window.loadMap=function(e){window.setIndoor(),t.setState({map:e})},window.loadIndoor=function(e){window.setIndoor(),t.setState({map:e[0],maps:e})},window.loadOutdoor=function(){window.setOutdoor(),t.setState({map:null,maps:[]})},window.loadNodes=function(e){return t.setState({nodes:e})},window.loadTargets=function(e){return t.setState({targets:e})},window.loadNurses=function(e){return t.setState({nurses:e})},window.loadLamps=function(e){return t.setState({lamps:e})},window.loadSupporters=function(e){return t.setState({supporters:e})},window.loadUsers=function(e){return t.setState({users:e})},window.loadSeniors=function(e){return t.setState({seniors:e})},window.loadRoutes=function(e){return t.setState({routes:e})},window.loadPosition=function(e,n){return t.setState({position:e},function(){return n?setTimeout(function(){return window.center()},2):null})},window.togglePoi=function(){return t.setState(function(t){return{showPoi:!t.showPoi}})},window.loadSelect=function(e){return t.setState({select:e})},window.loadHeatmap=function(e){return t.setState({heatmap:e})},window.loadHistory=function(e){return t.setState({history:e})}}},{key:"render",value:function(){var t=this;return Xl.a.createElement("div",null,"openlayers"===this.state.type?Xl.a.createElement(_g,{map:this.state.map,lamps:this.state.lamps,nodes:this.state.nodes,targets:this.state.targets,nurses:this.state.nurses,seniors:this.state.seniors,supporters:this.state.supporters,users:this.state.users,routes:this.state.routes,position:this.state.position,showPoi:this.state.showPoi,select:this.state.select,heatmap:this.state.heatmap,history:this.state.history,onFeatureClick:this.props.onFeatureClick,onSingleClick:this.props.onSingleClick,onDoubleClick:this.props.onDoubleClick}):"","leaflet"===this.state.type?Xl.a.createElement(bv,{map:this.state.map,lamps:this.state.lamps,nodes:this.state.nodes,targets:this.state.targets,nurses:this.state.nurses,seniors:this.state.seniors,supporters:this.state.supporters,users:this.state.users,routes:this.state.routes,position:this.state.position,showPoi:this.state.showPoi,select:this.state.select,heatmap:this.state.heatmap,history:this.state.history,onFeatureClick:this.props.onFeatureClick,onSingleClick:this.props.onSingleClick,onDoubleClick:this.props.onDoubleClick}):"",this.state.maps&&this.state.maps.length?Xl.a.createElement("div",{className:"back"},Xl.a.createElement("img",{onClick:function(){return window.loadOutdoor()},src:"data:image/png;base64,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"})):"",this.state.maps&&this.state.maps.length?Xl.a.createElement("select",{className:"floor-select",onChange:function(e){return t.setState({map:t.state.maps.filter(function(t){return t.floor===parseInt(e.target.value)}).shift()})}},this.state.maps.map(function(t,e){return Xl.a.createElement("option",{key:e,value:t.floor},t.floor+" \u697c")})):"")}}]),e}(Wl.Component);xv.defaultProps={type:"openlayers",map:null,maps:[],heatmap:null,history:null,showPoi:!0,routes:null,position:null,lamps:[],nodes:[],targets:[],nurses:[],seniors:[],supporters:[],users:[],select:null,onFeatureClick:function(){return!0},onSingleClick:function(){return!1},onDoubleClick:function(){return!1}},xv.propTypes={type:ql.a.string,map:ql.a.object,maps:ql.a.array,heatmap:ql.a.object,history:ql.a.object,showPoi:ql.a.bool,lamps:ql.a.array,nodes:ql.a.array,targets:ql.a.array,nurses:ql.a.array,seniors:ql.a.array,supporters:ql.a.array,users:ql.a.array,routes:ql.a.object,position:ql.a.object,select:ql.a.object,onFeatureClick:ql.a.func,onSingleClick:ql.a.func,onDoubleClick:ql.a.func},e.a=xv}).call(e,n(18))},function(t,e,n){"use strict";t.exports=n(106)},function(t,e,n){"use strict";function i(t,e,n,i,r,o,s,a){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,s,a],l=0;t=Error(e.replace(/%s/g,function(){return u[l++]})),t.name="Invariant Violation"}throw t.framesToPop=1,t}}function r(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=0;r<e;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);i(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function o(t,e,n){this.props=t,this.context=e,this.refs=j,this.updater=n||F}function s(){}function a(t,e,n){this.props=t,this.context=e,this.refs=j,this.updater=n||F}function u(t,e,n){var i=void 0,r={},o=null,s=null;if(null!=e)for(i in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(o=""+e.key),e)U.call(e,i)&&!B.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(1===a)r.children=n;else if(1<a){for(var u=Array(a),l=0;l<a;l++)u[l]=arguments[l+2];r.children=u}if(t&&t.defaultProps)for(i in a=t.defaultProps)void 0===r[i]&&(r[i]=a[i]);return{$$typeof:E,type:t,key:o,ref:s,props:r,_owner:z.current}}function l(t,e){return{$$typeof:E,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function h(t){return"object"===typeof t&&null!==t&&t.$$typeof===E}function c(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}function p(t,e,n,i){if(W.length){var r=W.pop();return r.result=t,r.keyPrefix=e,r.func=n,r.context=i,r.count=0,r}return{result:t,keyPrefix:e,func:n,context:i,count:0}}function f(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>W.length&&W.push(t)}function d(t,e,n,i){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var s=!1;if(null===t)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case E:case S:s=!0}}if(s)return n(i,t,""===e?"."+g(t,0):e),1;if(s=0,e=""===e?".":e+":",Array.isArray(t))for(var a=0;a<t.length;a++){o=t[a];var u=e+g(o,a);s+=d(o,u,n,i)}else if(null===t||"object"!==typeof t?u=null:(u=N&&t[N]||t["@@iterator"],u="function"===typeof u?u:null),"function"===typeof u)for(t=u.call(t),a=0;!(o=t.next()).done;)o=o.value,u=e+g(o,a++),s+=d(o,u,n,i);else"object"===o&&(n=""+t,r("31","[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return s}function m(t,e,n){return null==t?0:d(t,"",e,n)}function g(t,e){return"object"===typeof t&&null!==t&&null!=t.key?c(t.key):e.toString(36)}function y(t,e){t.func.call(t.context,e,t.count++)}function _(t,e,n){var i=t.result,r=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?v(t,i,n,function(t){return t}):null!=t&&(h(t)&&(t=l(t,r+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(Z,"$&/")+"/")+n)),i.push(t))}function v(t,e,n,i,r){var o="";null!=n&&(o=(""+n).replace(Z,"$&/")+"/"),e=p(e,o,i,r),m(t,_,e),f(e)}function b(){var t=G.current;return null===t&&r("307"),t}var x=n(107),w="function"===typeof Symbol&&Symbol.for,E=w?Symbol.for("react.element"):60103,S=w?Symbol.for("react.portal"):60106,T=w?Symbol.for("react.fragment"):60107,C=w?Symbol.for("react.strict_mode"):60108,M=w?Symbol.for("react.profiler"):60114,L=w?Symbol.for("react.provider"):60109,P=w?Symbol.for("react.context"):60110,O=w?Symbol.for("react.concurrent_mode"):60111,A=w?Symbol.for("react.forward_ref"):60112,R=w?Symbol.for("react.suspense"):60113,I=w?Symbol.for("react.memo"):60115,k=w?Symbol.for("react.lazy"):60116,N="function"===typeof Symbol&&Symbol.iterator,F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j={};o.prototype.isReactComponent={},o.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&r("85"),this.updater.enqueueSetState(this,t,e,"setState")},o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},s.prototype=o.prototype;var D=a.prototype=new s;D.constructor=a,x(D,o.prototype),D.isPureReactComponent=!0;var G={current:null},z={current:null},U=Object.prototype.hasOwnProperty,B={key:!0,ref:!0,__self:!0,__source:!0},Z=/\/+/g,W=[],X={Children:{map:function(t,e,n){if(null==t)return t;var i=[];return v(t,i,null,e,n),i},forEach:function(t,e,n){if(null==t)return t;e=p(null,null,e,n),m(t,y,e),f(e)},count:function(t){return m(t,function(){return null},null)},toArray:function(t){var e=[];return v(t,e,null,function(t){return t}),e},only:function(t){return h(t)||r("143"),t}},createRef:function(){return{current:null}},Component:o,PureComponent:a,createContext:function(t,e){return void 0===e&&(e=null),t={$$typeof:P,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider={$$typeof:L,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:A,render:t}},lazy:function(t){return{$$typeof:k,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:I,type:t,compare:void 0===e?null:e}},useCallback:function(t,e){return b().useCallback(t,e)},useContext:function(t,e){return b().useContext(t,e)},useEffect:function(t,e){return b().useEffect(t,e)},useImperativeHandle:function(t,e,n){return b().useImperativeHandle(t,e,n)},useDebugValue:function(){},useLayoutEffect:function(t,e){return b().useLayoutEffect(t,e)},useMemo:function(t,e){return b().useMemo(t,e)},useReducer:function(t,e,n){return b().useReducer(t,e,n)},useRef:function(t){return b().useRef(t)},useState:function(t){return b().useState(t)},Fragment:T,StrictMode:C,Suspense:R,createElement:u,cloneElement:function(t,e,n){(null===t||void 0===t)&&r("267",t);var i=void 0,o=x({},t.props),s=t.key,a=t.ref,u=t._owner;if(null!=e){void 0!==e.ref&&(a=e.ref,u=z.current),void 0!==e.key&&(s=""+e.key);var l=void 0;t.type&&t.type.defaultProps&&(l=t.type.defaultProps);for(i in e)U.call(e,i)&&!B.hasOwnProperty(i)&&(o[i]=void 0===e[i]&&void 0!==l?l[i]:e[i])}if(1===(i=arguments.length-2))o.children=n;else if(1<i){l=Array(i);for(var h=0;h<i;h++)l[h]=arguments[h+2];o.children=l}return{$$typeof:E,type:t.type,key:s,ref:a,props:o,_owner:u}},createFactory:function(t){var e=u.bind(null,t);return e.type=t,e},isValidElement:h,version:"16.8.4",unstable_ConcurrentMode:O,unstable_Profiler:M,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:G,ReactCurrentOwner:z,assign:x}},V={default:X},H=V&&X||V;t.exports=H.default||H},function(t,e,n){"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(t){i[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,a,u=i(t),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var h in n)o.call(n,h)&&(u[h]=n[h]);if(r){a=r(n);for(var c=0;c<a.length;c++)s.call(n,a[c])&&(u[a[c]]=n[a[c]])}}return u}},function(t,e,n){"use strict";var i=(n(2),n(60),n(62),n(15),n(6),n(63),n(44),n(32),n(68),n(9),n(64),n(116),n(119),n(65),n(5),n(1),n(31),n(42),n(29),n(16),n(120),n(22),n(23),n(30),n(59),n(69),n(121),n(122),n(48),n(33),n(50),n(8),n(128),n(12));n.d(e,"a",function(){return i.a});var r=n(129);n.d(e,"b",function(){return r.a});var o=(n(130),n(131),n(132),n(133),n(77),n(78),n(45));n.d(e,"c",function(){return o.a});n(134),n(135),n(79),n(136),n(47),n(80),n(137),n(51),n(28)},function(t,e,n){"use strict";function i(t,e,n){if(t){if(t instanceof r.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}e.a=i;var r=n(1),o=n(41),s=n(57)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),r=n(20),o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return i.a(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,i):e.flush(this)},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),r=n(5),o=function(t){function e(e,n){return t.call(this)||this}return i.a(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),r=n(21),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n(0),r=n(114),o=n(20),s=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return i.a(e,t),e.prototype.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=r.a.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,i);0===e.actions.length&&(r.a.clearImmediate(n),e.scheduled=void 0)},e}(o.a)},function(t,e,n){"use strict";function i(t){var e=o[t];e&&e()}n.d(e,"a",function(){return s});var r=1,o={},s={setImmediate:function(t){var e=r++;return o[e]=t,Promise.resolve().then(function(){return i(e)}),e},clearImmediate:function(t){delete o[t]}}},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),r=n(21),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}},e}(r.a)},function(t,e,n){"use strict";var i=n(117),r=n(118);i.a},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),r=n(20),o=function(t){function e(e,n){var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i}return i.a(e,t),e.prototype.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,n,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,i);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n(0),r=n(21),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,i=-1,r=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++i<r&&(t=n.shift()));if(this.active=!1,e){for(;++i<r&&(t=n.shift());)t.unsubscribe();throw e}},e}(r.a)},function(t,e,n){"use strict";var i=n(0),r=n(20),o=n(21),s=(o.a,function(t){function e(e,n,i){void 0===i&&(i=e.index+=1);var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.index=i,r.active=!0,r.index=e.index=i,r}return i.a(e,t),e.prototype.schedule=function(n,i){if(void 0===i&&(i=0),!this.id)return t.prototype.schedule.call(this,n,i);this.active=!1;var r=new e(this.scheduler,this.work);return this.add(r),r.schedule(n,i)},e.prototype.requestAsyncId=function(t,n,i){void 0===i&&(i=0),this.delay=t.frame+i;var r=t.actions;return r.push(this),r.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(r.a))},function(t,e,n){"use strict";n(2)},function(t,e,n){"use strict";n(2),n(32),n(10),n(39),n(7),n(11)},function(t,e,n){"use strict";n(2),n(32),n(10),n(39),n(11),n(7)},function(t,e,n){"use strict";function i(t){return t&&"function"===typeof t[r.a]}e.a=i;var r=n(15)},function(t,e,n){"use strict";function i(t){return t&&"function"===typeof t[r.a]}e.a=i;var r=n(24)},function(t,e,n){"use strict";function i(t,e){return e?new r.a(function(n){var i=new o.a;return i.add(e.schedule(function(){return t.then(function(t){i.add(e.schedule(function(){n.next(t),i.add(e.schedule(function(){return n.complete()}))}))},function(t){i.add(e.schedule(function(){return n.error(t)}))})})),i}):new r.a(Object(s.a)(t))}e.a=i;var r=n(2),o=n(5),s=n(71)},function(t,e,n){"use strict";function i(t,e){if(!t)throw new Error("Iterable cannot be null");return e?new r.a(function(n){var i,r=new o.a;return r.add(function(){i&&"function"===typeof i.return&&i.return()}),r.add(e.schedule(function(){i=t[s.a](),r.add(e.schedule(function(){if(!n.closed){var t,e;try{var r=i.next();t=r.value,e=r.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}}))})),r}):new r.a(Object(a.a)(t))}e.a=i;var r=n(2),o=n(5),s=n(24),a=n(72)},function(t,e,n){"use strict";function i(t,e){return e?new r.a(function(n){var i=new o.a;return i.add(e.schedule(function(){var r=t[s.a]();i.add(r.subscribe({next:function(t){i.add(e.schedule(function(){return n.next(t)}))},error:function(t){i.add(e.schedule(function(){return n.error(t)}))},complete:function(){i.add(e.schedule(function(){return n.complete()}))}}))})),i}):new r.a(Object(a.a)(t))}e.a=i;var r=n(2),o=n(5),s=n(15),a=n(73)},function(t,e,n){"use strict";var i=n(0),r=(n(2),n(7),n(8),n(4)),o=n(3);n(10),o.a},function(t,e,n){"use strict";function i(t,e,n,o){return Object(h.a)(n)&&(o=n,n=void 0),o?i(t,e,n).pipe(Object(c.a)(function(t){return Object(l.a)(t)?o.apply(void 0,t):o(t)})):new u.a(function(i){function o(t){arguments.length>1?i.next(Array.prototype.slice.call(arguments)):i.next(t)}r(t,e,o,i,n)})}function r(t,e,n,i,u){var l;if(a(t)){var h=t;t.addEventListener(e,n,u),l=function(){return h.removeEventListener(e,n,u)}}else if(s(t)){var c=t;t.on(e,n),l=function(){return c.off(e,n)}}else if(o(t)){var p=t;t.addListener(e,n),l=function(){return p.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var f=0,d=t.length;f<d;f++)r(t[f],e,n,i,u)}i.add(l)}function o(t){return t&&"function"===typeof t.addListener&&"function"===typeof t.removeListener}function s(t){return t&&"function"===typeof t.on&&"function"===typeof t.off}function a(t){return t&&"function"===typeof t.addEventListener&&"function"===typeof t.removeEventListener}e.a=i;var u=n(2),l=n(7),h=n(19),c=n(10);Object.prototype.toString},function(t,e,n){"use strict";n(2),n(7),n(19),n(10)},function(t,e,n){"use strict";n(2),n(16),n(11)},function(t,e,n){"use strict";n(50),n(8)},function(t,e,n){"use strict";n(2),n(9),n(34)},function(t,e,n){"use strict";n(2),n(12),n(7),n(8)},function(t,e,n){"use strict";n(2),n(5)},function(t,e,n){"use strict";n(2)},function(t,e,n){"use strict";n(2),n(12),n(8)},function(t,e,n){"use strict";var i=(n(81),n(139),n(140),n(141),n(142),n(143),n(144),n(145),n(146),n(147),n(148),n(76),n(82),n(149),n(150),n(151),n(152),n(26),n(153),n(154),n(155),n(156),n(84),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(27));n.d(e,"a",function(){return i.a});var r=(n(164),n(86),n(165),n(166));n.d(e,"b",function(){return r.a});var o=(n(62),n(167),n(168),n(169),n(10));n.d(e,"d",function(){return o.a});var s=(n(170),n(171),n(172),n(173),n(49),n(25));n.d(e,"c",function(){return s.a});var a=(n(174),n(175),n(176),n(17),n(66),n(177),n(178));n.d(e,"e",function(){return a.a});var u=(n(179),n(181));n.d(e,"f",function(){return u.a});var l=(n(182),n(183),n(184),n(185),n(186),n(36));n.d(e,"g",function(){return l.a});var h=(n(187),n(188),n(189),n(190),n(43),n(191),n(192),n(54),n(193),n(194),n(195),n(196),n(197),n(198),n(199),n(200),n(201),n(202),n(204),n(55),n(205),n(52),n(53),n(206),n(207),n(85));n.d(e,"h",function(){return h.a});var c=(n(87),n(208),n(35),n(209),n(210),n(88),n(211),n(212));n.d(e,"i",function(){return c.a});n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220)},function(t,e,n){"use strict";n(9),n(81),n(80)},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(4),s=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.closingNotifier))},t}(),a=function(t){function e(e,n){var i=t.call(this,e)||this;return i.buffer=[],i.add(Object(o.a)(i,n)),i}return i.a(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,n,i,r){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(r.a)},function(t,e,n){"use strict";var i=n(0),r=n(1);r.a,r.a},function(t,e,n){"use strict";function i(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function r(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,i=t.subscriber,r=t.scheduler,s=i.openContext(),a=this;i.closed||(i.add(s.closeAction=r.schedule(o,n,{subscriber:i,context:s})),a.schedule(t,e))}function o(t){var e=t.subscriber,n=t.context;e.closeContext(n)}var s=n(0),a=(n(9),n(1)),u=(n(11),function(){function t(){this.buffer=[]}return t}());a.a},function(t,e,n){"use strict";var i=n(0),r=n(5),o=n(4),s=n(3);s.a},function(t,e,n){"use strict";var i=n(0),r=n(5),o=n(3),s=n(4);o.a},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(14),s=n(4);r.a},function(t,e,n){"use strict";n(48)},function(t,e,n){"use strict";n(7),n(48),n(12)},function(t,e,n){"use strict";n(33)},function(t,e,n){"use strict";n(82)},function(t,e,n){"use strict";var i=n(0),r=n(1);r.a},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(4);r.a},function(t,e,n){"use strict";function i(t){t.debouncedNext()}var r=n(0),o=n(1);n(9),o.a},function(t,e,n){"use strict";var i=n(0),r=n(9),o=n(83),s=n(1),a=n(31),u=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.delay,this.scheduler))},t}(),l=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.delay=n,r.scheduler=i,r.queue=[],r.active=!1,r.errored=!1,r}return i.a(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,i=t.scheduler,r=t.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new h(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(a.a.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(a.a.createComplete()),this.unsubscribe()},e}(s.a),h=function(){function t(t,e){this.time=t,this.notification=e}return t}()},function(t,e,n){"use strict";var i=n(0),r=n(1),o=n(2),s=n(3),a=n(4),u=(s.a,o.a,function(t){function e(e,n){var i=t.call(this)||this;return i.parent=e,i.source=n,i.sourceSubscribed=!1,i}return i.a(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(r.a))},function(t,e,n){"use strict";var i=n(0),r=n(1);r.a},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(4);r.a},function(t,e,n){"use strict";n(84)},function(t,e,n){"use strict";n(22),n(27),n(35),n(26),n(52)},function(t,e,n){"use strict";n(13),n(46),n(8),n(33),n(11)},function(t,e,n){"use strict";var i=n(0),r=n(1);r.a},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(4);r.a},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(14),s=n(4);n(10),n(12),r.a},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(4);r.a},function(t,e,n){"use strict";var i=n(0),r=n(1),o=n(5);r.a},function(t,e,n){"use strict";n(86)},function(t,e,n){"use strict";function i(t,e){var n=arguments.length>=2;return function(i){return i.pipe(t?Object(o.a)(function(e,n){return t(e,n,i)}):l.a,Object(s.a)(1),n?Object(a.a)(e):Object(u.a)(function(){return new r.a}))}}e.a=i;var r=n(23),o=n(27),s=n(52),a=n(26),u=n(35),l=n(16)},function(t,e,n){"use strict";var i=n(0),r=n(1);r.a},function(t,e,n){"use strict";var i=n(0),r=n(1),o=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new s(t))},t}(),s=function(t){function e(e){return t.call(this,e)||this}return i.a(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(r.a)},function(t,e,n){"use strict";n(23),n(27),n(53),n(35),n(26),n(16)},function(t,e,n){"use strict";var i=n(0),r=n(1);r.a},function(t,e,n){"use strict";var i=n(0),r=n(1),o=n(31);r.a},function(t,e,n){"use strict";n(36)},function(t,e,n){"use strict";n(77)},function(t,e,n){"use strict";n(25)},function(t,e,n){"use strict";var i=n(0),r=n(4),o=n(3),s=n(14);o.a},function(t,e,n){"use strict";n(36)},function(t,e,n){"use strict";var i=n(0),r=(n(12),n(7),n(3)),o=n(14),s=n(4);r.a},function(t,e,n){"use strict";function i(){return function(t){return t.lift(new s)}}e.a=i;var r=n(0),o=n(1),s=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new a(t))},t}(),a=function(t){function e(e){var n=t.call(this,e)||this;return n.hasPrev=!1,n}return r.a(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(o.a)},function(t,e,n){"use strict";n(180),n(27)},function(t,e,n){"use strict";function i(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}e.a=i},function(t,e,n){"use strict";function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(e){return Object(o.a)(r(t,n))(e)}}function r(t,e){return function(n){for(var i=n,r=0;r<e;r++){var o=i[t[r]];if("undefined"===typeof o)return;i=o}return i}}e.a=i;var o=n(10)},function(t,e,n){"use strict";n(6),n(17)},function(t,e,n){"use strict";n(63),n(17)},function(t,e,n){"use strict";n(32),n(17)},function(t,e,n){"use strict";n(44),n(17)},function(t,e,n){"use strict";n(7),n(79)},function(t,e,n){"use strict";var i=n(0),r=n(1);n(8),r.a},function(t,e,n){"use strict";var i=n(0),r=n(6),o=n(3),s=n(4);o.a},function(t,e,n){"use strict";var i=n(0),r=n(1);r.a},function(t,e,n){"use strict";var i=n(0),r=n(6),o=n(3),s=n(4);o.a},function(t,e,n){"use strict";var i=n(0),r=n(3);n(4),r.a},function(t,e,n){"use strict";function i(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}var r=n(0),o=n(1);n(9),o.a},function(t,e,n){"use strict";var i=n(0),r=n(1),o=(r.a,function(t){function e(e,n){var i=t.call(this,e)||this;return i.parent=n,i}return i.a(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(r.a))},function(t,e,n){"use strict";n(17),n(43),n(6)},function(t,e,n){"use strict";n(44)},function(t,e,n){"use strict";var i=n(0),r=n(1),o=n(23);r.a},function(t,e,n){"use strict";var i=n(0),r=n(1);r.a},function(t,e,n){"use strict";var i=n(0),r=n(1);n(22),r.a},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(14),s=n(4);r.a},function(t,e,n){"use strict";var i=n(0),r=n(1);r.a},function(t,e,n){"use strict";n(13),n(46),n(8),n(33),n(11)},function(t,e,n){"use strict";n(203)},function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n(0),r=n(2),o=n(68),s=n(34),a=function(t){function e(e,n,i){void 0===n&&(n=0),void 0===i&&(i=o.a);var r=t.call(this)||this;return r.source=e,r.delayTime=n,r.scheduler=i,(!Object(s.a)(n)||n<0)&&(r.delayTime=0),i&&"function"===typeof i.schedule||(r.scheduler=o.a),r}return i.a(e,t),e.create=function(t,n,i){return void 0===n&&(n=0),void 0===i&&(i=o.a),new e(t,n,i)},e.dispatch=function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))},e.prototype._subscribe=function(t){var n=this.delayTime,i=this.source;return this.scheduler.schedule(e.dispatch,n,{source:i,subscriber:t})},e}(r.a)},function(t,e,n){"use strict";n(55),n(16)},function(t,e,n){"use strict";n(55)},function(t,e,n){"use strict";var i=n(0),r=n(3);n(4),r.a},function(t,e,n){"use strict";var i=n(0),r=n(1);r.a},function(t,e,n){"use strict";function i(t){t.subscriber.clearThrottle()}var r=n(0),o=n(1);n(9),n(87),o.a},function(t,e,n){"use strict";n(9),n(54),n(50),n(10)},function(t,e,n){"use strict";n(9),n(69),n(88),n(47)},function(t,e,n){"use strict";n(9),n(10)},function(t,e,n){"use strict";function i(t,e,n){return 0===n?[e]:(t.push(e),t)}function r(){return Object(o.a)(i,[])}e.a=r;var o=n(36)},function(t,e,n){"use strict";var i=n(0),r=n(6),o=n(3);n(4),o.a},function(t,e,n){"use strict";var i=n(0),r=n(1),o=n(6);r.a},function(t,e,n){"use strict";function i(t){var e=t.subscriber,n=t.windowTimeSpan,i=t.window;i&&e.closeWindow(i),t.window=e.openWindow(),this.schedule(t,n)}function r(t){var e=t.windowTimeSpan,n=t.subscriber,i=t.scheduler,r=t.windowCreationInterval,s=n.openWindow(),a=this,u={action:a,subscription:null},l={subscriber:n,window:s,context:u};u.subscription=i.schedule(o,e,l),a.add(u.subscription),a.schedule(t,r)}function o(t){var e=t.subscriber,n=t.window,i=t.context;i&&i.action&&i.subscription&&i.action.remove(i.subscription),e.closeWindow(n)}var s=n(0),a=n(6),u=(n(9),n(1)),l=(n(34),n(11),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return s.a(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(a.a));u.a},function(t,e,n){"use strict";var i=n(0),r=n(6),o=n(5),s=n(3),a=n(4);s.a},function(t,e,n){"use strict";var i=n(0),r=n(6),o=n(3),s=n(4);o.a},function(t,e,n){"use strict";var i=n(0),r=n(3),o=n(4);r.a},function(t,e,n){"use strict";n(51)},function(t,e,n){"use strict";n(51)},function(t,e,n){t.exports=n(222)()},function(t,e,n){"use strict";function i(){}function r(){}var o=n(223);r.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,r,s){if(s!==o){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var i=n(225);n.d(e,"a",function(){return i.a});n(89)},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n(89),r=i.a.create},function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return s});var i="undefined"!==typeof window&&window,r="undefined"!==typeof self&&"undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,o="undefined"!==typeof t&&t,s=i||o||r}).call(e,n(18))},function(t,e,n){(function(t,i){var r;(function(){function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function s(t,e,n,i){for(var r=-1,o=null==t?0:t.length;++r<o;){var s=t[r];e(i,s,n(s),t)}return i}function a(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function u(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function l(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function h(t,e){for(var n=-1,i=null==t?0:t.length,r=0,o=[];++n<i;){var s=t[n];e(s,n,t)&&(o[r++]=s)}return o}function c(t,e){return!!(null==t?0:t.length)&&w(t,e,0)>-1}function p(t,e,n){for(var i=-1,r=null==t?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function f(t,e){for(var n=-1,i=null==t?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}function d(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}function m(t,e,n,i){var r=-1,o=null==t?0:t.length;for(i&&o&&(n=t[++r]);++r<o;)n=e(n,t[r],r,t);return n}function g(t,e,n,i){var r=null==t?0:t.length;for(i&&r&&(n=t[--r]);r--;)n=e(n,t[r],r,t);return n}function y(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function _(t){return t.split("")}function v(t){return t.match(je)||[]}function b(t,e,n){var i;return n(t,function(t,n,r){if(e(t,n,r))return i=n,!1}),i}function x(t,e,n,i){for(var r=t.length,o=n+(i?1:-1);i?o--:++o<r;)if(e(t[o],o,t))return o;return-1}function w(t,e,n){return e===e?q(t,e,n):x(t,S,n)}function E(t,e,n,i){for(var r=n-1,o=t.length;++r<o;)if(i(t[r],e))return r;return-1}function S(t){return t!==t}function T(t,e){var n=null==t?0:t.length;return n?O(t,e)/n:It}function C(t){return function(e){return null==e?nt:e[t]}}function M(t){return function(e){return null==t?nt:t[e]}}function L(t,e,n,i,r){return r(t,function(t,r,o){n=i?(i=!1,t):e(n,t,r,o)}),n}function P(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function O(t,e){for(var n,i=-1,r=t.length;++i<r;){var o=e(t[i]);o!==nt&&(n=n===nt?o:n+o)}return n}function A(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function R(t,e){return f(e,function(e){return[e,t[e]]})}function I(t){return function(e){return t(e)}}function k(t,e){return f(e,function(e){return t[e]})}function N(t,e){return t.has(e)}function F(t,e){for(var n=-1,i=t.length;++n<i&&w(e,t[n],0)>-1;);return n}function j(t,e){for(var n=t.length;n--&&w(e,t[n],0)>-1;);return n}function D(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function G(t){return"\\"+Tn[t]}function z(t,e){return null==t?nt:t[e]}function U(t){return gn.test(t)}function B(t){return yn.test(t)}function Z(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function W(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function X(t,e){return function(n){return t(e(n))}}function V(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n];s!==e&&s!==ut||(t[n]=ut,o[r++]=n)}return o}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Y(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function q(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function K(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}function J(t){return U(t)?$(t):Bn(t)}function Q(t){return U(t)?tt(t):_(t)}function $(t){for(var e=dn.lastIndex=0;dn.test(t);)++e;return e}function tt(t){return t.match(dn)||[]}function et(t){return t.match(mn)||[]}var nt,it=200,rt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ot="Expected a function",st="__lodash_hash_undefined__",at=500,ut="__lodash_placeholder__",lt=1,ht=2,ct=4,pt=1,ft=2,dt=1,mt=2,gt=4,yt=8,_t=16,vt=32,bt=64,xt=128,wt=256,Et=512,St=30,Tt="...",Ct=800,Mt=16,Lt=1,Pt=2,Ot=1/0,At=9007199254740991,Rt=1.7976931348623157e308,It=NaN,kt=4294967295,Nt=kt-1,Ft=kt>>>1,jt=[["ary",xt],["bind",dt],["bindKey",mt],["curry",yt],["curryRight",_t],["flip",Et],["partial",vt],["partialRight",bt],["rearg",wt]],Dt="[object Arguments]",Gt="[object Array]",zt="[object AsyncFunction]",Ut="[object Boolean]",Bt="[object Date]",Zt="[object DOMException]",Wt="[object Error]",Xt="[object Function]",Vt="[object GeneratorFunction]",Ht="[object Map]",Yt="[object Number]",qt="[object Null]",Kt="[object Object]",Jt="[object Proxy]",Qt="[object RegExp]",$t="[object Set]",te="[object String]",ee="[object Symbol]",ne="[object Undefined]",ie="[object WeakMap]",re="[object WeakSet]",oe="[object ArrayBuffer]",se="[object DataView]",ae="[object Float32Array]",ue="[object Float64Array]",le="[object Int8Array]",he="[object Int16Array]",ce="[object Int32Array]",pe="[object Uint8Array]",fe="[object Uint8ClampedArray]",de="[object Uint16Array]",me="[object Uint32Array]",ge=/\b__p \+= '';/g,ye=/\b(__p \+=) '' \+/g,_e=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ve=/&(?:amp|lt|gt|quot|#39);/g,be=/[&<>"']/g,xe=RegExp(ve.source),we=RegExp(be.source),Ee=/<%-([\s\S]+?)%>/g,Se=/<%([\s\S]+?)%>/g,Te=/<%=([\s\S]+?)%>/g,Ce=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Me=/^\w*$/,Le=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Pe=/[\\^$.*+?()[\]{}|]/g,Oe=RegExp(Pe.source),Ae=/^\s+|\s+$/g,Re=/^\s+/,Ie=/\s+$/,ke=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ne=/\{\n\/\* \[wrapped with (.+)\] \*/,Fe=/,? & /,je=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,De=/\\(\\)?/g,Ge=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ze=/\w*$/,Ue=/^[-+]0x[0-9a-f]+$/i,Be=/^0b[01]+$/i,Ze=/^\[object .+?Constructor\]$/,We=/^0o[0-7]+$/i,Xe=/^(?:0|[1-9]\d*)$/,Ve=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,He=/($^)/,Ye=/['\n\r\u2028\u2029\\]/g,qe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ke="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Je="["+Ke+"]",Qe="["+qe+"]",$e="[a-z\\xdf-\\xf6\\xf8-\\xff]",tn="[^\\ud800-\\udfff"+Ke+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",en="\\ud83c[\\udffb-\\udfff]",nn="(?:\\ud83c[\\udde6-\\uddff]){2}",rn="[\\ud800-\\udbff][\\udc00-\\udfff]",on="[A-Z\\xc0-\\xd6\\xd8-\\xde]",sn="(?:"+$e+"|"+tn+")",an="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",un="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",nn,rn].join("|")+")[\\ufe0e\\ufe0f]?"+an+")*",ln="[\\ufe0e\\ufe0f]?"+an+un,hn="(?:"+["[\\u2700-\\u27bf]",nn,rn].join("|")+")"+ln,cn="(?:"+["[^\\ud800-\\udfff]"+Qe+"?",Qe,nn,rn,"[\\ud800-\\udfff]"].join("|")+")",pn=RegExp("['\u2019]","g"),fn=RegExp(Qe,"g"),dn=RegExp(en+"(?="+en+")|"+cn+ln,"g"),mn=RegExp([on+"?"+$e+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[Je,on,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[Je,on+sn,"$"].join("|")+")",on+"?"+sn+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",on+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",hn].join("|"),"g"),gn=RegExp("[\\u200d\\ud800-\\udfff"+qe+"\\ufe0e\\ufe0f]"),yn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,_n=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],vn=-1,bn={};bn[ae]=bn[ue]=bn[le]=bn[he]=bn[ce]=bn[pe]=bn[fe]=bn[de]=bn[me]=!0,bn[Dt]=bn[Gt]=bn[oe]=bn[Ut]=bn[se]=bn[Bt]=bn[Wt]=bn[Xt]=bn[Ht]=bn[Yt]=bn[Kt]=bn[Qt]=bn[$t]=bn[te]=bn[ie]=!1;var xn={};xn[Dt]=xn[Gt]=xn[oe]=xn[se]=xn[Ut]=xn[Bt]=xn[ae]=xn[ue]=xn[le]=xn[he]=xn[ce]=xn[Ht]=xn[Yt]=xn[Kt]=xn[Qt]=xn[$t]=xn[te]=xn[ee]=xn[pe]=xn[fe]=xn[de]=xn[me]=!0,xn[Wt]=xn[Xt]=xn[ie]=!1;var wn={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},En={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Sn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Tn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Cn=parseFloat,Mn=parseInt,Ln="object"==typeof t&&t&&t.Object===Object&&t,Pn="object"==typeof self&&self&&self.Object===Object&&self,On=Ln||Pn||Function("return this")(),An="object"==typeof e&&e&&!e.nodeType&&e,Rn=An&&"object"==typeof i&&i&&!i.nodeType&&i,In=Rn&&Rn.exports===An,kn=In&&Ln.process,Nn=function(){try{var t=Rn&&Rn.require&&Rn.require("util").types;return t||kn&&kn.binding&&kn.binding("util")}catch(t){}}(),Fn=Nn&&Nn.isArrayBuffer,jn=Nn&&Nn.isDate,Dn=Nn&&Nn.isMap,Gn=Nn&&Nn.isRegExp,zn=Nn&&Nn.isSet,Un=Nn&&Nn.isTypedArray,Bn=C("length"),Zn=M(wn),Wn=M(En),Xn=M(Sn),Vn=function t(e){function n(t){if(eu(t)&&!pp(t)&&!(t instanceof _)){if(t instanceof r)return t;if(ph.call(t,"__wrapped__"))return Qo(t)}return new r(t)}function i(){}function r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=nt}function _(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=kt,this.__views__=[]}function M(){var t=new _(this.__wrapped__);return t.__actions__=Rr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Rr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Rr(this.__views__),t}function q(){if(this.__filtered__){var t=new _(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function $(){var t=this.__wrapped__.value(),e=this.__dir__,n=pp(t),i=e<0,r=n?t.length:0,o=wo(0,r,this.__views__),s=o.start,a=o.end,u=a-s,l=i?a:s-1,h=this.__iteratees__,c=h.length,p=0,f=Bh(u,this.__takeCount__);if(!n||!i&&r==u&&f==u)return mr(t,this.__actions__);var d=[];t:for(;u--&&p<f;){l+=e;for(var m=-1,g=t[l];++m<c;){var y=h[m],_=y.iteratee,v=y.type,b=_(g);if(v==Pt)g=b;else if(!b){if(v==Lt)continue t;break t}}d[p++]=g}return d}function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function je(){this.__data__=Qh?Qh(null):{},this.size=0}function qe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Ke(t){var e=this.__data__;if(Qh){var n=e[t];return n===st?nt:n}return ph.call(e,t)?e[t]:nt}function Je(t){var e=this.__data__;return Qh?e[t]!==nt:ph.call(e,t)}function Qe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Qh&&e===nt?st:e,this}function $e(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function tn(){this.__data__=[],this.size=0}function en(t){var e=this.__data__,n=Hn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Ch.call(e,n,1),--this.size,!0)}function nn(t){var e=this.__data__,n=Hn(e,t);return n<0?nt:e[n][1]}function rn(t){return Hn(this.__data__,t)>-1}function on(t,e){var n=this.__data__,i=Hn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function sn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function an(){this.size=0,this.__data__={hash:new tt,map:new(Yh||$e),string:new tt}}function un(t){var e=_o(this,t).delete(t);return this.size-=e?1:0,e}function ln(t){return _o(this,t).get(t)}function hn(t){return _o(this,t).has(t)}function cn(t,e){var n=_o(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function dn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new sn;++e<n;)this.add(t[e])}function mn(t){return this.__data__.set(t,st),this}function gn(t){return this.__data__.has(t)}function yn(t){var e=this.__data__=new $e(t);this.size=e.size}function wn(){this.__data__=new $e,this.size=0}function En(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Sn(t){return this.__data__.get(t)}function Tn(t){return this.__data__.has(t)}function Ln(t,e){var n=this.__data__;if(n instanceof $e){var i=n.__data__;if(!Yh||i.length<it-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new sn(i)}return n.set(t,e),this.size=n.size,this}function Pn(t,e){var n=pp(t),i=!n&&cp(t),r=!n&&!i&&dp(t),o=!n&&!i&&!r&&vp(t),s=n||i||r||o,a=s?A(t.length,oh):[],u=a.length;for(var l in t)!e&&!ph.call(t,l)||s&&("length"==l||r&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Oo(l,u))||a.push(l);return a}function An(t){var e=t.length;return e?t[Ki(0,e-1)]:nt}function Rn(t,e){return Yo(Rr(t),$n(e,0,t.length))}function kn(t){return Yo(Rr(t))}function Nn(t,e,n){(n===nt||Ua(t[e],n))&&(n!==nt||e in t)||Jn(t,e,n)}function Bn(t,e,n){var i=t[e];ph.call(t,e)&&Ua(i,n)&&(n!==nt||e in t)||Jn(t,e,n)}function Hn(t,e){for(var n=t.length;n--;)if(Ua(t[n][0],e))return n;return-1}function Yn(t,e,n,i){return hc(t,function(t,r,o){e(i,t,n(t),o)}),i}function qn(t,e){return t&&Ir(e,Fu(e),t)}function Kn(t,e){return t&&Ir(e,ju(e),t)}function Jn(t,e,n){"__proto__"==e&&Oh?Oh(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Qn(t,e){for(var n=-1,i=e.length,r=Ql(i),o=null==t;++n<i;)r[n]=o?nt:Iu(t,e[n]);return r}function $n(t,e,n){return t===t&&(n!==nt&&(t=t<=n?t:n),e!==nt&&(t=t>=e?t:e)),t}function ti(t,e,n,i,r,o){var s,u=e&lt,l=e&ht,h=e&ct;if(n&&(s=r?n(t,i,r,o):n(t)),s!==nt)return s;if(!tu(t))return t;var c=pp(t);if(c){if(s=To(t),!u)return Rr(t,s)}else{var p=wc(t),f=p==Xt||p==Vt;if(dp(t))return wr(t,u);if(p==Kt||p==Dt||f&&!r){if(s=l||f?{}:Co(t),!u)return l?Nr(t,Kn(s,t)):kr(t,qn(s,t))}else{if(!xn[p])return r?t:{};s=Mo(t,p,u)}}o||(o=new yn);var d=o.get(t);if(d)return d;if(o.set(t,s),_p(t))return t.forEach(function(i){s.add(ti(i,e,n,i,t,o))}),s;if(gp(t))return t.forEach(function(i,r){s.set(r,ti(i,e,n,r,t,o))}),s;var m=h?l?fo:po:l?ju:Fu,g=c?nt:m(t);return a(g||t,function(i,r){g&&(r=i,i=t[r]),Bn(s,r,ti(i,e,n,r,t,o))}),s}function ei(t){var e=Fu(t);return function(n){return ni(n,t,e)}}function ni(t,e,n){var i=n.length;if(null==t)return!i;for(t=ih(t);i--;){var r=n[i],o=e[r],s=t[r];if(s===nt&&!(r in t)||!o(s))return!1}return!0}function ii(t,e,n){if("function"!=typeof t)throw new sh(ot);return Tc(function(){t.apply(nt,n)},e)}function ri(t,e,n,i){var r=-1,o=c,s=!0,a=t.length,u=[],l=e.length;if(!a)return u;n&&(e=f(e,I(n))),i?(o=p,s=!1):e.length>=it&&(o=N,s=!1,e=new dn(e));t:for(;++r<a;){var h=t[r],d=null==n?h:n(h);if(h=i||0!==h?h:0,s&&d===d){for(var m=l;m--;)if(e[m]===d)continue t;u.push(h)}else o(e,d,i)||u.push(h)}return u}function oi(t,e){var n=!0;return hc(t,function(t,i,r){return n=!!e(t,i,r)}),n}function si(t,e,n){for(var i=-1,r=t.length;++i<r;){var o=t[i],s=e(o);if(null!=s&&(a===nt?s===s&&!pu(s):n(s,a)))var a=s,u=o}return u}function ai(t,e,n,i){var r=t.length;for(n=_u(n),n<0&&(n=-n>r?0:r+n),i=i===nt||i>r?r:_u(i),i<0&&(i+=r),i=n>i?0:vu(i);n<i;)t[n++]=e;return t}function ui(t,e){var n=[];return hc(t,function(t,i,r){e(t,i,r)&&n.push(t)}),n}function li(t,e,n,i,r){var o=-1,s=t.length;for(n||(n=Po),r||(r=[]);++o<s;){var a=t[o];e>0&&n(a)?e>1?li(a,e-1,n,i,r):d(r,a):i||(r[r.length]=a)}return r}function hi(t,e){return t&&pc(t,e,Fu)}function ci(t,e){return t&&fc(t,e,Fu)}function pi(t,e){return h(e,function(e){return Ja(t[e])})}function fi(t,e){e=br(e,t);for(var n=0,i=e.length;null!=t&&n<i;)t=t[qo(e[n++])];return n&&n==i?t:nt}function di(t,e,n){var i=e(t);return pp(t)?i:d(i,n(t))}function mi(t){return null==t?t===nt?ne:qt:Ph&&Ph in ih(t)?xo(t):Uo(t)}function gi(t,e){return t>e}function yi(t,e){return null!=t&&ph.call(t,e)}function _i(t,e){return null!=t&&e in ih(t)}function vi(t,e,n){return t>=Bh(e,n)&&t<Uh(e,n)}function bi(t,e,n){for(var i=n?p:c,r=t[0].length,o=t.length,s=o,a=Ql(o),u=1/0,l=[];s--;){var h=t[s];s&&e&&(h=f(h,I(e))),u=Bh(h.length,u),a[s]=!n&&(e||r>=120&&h.length>=120)?new dn(s&&h):nt}h=t[0];var d=-1,m=a[0];t:for(;++d<r&&l.length<u;){var g=h[d],y=e?e(g):g;if(g=n||0!==g?g:0,!(m?N(m,y):i(l,y,n))){for(s=o;--s;){var _=a[s];if(!(_?N(_,y):i(t[s],y,n)))continue t}m&&m.push(y),l.push(g)}}return l}function xi(t,e,n,i){return hi(t,function(t,r,o){e(i,n(t),r,o)}),i}function wi(t,e,n){e=br(e,t),t=Zo(t,e);var i=null==t?t:t[qo(ys(e))];return null==i?nt:o(i,t,n)}function Ei(t){return eu(t)&&mi(t)==Dt}function Si(t){return eu(t)&&mi(t)==oe}function Ti(t){return eu(t)&&mi(t)==Bt}function Ci(t,e,n,i,r){return t===e||(null==t||null==e||!eu(t)&&!eu(e)?t!==t&&e!==e:Mi(t,e,n,i,Ci,r))}function Mi(t,e,n,i,r,o){var s=pp(t),a=pp(e),u=s?Gt:wc(t),l=a?Gt:wc(e);u=u==Dt?Kt:u,l=l==Dt?Kt:l;var h=u==Kt,c=l==Kt,p=u==l;if(p&&dp(t)){if(!dp(e))return!1;s=!0,h=!1}if(p&&!h)return o||(o=new yn),s||vp(t)?uo(t,e,n,i,r,o):lo(t,e,u,n,i,r,o);if(!(n&pt)){var f=h&&ph.call(t,"__wrapped__"),d=c&&ph.call(e,"__wrapped__");if(f||d){var m=f?t.value():t,g=d?e.value():e;return o||(o=new yn),r(m,g,n,i,o)}}return!!p&&(o||(o=new yn),ho(t,e,n,i,r,o))}function Li(t){return eu(t)&&wc(t)==Ht}function Pi(t,e,n,i){var r=n.length,o=r,s=!i;if(null==t)return!o;for(t=ih(t);r--;){var a=n[r];if(s&&a[2]?a[1]!==t[a[0]]:!(a[0]in t))return!1}for(;++r<o;){a=n[r];var u=a[0],l=t[u],h=a[1];if(s&&a[2]){if(l===nt&&!(u in t))return!1}else{var c=new yn;if(i)var p=i(l,h,u,t,e,c);if(!(p===nt?Ci(h,l,pt|ft,i,c):p))return!1}}return!0}function Oi(t){return!(!tu(t)||No(t))&&(Ja(t)?_h:Ze).test(Ko(t))}function Ai(t){return eu(t)&&mi(t)==Qt}function Ri(t){return eu(t)&&wc(t)==$t}function Ii(t){return eu(t)&&$a(t.length)&&!!bn[mi(t)]}function ki(t){return"function"==typeof t?t:null==t?Cl:"object"==typeof t?pp(t)?zi(t[0],t[1]):Gi(t):kl(t)}function Ni(t){if(!Fo(t))return zh(t);var e=[];for(var n in ih(t))ph.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Fi(t){if(!tu(t))return zo(t);var e=Fo(t),n=[];for(var i in t)("constructor"!=i||!e&&ph.call(t,i))&&n.push(i);return n}function ji(t,e){return t<e}function Di(t,e){var n=-1,i=Ba(t)?Ql(t.length):[];return hc(t,function(t,r,o){i[++n]=e(t,r,o)}),i}function Gi(t){var e=vo(t);return 1==e.length&&e[0][2]?Do(e[0][0],e[0][1]):function(n){return n===t||Pi(n,t,e)}}function zi(t,e){return Ro(t)&&jo(e)?Do(qo(t),e):function(n){var i=Iu(n,t);return i===nt&&i===e?Nu(n,t):Ci(e,i,pt|ft)}}function Ui(t,e,n,i,r){t!==e&&pc(e,function(o,s){if(tu(o))r||(r=new yn),Bi(t,e,s,n,Ui,i,r);else{var a=i?i(Xo(t,s),o,s+"",t,e,r):nt;a===nt&&(a=o),Nn(t,s,a)}},ju)}function Bi(t,e,n,i,r,o,s){var a=Xo(t,n),u=Xo(e,n),l=s.get(u);if(l)return void Nn(t,n,l);var h=o?o(a,u,n+"",t,e,s):nt,c=h===nt;if(c){var p=pp(u),f=!p&&dp(u),d=!p&&!f&&vp(u);h=u,p||f||d?pp(a)?h=a:Za(a)?h=Rr(a):f?(c=!1,h=wr(u,!0)):d?(c=!1,h=Mr(u,!0)):h=[]:lu(u)||cp(u)?(h=a,cp(a)?h=xu(a):tu(a)&&!Ja(a)||(h=Co(u))):c=!1}c&&(s.set(u,h),r(h,u,i,o,s),s.delete(u)),Nn(t,n,h)}function Zi(t,e){var n=t.length;if(n)return e+=e<0?n:0,Oo(e,n)?t[e]:nt}function Wi(t,e,n){var i=-1;return e=f(e.length?e:[Cl],I(yo())),P(Di(t,function(t,n,r){return{criteria:f(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return Pr(t,e,n)})}function Xi(t,e){return Vi(t,e,function(e,n){return Nu(t,n)})}function Vi(t,e,n){for(var i=-1,r=e.length,o={};++i<r;){var s=e[i],a=fi(t,s);n(a,s)&&nr(o,br(s,t),a)}return o}function Hi(t){return function(e){return fi(e,t)}}function Yi(t,e,n,i){var r=i?E:w,o=-1,s=e.length,a=t;for(t===e&&(e=Rr(e)),n&&(a=f(t,I(n)));++o<s;)for(var u=0,l=e[o],h=n?n(l):l;(u=r(a,h,u,i))>-1;)a!==t&&Ch.call(a,u,1),Ch.call(t,u,1);return t}function qi(t,e){for(var n=t?e.length:0,i=n-1;n--;){var r=e[n];if(n==i||r!==o){var o=r;Oo(r)?Ch.call(t,r,1):pr(t,r)}}return t}function Ki(t,e){return t+Nh(Xh()*(e-t+1))}function Ji(t,e,n,i){for(var r=-1,o=Uh(kh((e-t)/(n||1)),0),s=Ql(o);o--;)s[i?o:++r]=t,t+=n;return s}function Qi(t,e){var n="";if(!t||e<1||e>At)return n;do{e%2&&(n+=t),(e=Nh(e/2))&&(t+=t)}while(e);return n}function $i(t,e){return Cc(Bo(t,e,Cl),t+"")}function tr(t){return An(qu(t))}function er(t,e){var n=qu(t);return Yo(n,$n(e,0,n.length))}function nr(t,e,n,i){if(!tu(t))return t;e=br(e,t);for(var r=-1,o=e.length,s=o-1,a=t;null!=a&&++r<o;){var u=qo(e[r]),l=n;if(r!=s){var h=a[u];l=i?i(h,u,a):nt,l===nt&&(l=tu(h)?h:Oo(e[r+1])?[]:{})}Bn(a,u,l),a=a[u]}return t}function ir(t){return Yo(qu(t))}function rr(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var o=Ql(r);++i<r;)o[i]=t[i+e];return o}function or(t,e){var n;return hc(t,function(t,i,r){return!(n=e(t,i,r))}),!!n}function sr(t,e,n){var i=0,r=null==t?i:t.length;if("number"==typeof e&&e===e&&r<=Ft){for(;i<r;){var o=i+r>>>1,s=t[o];null!==s&&!pu(s)&&(n?s<=e:s<e)?i=o+1:r=o}return r}return ar(t,e,Cl,n)}function ar(t,e,n,i){e=n(e);for(var r=0,o=null==t?0:t.length,s=e!==e,a=null===e,u=pu(e),l=e===nt;r<o;){var h=Nh((r+o)/2),c=n(t[h]),p=c!==nt,f=null===c,d=c===c,m=pu(c);if(s)var g=i||d;else g=l?d&&(i||p):a?d&&p&&(i||!f):u?d&&p&&!f&&(i||!m):!f&&!m&&(i?c<=e:c<e);g?r=h+1:o=h}return Bh(o,Nt)}function ur(t,e){for(var n=-1,i=t.length,r=0,o=[];++n<i;){var s=t[n],a=e?e(s):s;if(!n||!Ua(a,u)){var u=a;o[r++]=0===s?0:s}}return o}function lr(t){return"number"==typeof t?t:pu(t)?It:+t}function hr(t){if("string"==typeof t)return t;if(pp(t))return f(t,hr)+"";if(pu(t))return uc?uc.call(t):"";var e=t+"";return"0"==e&&1/t==-Ot?"-0":e}function cr(t,e,n){var i=-1,r=c,o=t.length,s=!0,a=[],u=a;if(n)s=!1,r=p;else if(o>=it){var l=e?null:_c(t);if(l)return H(l);s=!1,r=N,u=new dn}else u=e?[]:a;t:for(;++i<o;){var h=t[i],f=e?e(h):h;if(h=n||0!==h?h:0,s&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue t;e&&u.push(f),a.push(h)}else r(u,f,n)||(u!==a&&u.push(f),a.push(h))}return a}function pr(t,e){return e=br(e,t),null==(t=Zo(t,e))||delete t[qo(ys(e))]}function fr(t,e,n,i){return nr(t,e,n(fi(t,e)),i)}function dr(t,e,n,i){for(var r=t.length,o=i?r:-1;(i?o--:++o<r)&&e(t[o],o,t););return n?rr(t,i?0:o,i?o+1:r):rr(t,i?o+1:0,i?r:o)}function mr(t,e){var n=t;return n instanceof _&&(n=n.value()),m(e,function(t,e){return e.func.apply(e.thisArg,d([t],e.args))},n)}function gr(t,e,n){var i=t.length;if(i<2)return i?cr(t[0]):[];for(var r=-1,o=Ql(i);++r<i;)for(var s=t[r],a=-1;++a<i;)a!=r&&(o[r]=ri(o[r]||s,t[a],e,n));return cr(li(o,1),e,n)}function yr(t,e,n){for(var i=-1,r=t.length,o=e.length,s={};++i<r;){var a=i<o?e[i]:nt;n(s,t[i],a)}return s}function _r(t){return Za(t)?t:[]}function vr(t){return"function"==typeof t?t:Cl}function br(t,e){return pp(t)?t:Ro(t,e)?[t]:Mc(Eu(t))}function xr(t,e,n){var i=t.length;return n=n===nt?i:n,!e&&n>=i?t:rr(t,e,n)}function wr(t,e){if(e)return t.slice();var n=t.length,i=wh?wh(n):new t.constructor(n);return t.copy(i),i}function Er(t){var e=new t.constructor(t.byteLength);return new xh(e).set(new xh(t)),e}function Sr(t,e){var n=e?Er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Tr(t){var e=new t.constructor(t.source,ze.exec(t));return e.lastIndex=t.lastIndex,e}function Cr(t){return ac?ih(ac.call(t)):{}}function Mr(t,e){var n=e?Er(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Lr(t,e){if(t!==e){var n=t!==nt,i=null===t,r=t===t,o=pu(t),s=e!==nt,a=null===e,u=e===e,l=pu(e);if(!a&&!l&&!o&&t>e||o&&s&&u&&!a&&!l||i&&s&&u||!n&&u||!r)return 1;if(!i&&!o&&!l&&t<e||l&&n&&r&&!i&&!o||a&&n&&r||!s&&r||!u)return-1}return 0}function Pr(t,e,n){for(var i=-1,r=t.criteria,o=e.criteria,s=r.length,a=n.length;++i<s;){var u=Lr(r[i],o[i]);if(u){if(i>=a)return u;return u*("desc"==n[i]?-1:1)}}return t.index-e.index}function Or(t,e,n,i){for(var r=-1,o=t.length,s=n.length,a=-1,u=e.length,l=Uh(o-s,0),h=Ql(u+l),c=!i;++a<u;)h[a]=e[a];for(;++r<s;)(c||r<o)&&(h[n[r]]=t[r]);for(;l--;)h[a++]=t[r++];return h}function Ar(t,e,n,i){for(var r=-1,o=t.length,s=-1,a=n.length,u=-1,l=e.length,h=Uh(o-a,0),c=Ql(h+l),p=!i;++r<h;)c[r]=t[r];for(var f=r;++u<l;)c[f+u]=e[u];for(;++s<a;)(p||r<o)&&(c[f+n[s]]=t[r++]);return c}function Rr(t,e){var n=-1,i=t.length;for(e||(e=Ql(i));++n<i;)e[n]=t[n];return e}function Ir(t,e,n,i){var r=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var a=e[o],u=i?i(n[a],t[a],a,n,t):nt;u===nt&&(u=t[a]),r?Jn(n,a,u):Bn(n,a,u)}return n}function kr(t,e){return Ir(t,bc(t),e)}function Nr(t,e){return Ir(t,xc(t),e)}function Fr(t,e){return function(n,i){var r=pp(n)?s:Yn,o=e?e():{};return r(n,t,yo(i,2),o)}}function jr(t){return $i(function(e,n){var i=-1,r=n.length,o=r>1?n[r-1]:nt,s=r>2?n[2]:nt;for(o=t.length>3&&"function"==typeof o?(r--,o):nt,s&&Ao(n[0],n[1],s)&&(o=r<3?nt:o,r=1),e=ih(e);++i<r;){var a=n[i];a&&t(e,a,i,o)}return e})}function Dr(t,e){return function(n,i){if(null==n)return n;if(!Ba(n))return t(n,i);for(var r=n.length,o=e?r:-1,s=ih(n);(e?o--:++o<r)&&!1!==i(s[o],o,s););return n}}function Gr(t){return function(e,n,i){for(var r=-1,o=ih(e),s=i(e),a=s.length;a--;){var u=s[t?a:++r];if(!1===n(o[u],u,o))break}return e}}function zr(t,e,n){function i(){return(this&&this!==On&&this instanceof i?o:t).apply(r?n:this,arguments)}var r=e&dt,o=Zr(t);return i}function Ur(t){return function(e){e=Eu(e);var n=U(e)?Q(e):nt,i=n?n[0]:e.charAt(0),r=n?xr(n,1).join(""):e.slice(1);return i[t]()+r}}function Br(t){return function(e){return m(xl(el(e).replace(pn,"")),t,"")}}function Zr(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=lc(t.prototype),i=t.apply(n,e);return tu(i)?i:n}}function Wr(t,e,n){function i(){for(var s=arguments.length,a=Ql(s),u=s,l=go(i);u--;)a[u]=arguments[u];var h=s<3&&a[0]!==l&&a[s-1]!==l?[]:V(a,l);return(s-=h.length)<n?eo(t,e,Hr,i.placeholder,nt,a,h,nt,nt,n-s):o(this&&this!==On&&this instanceof i?r:t,this,a)}var r=Zr(t);return i}function Xr(t){return function(e,n,i){var r=ih(e);if(!Ba(e)){var o=yo(n,3);e=Fu(e),n=function(t){return o(r[t],t,r)}}var s=t(e,n,i);return s>-1?r[o?e[s]:s]:nt}}function Vr(t){return co(function(e){var n=e.length,i=n,o=r.prototype.thru;for(t&&e.reverse();i--;){var s=e[i];if("function"!=typeof s)throw new sh(ot);if(o&&!a&&"wrapper"==mo(s))var a=new r([],!0)}for(i=a?i:n;++i<n;){s=e[i];var u=mo(s),l="wrapper"==u?vc(s):nt;a=l&&ko(l[0])&&l[1]==(xt|yt|vt|wt)&&!l[4].length&&1==l[9]?a[mo(l[0])].apply(a,l[3]):1==s.length&&ko(s)?a[u]():a.thru(s)}return function(){var t=arguments,i=t[0];if(a&&1==t.length&&pp(i))return a.plant(i).value();for(var r=0,o=n?e[r].apply(this,t):i;++r<n;)o=e[r].call(this,o);return o}})}function Hr(t,e,n,i,r,o,s,a,u,l){function h(){for(var y=arguments.length,_=Ql(y),v=y;v--;)_[v]=arguments[v];if(d)var b=go(h),x=D(_,b);if(i&&(_=Or(_,i,r,d)),o&&(_=Ar(_,o,s,d)),y-=x,d&&y<l){var w=V(_,b);return eo(t,e,Hr,h.placeholder,n,_,w,a,u,l-y)}var E=p?n:this,S=f?E[t]:t;return y=_.length,a?_=Wo(_,a):m&&y>1&&_.reverse(),c&&u<y&&(_.length=u),this&&this!==On&&this instanceof h&&(S=g||Zr(S)),S.apply(E,_)}var c=e&xt,p=e&dt,f=e&mt,d=e&(yt|_t),m=e&Et,g=f?nt:Zr(t);return h}function Yr(t,e){return function(n,i){return xi(n,t,e(i),{})}}function qr(t,e){return function(n,i){var r;if(n===nt&&i===nt)return e;if(n!==nt&&(r=n),i!==nt){if(r===nt)return i;"string"==typeof n||"string"==typeof i?(n=hr(n),i=hr(i)):(n=lr(n),i=lr(i)),r=t(n,i)}return r}}function Kr(t){return co(function(e){return e=f(e,I(yo())),$i(function(n){var i=this;return t(e,function(t){return o(t,i,n)})})})}function Jr(t,e){e=e===nt?" ":hr(e);var n=e.length;if(n<2)return n?Qi(e,t):e;var i=Qi(e,kh(t/J(e)));return U(e)?xr(Q(i),0,t).join(""):i.slice(0,t)}function Qr(t,e,n,i){function r(){for(var e=-1,u=arguments.length,l=-1,h=i.length,c=Ql(h+u),p=this&&this!==On&&this instanceof r?a:t;++l<h;)c[l]=i[l];for(;u--;)c[l++]=arguments[++e];return o(p,s?n:this,c)}var s=e&dt,a=Zr(t);return r}function $r(t){return function(e,n,i){return i&&"number"!=typeof i&&Ao(e,n,i)&&(n=i=nt),e=yu(e),n===nt?(n=e,e=0):n=yu(n),i=i===nt?e<n?1:-1:yu(i),Ji(e,n,i,t)}}function to(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=bu(e),n=bu(n)),t(e,n)}}function eo(t,e,n,i,r,o,s,a,u,l){var h=e&yt,c=h?s:nt,p=h?nt:s,f=h?o:nt,d=h?nt:o;e|=h?vt:bt,(e&=~(h?bt:vt))&gt||(e&=~(dt|mt));var m=[t,e,r,f,c,d,p,a,u,l],g=n.apply(nt,m);return ko(t)&&Sc(g,m),g.placeholder=i,Vo(g,t,e)}function no(t){var e=nh[t];return function(t,n){if(t=bu(t),n=null==n?0:Bh(_u(n),292)){var i=(Eu(t)+"e").split("e");return i=(Eu(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function io(t){return function(e){var n=wc(e);return n==Ht?W(e):n==$t?Y(e):R(e,t(e))}}function ro(t,e,n,i,r,o,s,a){var u=e&mt;if(!u&&"function"!=typeof t)throw new sh(ot);var l=i?i.length:0;if(l||(e&=~(vt|bt),i=r=nt),s=s===nt?s:Uh(_u(s),0),a=a===nt?a:_u(a),l-=r?r.length:0,e&bt){var h=i,c=r;i=r=nt}var p=u?nt:vc(t),f=[t,e,n,i,r,h,c,o,s,a];if(p&&Go(f,p),t=f[0],e=f[1],n=f[2],i=f[3],r=f[4],a=f[9]=f[9]===nt?u?0:t.length:Uh(f[9]-l,0),!a&&e&(yt|_t)&&(e&=~(yt|_t)),e&&e!=dt)d=e==yt||e==_t?Wr(t,e,a):e!=vt&&e!=(dt|vt)||r.length?Hr.apply(nt,f):Qr(t,e,n,i);else var d=zr(t,e,n);return Vo((p?dc:Sc)(d,f),t,e)}function oo(t,e,n,i){return t===nt||Ua(t,lh[n])&&!ph.call(i,n)?e:t}function so(t,e,n,i,r,o){return tu(t)&&tu(e)&&(o.set(e,t),Ui(t,e,nt,so,o),o.delete(e)),t}function ao(t){return lu(t)?nt:t}function uo(t,e,n,i,r,o){var s=n&pt,a=t.length,u=e.length;if(a!=u&&!(s&&u>a))return!1;var l=o.get(t);if(l&&o.get(e))return l==e;var h=-1,c=!0,p=n&ft?new dn:nt;for(o.set(t,e),o.set(e,t);++h<a;){var f=t[h],d=e[h];if(i)var m=s?i(d,f,h,e,t,o):i(f,d,h,t,e,o);if(m!==nt){if(m)continue;c=!1;break}if(p){if(!y(e,function(t,e){if(!N(p,e)&&(f===t||r(f,t,n,i,o)))return p.push(e)})){c=!1;break}}else if(f!==d&&!r(f,d,n,i,o)){c=!1;break}}return o.delete(t),o.delete(e),c}function lo(t,e,n,i,r,o,s){switch(n){case se:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oe:return!(t.byteLength!=e.byteLength||!o(new xh(t),new xh(e)));case Ut:case Bt:case Yt:return Ua(+t,+e);case Wt:return t.name==e.name&&t.message==e.message;case Qt:case te:return t==e+"";case Ht:var a=W;case $t:var u=i&pt;if(a||(a=H),t.size!=e.size&&!u)return!1;var l=s.get(t);if(l)return l==e;i|=ft,s.set(t,e);var h=uo(a(t),a(e),i,r,o,s);return s.delete(t),h;case ee:if(ac)return ac.call(t)==ac.call(e)}return!1}function ho(t,e,n,i,r,o){var s=n&pt,a=po(t),u=a.length;if(u!=po(e).length&&!s)return!1;for(var l=u;l--;){var h=a[l];if(!(s?h in e:ph.call(e,h)))return!1}var c=o.get(t);if(c&&o.get(e))return c==e;var p=!0;o.set(t,e),o.set(e,t);for(var f=s;++l<u;){h=a[l];var d=t[h],m=e[h];if(i)var g=s?i(m,d,h,e,t,o):i(d,m,h,t,e,o);if(!(g===nt?d===m||r(d,m,n,i,o):g)){p=!1;break}f||(f="constructor"==h)}if(p&&!f){var y=t.constructor,_=e.constructor;y!=_&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof _&&_ instanceof _)&&(p=!1)}return o.delete(t),o.delete(e),p}function co(t){return Cc(Bo(t,nt,ls),t+"")}function po(t){return di(t,Fu,bc)}function fo(t){return di(t,ju,xc)}function mo(t){for(var e=t.name+"",n=tc[e],i=ph.call(tc,e)?n.length:0;i--;){var r=n[i],o=r.func;if(null==o||o==t)return r.name}return e}function go(t){return(ph.call(n,"placeholder")?n:t).placeholder}function yo(){var t=n.iteratee||Ml;return t=t===Ml?ki:t,arguments.length?t(arguments[0],arguments[1]):t}function _o(t,e){var n=t.__data__;return Io(e)?n["string"==typeof e?"string":"hash"]:n.map}function vo(t){for(var e=Fu(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,jo(r)]}return e}function bo(t,e){var n=z(t,e);return Oi(n)?n:nt}function xo(t){var e=ph.call(t,Ph),n=t[Ph];try{t[Ph]=nt;var i=!0}catch(t){}var r=mh.call(t);return i&&(e?t[Ph]=n:delete t[Ph]),r}function wo(t,e,n){for(var i=-1,r=n.length;++i<r;){var o=n[i],s=o.size;switch(o.type){case"drop":t+=s;break;case"dropRight":e-=s;break;case"take":e=Bh(e,t+s);break;case"takeRight":t=Uh(t,e-s)}}return{start:t,end:e}}function Eo(t){var e=t.match(Ne);return e?e[1].split(Fe):[]}function So(t,e,n){e=br(e,t);for(var i=-1,r=e.length,o=!1;++i<r;){var s=qo(e[i]);if(!(o=null!=t&&n(t,s)))break;t=t[s]}return o||++i!=r?o:!!(r=null==t?0:t.length)&&$a(r)&&Oo(s,r)&&(pp(t)||cp(t))}function To(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&ph.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Co(t){return"function"!=typeof t.constructor||Fo(t)?{}:lc(Eh(t))}function Mo(t,e,n){var i=t.constructor;switch(e){case oe:return Er(t);case Ut:case Bt:return new i(+t);case se:return Sr(t,n);case ae:case ue:case le:case he:case ce:case pe:case fe:case de:case me:return Mr(t,n);case Ht:return new i;case Yt:case te:return new i(t);case Qt:return Tr(t);case $t:return new i;case ee:return Cr(t)}}function Lo(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(ke,"{\n/* [wrapped with "+e+"] */\n")}function Po(t){return pp(t)||cp(t)||!!(Mh&&t&&t[Mh])}function Oo(t,e){var n=typeof t;return!!(e=null==e?At:e)&&("number"==n||"symbol"!=n&&Xe.test(t))&&t>-1&&t%1==0&&t<e}function Ao(t,e,n){if(!tu(n))return!1;var i=typeof e;return!!("number"==i?Ba(n)&&Oo(e,n.length):"string"==i&&e in n)&&Ua(n[e],t)}function Ro(t,e){if(pp(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!pu(t))||(Me.test(t)||!Ce.test(t)||null!=e&&t in ih(e))}function Io(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function ko(t){var e=mo(t),i=n[e];if("function"!=typeof i||!(e in _.prototype))return!1;if(t===i)return!0;var r=vc(i);return!!r&&t===r[0]}function No(t){return!!dh&&dh in t}function Fo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||lh)}function jo(t){return t===t&&!tu(t)}function Do(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==nt||t in ih(n)))}}function Go(t,e){var n=t[1],i=e[1],r=n|i,o=r<(dt|mt|xt),s=i==xt&&n==yt||i==xt&&n==wt&&t[7].length<=e[8]||i==(xt|wt)&&e[7].length<=e[8]&&n==yt;if(!o&&!s)return t;i&dt&&(t[2]=e[2],r|=n&dt?0:gt);var a=e[3];if(a){var u=t[3];t[3]=u?Or(u,a,e[4]):a,t[4]=u?V(t[3],ut):e[4]}return a=e[5],a&&(u=t[5],t[5]=u?Ar(u,a,e[6]):a,t[6]=u?V(t[5],ut):e[6]),a=e[7],a&&(t[7]=a),i&xt&&(t[8]=null==t[8]?e[8]:Bh(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=r,t}function zo(t){var e=[];if(null!=t)for(var n in ih(t))e.push(n);return e}function Uo(t){return mh.call(t)}function Bo(t,e,n){return e=Uh(e===nt?t.length-1:e,0),function(){for(var i=arguments,r=-1,s=Uh(i.length-e,0),a=Ql(s);++r<s;)a[r]=i[e+r];r=-1;for(var u=Ql(e+1);++r<e;)u[r]=i[r];return u[e]=n(a),o(t,this,u)}}function Zo(t,e){return e.length<2?t:fi(t,rr(e,0,-1))}function Wo(t,e){for(var n=t.length,i=Bh(e.length,n),r=Rr(t);i--;){var o=e[i];t[i]=Oo(o,n)?r[o]:nt}return t}function Xo(t,e){if("__proto__"!=e)return t[e]}function Vo(t,e,n){var i=e+"";return Cc(t,Lo(i,Jo(Eo(i),n)))}function Ho(t){var e=0,n=0;return function(){var i=Zh(),r=Mt-(i-n);if(n=i,r>0){if(++e>=Ct)return arguments[0]}else e=0;return t.apply(nt,arguments)}}function Yo(t,e){var n=-1,i=t.length,r=i-1;for(e=e===nt?i:e;++n<e;){var o=Ki(n,r),s=t[o];t[o]=t[n],t[n]=s}return t.length=e,t}function qo(t){if("string"==typeof t||pu(t))return t;var e=t+"";return"0"==e&&1/t==-Ot?"-0":e}function Ko(t){if(null!=t){try{return ch.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Jo(t,e){return a(jt,function(n){var i="_."+n[0];e&n[1]&&!c(t,i)&&t.push(i)}),t.sort()}function Qo(t){if(t instanceof _)return t.clone();var e=new r(t.__wrapped__,t.__chain__);return e.__actions__=Rr(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function $o(t,e,n){e=(n?Ao(t,e,n):e===nt)?1:Uh(_u(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var r=0,o=0,s=Ql(kh(i/e));r<i;)s[o++]=rr(t,r,r+=e);return s}function ts(t){for(var e=-1,n=null==t?0:t.length,i=0,r=[];++e<n;){var o=t[e];o&&(r[i++]=o)}return r}function es(){var t=arguments.length;if(!t)return[];for(var e=Ql(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return d(pp(n)?Rr(n):[n],li(e,1))}function ns(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===nt?1:_u(e),rr(t,e<0?0:e,i)):[]}function is(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===nt?1:_u(e),e=i-e,rr(t,0,e<0?0:e)):[]}function rs(t,e){return t&&t.length?dr(t,yo(e,3),!0,!0):[]}function os(t,e){return t&&t.length?dr(t,yo(e,3),!0):[]}function ss(t,e,n,i){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Ao(t,e,n)&&(n=0,i=r),ai(t,e,n,i)):[]}function as(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:_u(n);return r<0&&(r=Uh(i+r,0)),x(t,yo(e,3),r)}function us(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i-1;return n!==nt&&(r=_u(n),r=n<0?Uh(i+r,0):Bh(r,i-1)),x(t,yo(e,3),r,!0)}function ls(t){return(null==t?0:t.length)?li(t,1):[]}function hs(t){return(null==t?0:t.length)?li(t,Ot):[]}function cs(t,e){return(null==t?0:t.length)?(e=e===nt?1:_u(e),li(t,e)):[]}function ps(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function fs(t){return t&&t.length?t[0]:nt}function ds(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=null==n?0:_u(n);return r<0&&(r=Uh(i+r,0)),w(t,e,r)}function ms(t){return(null==t?0:t.length)?rr(t,0,-1):[]}function gs(t,e){return null==t?"":Gh.call(t,e)}function ys(t){var e=null==t?0:t.length;return e?t[e-1]:nt}function _s(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var r=i;return n!==nt&&(r=_u(n),r=r<0?Uh(i+r,0):Bh(r,i-1)),e===e?K(t,e,r):x(t,S,r,!0)}function vs(t,e){return t&&t.length?Zi(t,_u(e)):nt}function bs(t,e){return t&&t.length&&e&&e.length?Yi(t,e):t}function xs(t,e,n){return t&&t.length&&e&&e.length?Yi(t,e,yo(n,2)):t}function ws(t,e,n){return t&&t.length&&e&&e.length?Yi(t,e,nt,n):t}function Es(t,e){var n=[];if(!t||!t.length)return n;var i=-1,r=[],o=t.length;for(e=yo(e,3);++i<o;){var s=t[i];e(s,i,t)&&(n.push(s),r.push(i))}return qi(t,r),n}function Ss(t){return null==t?t:Vh.call(t)}function Ts(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Ao(t,e,n)?(e=0,n=i):(e=null==e?0:_u(e),n=n===nt?i:_u(n)),rr(t,e,n)):[]}function Cs(t,e){return sr(t,e)}function Ms(t,e,n){return ar(t,e,yo(n,2))}function Ls(t,e){var n=null==t?0:t.length;if(n){var i=sr(t,e);if(i<n&&Ua(t[i],e))return i}return-1}function Ps(t,e){return sr(t,e,!0)}function Os(t,e,n){return ar(t,e,yo(n,2),!0)}function As(t,e){if(null==t?0:t.length){var n=sr(t,e,!0)-1;if(Ua(t[n],e))return n}return-1}function Rs(t){return t&&t.length?ur(t):[]}function Is(t,e){return t&&t.length?ur(t,yo(e,2)):[]}function ks(t){var e=null==t?0:t.length;return e?rr(t,1,e):[]}function Ns(t,e,n){return t&&t.length?(e=n||e===nt?1:_u(e),rr(t,0,e<0?0:e)):[]}function Fs(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===nt?1:_u(e),e=i-e,rr(t,e<0?0:e,i)):[]}function js(t,e){return t&&t.length?dr(t,yo(e,3),!1,!0):[]}function Ds(t,e){return t&&t.length?dr(t,yo(e,3)):[]}function Gs(t){return t&&t.length?cr(t):[]}function zs(t,e){return t&&t.length?cr(t,yo(e,2)):[]}function Us(t,e){return e="function"==typeof e?e:nt,t&&t.length?cr(t,nt,e):[]}function Bs(t){if(!t||!t.length)return[];var e=0;return t=h(t,function(t){if(Za(t))return e=Uh(t.length,e),!0}),A(e,function(e){return f(t,C(e))})}function Zs(t,e){if(!t||!t.length)return[];var n=Bs(t);return null==e?n:f(n,function(t){return o(e,nt,t)})}function Ws(t,e){return yr(t||[],e||[],Bn)}function Xs(t,e){return yr(t||[],e||[],nr)}function Vs(t){var e=n(t);return e.__chain__=!0,e}function Hs(t,e){return e(t),t}function Ys(t,e){return e(t)}function qs(){return Vs(this)}function Ks(){return new r(this.value(),this.__chain__)}function Js(){this.__values__===nt&&(this.__values__=gu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?nt:this.__values__[this.__index__++]}}function Qs(){return this}function $s(t){for(var e,n=this;n instanceof i;){var r=Qo(n);r.__index__=0,r.__values__=nt,e?o.__wrapped__=r:e=r;var o=r;n=n.__wrapped__}return o.__wrapped__=t,e}function ta(){var t=this.__wrapped__;if(t instanceof _){var e=t;return this.__actions__.length&&(e=new _(this)),e=e.reverse(),e.__actions__.push({func:Ys,args:[Ss],thisArg:nt}),new r(e,this.__chain__)}return this.thru(Ss)}function ea(){return mr(this.__wrapped__,this.__actions__)}function na(t,e,n){var i=pp(t)?l:oi;return n&&Ao(t,e,n)&&(e=nt),i(t,yo(e,3))}function ia(t,e){return(pp(t)?h:ui)(t,yo(e,3))}function ra(t,e){return li(ha(t,e),1)}function oa(t,e){return li(ha(t,e),Ot)}function sa(t,e,n){return n=n===nt?1:_u(n),li(ha(t,e),n)}function aa(t,e){return(pp(t)?a:hc)(t,yo(e,3))}function ua(t,e){return(pp(t)?u:cc)(t,yo(e,3))}function la(t,e,n,i){t=Ba(t)?t:qu(t),n=n&&!i?_u(n):0;var r=t.length;return n<0&&(n=Uh(r+n,0)),cu(t)?n<=r&&t.indexOf(e,n)>-1:!!r&&w(t,e,n)>-1}function ha(t,e){return(pp(t)?f:Di)(t,yo(e,3))}function ca(t,e,n,i){return null==t?[]:(pp(e)||(e=null==e?[]:[e]),n=i?nt:n,pp(n)||(n=null==n?[]:[n]),Wi(t,e,n))}function pa(t,e,n){var i=pp(t)?m:L,r=arguments.length<3;return i(t,yo(e,4),n,r,hc)}function fa(t,e,n){var i=pp(t)?g:L,r=arguments.length<3;return i(t,yo(e,4),n,r,cc)}function da(t,e){return(pp(t)?h:ui)(t,La(yo(e,3)))}function ma(t){return(pp(t)?An:tr)(t)}function ga(t,e,n){return e=(n?Ao(t,e,n):e===nt)?1:_u(e),(pp(t)?Rn:er)(t,e)}function ya(t){return(pp(t)?kn:ir)(t)}function _a(t){if(null==t)return 0;if(Ba(t))return cu(t)?J(t):t.length;var e=wc(t);return e==Ht||e==$t?t.size:Ni(t).length}function va(t,e,n){var i=pp(t)?y:or;return n&&Ao(t,e,n)&&(e=nt),i(t,yo(e,3))}function ba(t,e){if("function"!=typeof e)throw new sh(ot);return t=_u(t),function(){if(--t<1)return e.apply(this,arguments)}}function xa(t,e,n){return e=n?nt:e,e=t&&null==e?t.length:e,ro(t,xt,nt,nt,nt,nt,e)}function wa(t,e){var n;if("function"!=typeof e)throw new sh(ot);return t=_u(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=nt),n}}function Ea(t,e,n){e=n?nt:e;var i=ro(t,yt,nt,nt,nt,nt,nt,e);return i.placeholder=Ea.placeholder,i}function Sa(t,e,n){e=n?nt:e;var i=ro(t,_t,nt,nt,nt,nt,nt,e);return i.placeholder=Sa.placeholder,i}function Ta(t,e,n){function i(e){var n=p,i=f;return p=f=nt,_=e,m=t.apply(i,n)}function r(t){return _=t,g=Tc(a,e),v?i(t):m}function o(t){var n=t-y,i=t-_,r=e-n;return b?Bh(r,d-i):r}function s(t){var n=t-y,i=t-_;return y===nt||n>=e||n<0||b&&i>=d}function a(){var t=tp();if(s(t))return u(t);g=Tc(a,o(t))}function u(t){return g=nt,x&&p?i(t):(p=f=nt,m)}function l(){g!==nt&&yc(g),_=0,p=y=f=g=nt}function h(){return g===nt?m:u(tp())}function c(){var t=tp(),n=s(t);if(p=arguments,f=this,y=t,n){if(g===nt)return r(y);if(b)return g=Tc(a,e),i(y)}return g===nt&&(g=Tc(a,e)),m}var p,f,d,m,g,y,_=0,v=!1,b=!1,x=!0;if("function"!=typeof t)throw new sh(ot);return e=bu(e)||0,tu(n)&&(v=!!n.leading,b="maxWait"in n,d=b?Uh(bu(n.maxWait)||0,e):d,x="trailing"in n?!!n.trailing:x),c.cancel=l,c.flush=h,c}function Ca(t){return ro(t,Et)}function Ma(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new sh(ot);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s)||o,s};return n.cache=new(Ma.Cache||sn),n}function La(t){if("function"!=typeof t)throw new sh(ot);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Pa(t){return wa(2,t)}function Oa(t,e){if("function"!=typeof t)throw new sh(ot);return e=e===nt?e:_u(e),$i(t,e)}function Aa(t,e){if("function"!=typeof t)throw new sh(ot);return e=null==e?0:Uh(_u(e),0),$i(function(n){var i=n[e],r=xr(n,0,e);return i&&d(r,i),o(t,this,r)})}function Ra(t,e,n){var i=!0,r=!0;if("function"!=typeof t)throw new sh(ot);return tu(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Ta(t,e,{leading:i,maxWait:e,trailing:r})}function Ia(t){return xa(t,1)}function ka(t,e){return sp(vr(e),t)}function Na(){if(!arguments.length)return[];var t=arguments[0];return pp(t)?t:[t]}function Fa(t){return ti(t,ct)}function ja(t,e){return e="function"==typeof e?e:nt,ti(t,ct,e)}function Da(t){return ti(t,lt|ct)}function Ga(t,e){return e="function"==typeof e?e:nt,ti(t,lt|ct,e)}function za(t,e){return null==e||ni(t,e,Fu(e))}function Ua(t,e){return t===e||t!==t&&e!==e}function Ba(t){return null!=t&&$a(t.length)&&!Ja(t)}function Za(t){return eu(t)&&Ba(t)}function Wa(t){return!0===t||!1===t||eu(t)&&mi(t)==Ut}function Xa(t){return eu(t)&&1===t.nodeType&&!lu(t)}function Va(t){if(null==t)return!0;if(Ba(t)&&(pp(t)||"string"==typeof t||"function"==typeof t.splice||dp(t)||vp(t)||cp(t)))return!t.length;var e=wc(t);if(e==Ht||e==$t)return!t.size;if(Fo(t))return!Ni(t).length;for(var n in t)if(ph.call(t,n))return!1;return!0}function Ha(t,e){return Ci(t,e)}function Ya(t,e,n){n="function"==typeof n?n:nt;var i=n?n(t,e):nt;return i===nt?Ci(t,e,nt,n):!!i}function qa(t){if(!eu(t))return!1;var e=mi(t);return e==Wt||e==Zt||"string"==typeof t.message&&"string"==typeof t.name&&!lu(t)}function Ka(t){return"number"==typeof t&&Dh(t)}function Ja(t){if(!tu(t))return!1;var e=mi(t);return e==Xt||e==Vt||e==zt||e==Jt}function Qa(t){return"number"==typeof t&&t==_u(t)}function $a(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=At}function tu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function eu(t){return null!=t&&"object"==typeof t}function nu(t,e){return t===e||Pi(t,e,vo(e))}function iu(t,e,n){return n="function"==typeof n?n:nt,Pi(t,e,vo(e),n)}function ru(t){return uu(t)&&t!=+t}function ou(t){if(Ec(t))throw new th(rt);return Oi(t)}function su(t){return null===t}function au(t){return null==t}function uu(t){return"number"==typeof t||eu(t)&&mi(t)==Yt}function lu(t){if(!eu(t)||mi(t)!=Kt)return!1;var e=Eh(t);if(null===e)return!0;var n=ph.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&ch.call(n)==gh}function hu(t){return Qa(t)&&t>=-At&&t<=At}function cu(t){return"string"==typeof t||!pp(t)&&eu(t)&&mi(t)==te}function pu(t){return"symbol"==typeof t||eu(t)&&mi(t)==ee}function fu(t){return t===nt}function du(t){return eu(t)&&wc(t)==ie}function mu(t){return eu(t)&&mi(t)==re}function gu(t){if(!t)return[];if(Ba(t))return cu(t)?Q(t):Rr(t);if(Lh&&t[Lh])return Z(t[Lh]());var e=wc(t);return(e==Ht?W:e==$t?H:qu)(t)}function yu(t){if(!t)return 0===t?t:0;if((t=bu(t))===Ot||t===-Ot){return(t<0?-1:1)*Rt}return t===t?t:0}function _u(t){var e=yu(t),n=e%1;return e===e?n?e-n:e:0}function vu(t){return t?$n(_u(t),0,kt):0}function bu(t){if("number"==typeof t)return t;if(pu(t))return It;if(tu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=tu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ae,"");var n=Be.test(t);return n||We.test(t)?Mn(t.slice(2),n?2:8):Ue.test(t)?It:+t}function xu(t){return Ir(t,ju(t))}function wu(t){return t?$n(_u(t),-At,At):0===t?t:0}function Eu(t){return null==t?"":hr(t)}function Su(t,e){var n=lc(t);return null==e?n:qn(n,e)}function Tu(t,e){return b(t,yo(e,3),hi)}function Cu(t,e){return b(t,yo(e,3),ci)}function Mu(t,e){return null==t?t:pc(t,yo(e,3),ju)}function Lu(t,e){return null==t?t:fc(t,yo(e,3),ju)}function Pu(t,e){return t&&hi(t,yo(e,3))}function Ou(t,e){return t&&ci(t,yo(e,3))}function Au(t){return null==t?[]:pi(t,Fu(t))}function Ru(t){return null==t?[]:pi(t,ju(t))}function Iu(t,e,n){var i=null==t?nt:fi(t,e);return i===nt?n:i}function ku(t,e){return null!=t&&So(t,e,yi)}function Nu(t,e){return null!=t&&So(t,e,_i)}function Fu(t){return Ba(t)?Pn(t):Ni(t)}function ju(t){return Ba(t)?Pn(t,!0):Fi(t)}function Du(t,e){var n={};return e=yo(e,3),hi(t,function(t,i,r){Jn(n,e(t,i,r),t)}),n}function Gu(t,e){var n={};return e=yo(e,3),hi(t,function(t,i,r){Jn(n,i,e(t,i,r))}),n}function zu(t,e){return Uu(t,La(yo(e)))}function Uu(t,e){if(null==t)return{};var n=f(fo(t),function(t){return[t]});return e=yo(e),Vi(t,n,function(t,n){return e(t,n[0])})}function Bu(t,e,n){e=br(e,t);var i=-1,r=e.length;for(r||(r=1,t=nt);++i<r;){var o=null==t?nt:t[qo(e[i])];o===nt&&(i=r,o=n),t=Ja(o)?o.call(t):o}return t}function Zu(t,e,n){return null==t?t:nr(t,e,n)}function Wu(t,e,n,i){return i="function"==typeof i?i:nt,null==t?t:nr(t,e,n,i)}function Xu(t,e,n){var i=pp(t),r=i||dp(t)||vp(t);if(e=yo(e,4),null==n){var o=t&&t.constructor;n=r?i?new o:[]:tu(t)&&Ja(o)?lc(Eh(t)):{}}return(r?a:hi)(t,function(t,i,r){return e(n,t,i,r)}),n}function Vu(t,e){return null==t||pr(t,e)}function Hu(t,e,n){return null==t?t:fr(t,e,vr(n))}function Yu(t,e,n,i){return i="function"==typeof i?i:nt,null==t?t:fr(t,e,vr(n),i)}function qu(t){return null==t?[]:k(t,Fu(t))}function Ku(t){return null==t?[]:k(t,ju(t))}function Ju(t,e,n){return n===nt&&(n=e,e=nt),n!==nt&&(n=bu(n),n=n===n?n:0),e!==nt&&(e=bu(e),e=e===e?e:0),$n(bu(t),e,n)}function Qu(t,e,n){return e=yu(e),n===nt?(n=e,e=0):n=yu(n),t=bu(t),vi(t,e,n)}function $u(t,e,n){if(n&&"boolean"!=typeof n&&Ao(t,e,n)&&(e=n=nt),n===nt&&("boolean"==typeof e?(n=e,e=nt):"boolean"==typeof t&&(n=t,t=nt)),t===nt&&e===nt?(t=0,e=1):(t=yu(t),e===nt?(e=t,t=0):e=yu(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var r=Xh();return Bh(t+r*(e-t+Cn("1e-"+((r+"").length-1))),e)}return Ki(t,e)}function tl(t){return Xp(Eu(t).toLowerCase())}function el(t){return(t=Eu(t))&&t.replace(Ve,Zn).replace(fn,"")}function nl(t,e,n){t=Eu(t),e=hr(e);var i=t.length;n=n===nt?i:$n(_u(n),0,i);var r=n;return(n-=e.length)>=0&&t.slice(n,r)==e}function il(t){return t=Eu(t),t&&we.test(t)?t.replace(be,Wn):t}function rl(t){return t=Eu(t),t&&Oe.test(t)?t.replace(Pe,"\\$&"):t}function ol(t,e,n){t=Eu(t),e=_u(e);var i=e?J(t):0;if(!e||i>=e)return t;var r=(e-i)/2;return Jr(Nh(r),n)+t+Jr(kh(r),n)}function sl(t,e,n){t=Eu(t),e=_u(e);var i=e?J(t):0;return e&&i<e?t+Jr(e-i,n):t}function al(t,e,n){t=Eu(t),e=_u(e);var i=e?J(t):0;return e&&i<e?Jr(e-i,n)+t:t}function ul(t,e,n){return n||null==e?e=0:e&&(e=+e),Wh(Eu(t).replace(Re,""),e||0)}function ll(t,e,n){return e=(n?Ao(t,e,n):e===nt)?1:_u(e),Qi(Eu(t),e)}function hl(){var t=arguments,e=Eu(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function cl(t,e,n){return n&&"number"!=typeof n&&Ao(t,e,n)&&(e=n=nt),(n=n===nt?kt:n>>>0)?(t=Eu(t),t&&("string"==typeof e||null!=e&&!yp(e))&&!(e=hr(e))&&U(t)?xr(Q(t),0,n):t.split(e,n)):[]}function pl(t,e,n){return t=Eu(t),n=null==n?0:$n(_u(n),0,t.length),e=hr(e),t.slice(n,n+e.length)==e}function fl(t,e,i){var r=n.templateSettings;i&&Ao(t,e,i)&&(e=nt),t=Eu(t),e=Sp({},e,r,oo);var o,s,a=Sp({},e.imports,r.imports,oo),u=Fu(a),l=k(a,u),h=0,c=e.interpolate||He,p="__p += '",f=rh((e.escape||He).source+"|"+c.source+"|"+(c===Te?Ge:He).source+"|"+(e.evaluate||He).source+"|$","g"),d="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++vn+"]")+"\n";t.replace(f,function(e,n,i,r,a,u){return i||(i=r),p+=t.slice(h,u).replace(Ye,G),n&&(o=!0,p+="' +\n__e("+n+") +\n'"),a&&(s=!0,p+="';\n"+a+";\n__p += '"),i&&(p+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),h=u+e.length,e}),p+="';\n";var m=e.variable;m||(p="with (obj) {\n"+p+"\n}\n"),p=(s?p.replace(ge,""):p).replace(ye,"$1").replace(_e,"$1;"),p="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var g=Vp(function(){return eh(u,d+"return "+p).apply(nt,l)});if(g.source=p,qa(g))throw g;return g}function dl(t){return Eu(t).toLowerCase()}function ml(t){return Eu(t).toUpperCase()}function gl(t,e,n){if((t=Eu(t))&&(n||e===nt))return t.replace(Ae,"");if(!t||!(e=hr(e)))return t;var i=Q(t),r=Q(e);return xr(i,F(i,r),j(i,r)+1).join("")}function yl(t,e,n){if((t=Eu(t))&&(n||e===nt))return t.replace(Ie,"");if(!t||!(e=hr(e)))return t;var i=Q(t);return xr(i,0,j(i,Q(e))+1).join("")}function _l(t,e,n){if((t=Eu(t))&&(n||e===nt))return t.replace(Re,"");if(!t||!(e=hr(e)))return t;var i=Q(t);return xr(i,F(i,Q(e))).join("")}function vl(t,e){var n=St,i=Tt;if(tu(e)){var r="separator"in e?e.separator:r;n="length"in e?_u(e.length):n,i="omission"in e?hr(e.omission):i}t=Eu(t);var o=t.length;if(U(t)){var s=Q(t);o=s.length}if(n>=o)return t;var a=n-J(i);if(a<1)return i;var u=s?xr(s,0,a).join(""):t.slice(0,a);if(r===nt)return u+i;if(s&&(a+=u.length-a),yp(r)){if(t.slice(a).search(r)){var l,h=u;for(r.global||(r=rh(r.source,Eu(ze.exec(r))+"g")),r.lastIndex=0;l=r.exec(h);)var c=l.index;u=u.slice(0,c===nt?a:c)}}else if(t.indexOf(hr(r),a)!=a){var p=u.lastIndexOf(r);p>-1&&(u=u.slice(0,p))}return u+i}function bl(t){return t=Eu(t),t&&xe.test(t)?t.replace(ve,Xn):t}function xl(t,e,n){return t=Eu(t),e=n?nt:e,e===nt?B(t)?et(t):v(t):t.match(e)||[]}function wl(t){var e=null==t?0:t.length,n=yo();return t=e?f(t,function(t){if("function"!=typeof t[1])throw new sh(ot);return[n(t[0]),t[1]]}):[],$i(function(n){for(var i=-1;++i<e;){var r=t[i];if(o(r[0],this,n))return o(r[1],this,n)}})}function El(t){return ei(ti(t,lt))}function Sl(t){return function(){return t}}function Tl(t,e){return null==t||t!==t?e:t}function Cl(t){return t}function Ml(t){return ki("function"==typeof t?t:ti(t,lt))}function Ll(t){return Gi(ti(t,lt))}function Pl(t,e){return zi(t,ti(e,lt))}function Ol(t,e,n){var i=Fu(e),r=pi(e,i);null!=n||tu(e)&&(r.length||!i.length)||(n=e,e=t,t=this,r=pi(e,Fu(e)));var o=!(tu(n)&&"chain"in n)||!!n.chain,s=Ja(t);return a(r,function(n){var i=e[n];t[n]=i,s&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=Rr(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,d([this.value()],arguments))})}),t}function Al(){return On._===this&&(On._=yh),this}function Rl(){}function Il(t){return t=_u(t),$i(function(e){return Zi(e,t)})}function kl(t){return Ro(t)?C(qo(t)):Hi(t)}function Nl(t){return function(e){return null==t?nt:fi(t,e)}}function Fl(){return[]}function jl(){return!1}function Dl(){return{}}function Gl(){return""}function zl(){return!0}function Ul(t,e){if((t=_u(t))<1||t>At)return[];var n=kt,i=Bh(t,kt);e=yo(e),t-=kt;for(var r=A(i,e);++n<t;)e(n);return r}function Bl(t){return pp(t)?f(t,qo):pu(t)?[t]:Rr(Mc(Eu(t)))}function Zl(t){var e=++fh;return Eu(t)+e}function Wl(t){return t&&t.length?si(t,Cl,gi):nt}function Xl(t,e){return t&&t.length?si(t,yo(e,2),gi):nt}function Vl(t){return T(t,Cl)}function Hl(t,e){return T(t,yo(e,2))}function Yl(t){return t&&t.length?si(t,Cl,ji):nt}function ql(t,e){return t&&t.length?si(t,yo(e,2),ji):nt}function Kl(t){return t&&t.length?O(t,Cl):0}function Jl(t,e){return t&&t.length?O(t,yo(e,2)):0}e=null==e?On:Vn.defaults(On.Object(),e,Vn.pick(On,_n));var Ql=e.Array,$l=e.Date,th=e.Error,eh=e.Function,nh=e.Math,ih=e.Object,rh=e.RegExp,oh=e.String,sh=e.TypeError,ah=Ql.prototype,uh=eh.prototype,lh=ih.prototype,hh=e["__core-js_shared__"],ch=uh.toString,ph=lh.hasOwnProperty,fh=0,dh=function(){var t=/[^.]+$/.exec(hh&&hh.keys&&hh.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),mh=lh.toString,gh=ch.call(ih),yh=On._,_h=rh("^"+ch.call(ph).replace(Pe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),vh=In?e.Buffer:nt,bh=e.Symbol,xh=e.Uint8Array,wh=vh?vh.allocUnsafe:nt,Eh=X(ih.getPrototypeOf,ih),Sh=ih.create,Th=lh.propertyIsEnumerable,Ch=ah.splice,Mh=bh?bh.isConcatSpreadable:nt,Lh=bh?bh.iterator:nt,Ph=bh?bh.toStringTag:nt,Oh=function(){try{var t=bo(ih,"defineProperty");return t({},"",{}),t}catch(t){}}(),Ah=e.clearTimeout!==On.clearTimeout&&e.clearTimeout,Rh=$l&&$l.now!==On.Date.now&&$l.now,Ih=e.setTimeout!==On.setTimeout&&e.setTimeout,kh=nh.ceil,Nh=nh.floor,Fh=ih.getOwnPropertySymbols,jh=vh?vh.isBuffer:nt,Dh=e.isFinite,Gh=ah.join,zh=X(ih.keys,ih),Uh=nh.max,Bh=nh.min,Zh=$l.now,Wh=e.parseInt,Xh=nh.random,Vh=ah.reverse,Hh=bo(e,"DataView"),Yh=bo(e,"Map"),qh=bo(e,"Promise"),Kh=bo(e,"Set"),Jh=bo(e,"WeakMap"),Qh=bo(ih,"create"),$h=Jh&&new Jh,tc={},ec=Ko(Hh),nc=Ko(Yh),ic=Ko(qh),rc=Ko(Kh),oc=Ko(Jh),sc=bh?bh.prototype:nt,ac=sc?sc.valueOf:nt,uc=sc?sc.toString:nt,lc=function(){function t(){}return function(e){if(!tu(e))return{};if(Sh)return Sh(e);t.prototype=e;var n=new t;return t.prototype=nt,n}}();n.templateSettings={escape:Ee,evaluate:Se,interpolate:Te,variable:"",imports:{_:n}},n.prototype=i.prototype,n.prototype.constructor=n,r.prototype=lc(i.prototype),r.prototype.constructor=r,_.prototype=lc(i.prototype),_.prototype.constructor=_,tt.prototype.clear=je,tt.prototype.delete=qe,tt.prototype.get=Ke,tt.prototype.has=Je,tt.prototype.set=Qe,$e.prototype.clear=tn,$e.prototype.delete=en,$e.prototype.get=nn,$e.prototype.has=rn,$e.prototype.set=on,sn.prototype.clear=an,sn.prototype.delete=un,sn.prototype.get=ln,sn.prototype.has=hn,sn.prototype.set=cn,dn.prototype.add=dn.prototype.push=mn,dn.prototype.has=gn,yn.prototype.clear=wn,yn.prototype.delete=En,yn.prototype.get=Sn,yn.prototype.has=Tn,yn.prototype.set=Ln;var hc=Dr(hi),cc=Dr(ci,!0),pc=Gr(),fc=Gr(!0),dc=$h?function(t,e){return $h.set(t,e),t}:Cl,mc=Oh?function(t,e){return Oh(t,"toString",{configurable:!0,enumerable:!1,value:Sl(e),writable:!0})}:Cl,gc=$i,yc=Ah||function(t){return On.clearTimeout(t)},_c=Kh&&1/H(new Kh([,-0]))[1]==Ot?function(t){return new Kh(t)}:Rl,vc=$h?function(t){return $h.get(t)}:Rl,bc=Fh?function(t){return null==t?[]:(t=ih(t),h(Fh(t),function(e){return Th.call(t,e)}))}:Fl,xc=Fh?function(t){for(var e=[];t;)d(e,bc(t)),t=Eh(t);return e}:Fl,wc=mi;(Hh&&wc(new Hh(new ArrayBuffer(1)))!=se||Yh&&wc(new Yh)!=Ht||qh&&"[object Promise]"!=wc(qh.resolve())||Kh&&wc(new Kh)!=$t||Jh&&wc(new Jh)!=ie)&&(wc=function(t){var e=mi(t),n=e==Kt?t.constructor:nt,i=n?Ko(n):"";if(i)switch(i){case ec:return se;case nc:return Ht;case ic:return"[object Promise]";case rc:return $t;case oc:return ie}return e});var Ec=hh?Ja:jl,Sc=Ho(dc),Tc=Ih||function(t,e){return On.setTimeout(t,e)},Cc=Ho(mc),Mc=function(t){var e=Ma(t,function(t){return n.size===at&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Le,function(t,n,i,r){e.push(i?r.replace(De,"$1"):n||t)}),e}),Lc=$i(function(t,e){return Za(t)?ri(t,li(e,1,Za,!0)):[]}),Pc=$i(function(t,e){var n=ys(e);return Za(n)&&(n=nt),Za(t)?ri(t,li(e,1,Za,!0),yo(n,2)):[]}),Oc=$i(function(t,e){var n=ys(e);return Za(n)&&(n=nt),Za(t)?ri(t,li(e,1,Za,!0),nt,n):[]}),Ac=$i(function(t){var e=f(t,_r);return e.length&&e[0]===t[0]?bi(e):[]}),Rc=$i(function(t){var e=ys(t),n=f(t,_r);return e===ys(n)?e=nt:n.pop(),n.length&&n[0]===t[0]?bi(n,yo(e,2)):[]}),Ic=$i(function(t){var e=ys(t),n=f(t,_r);return e="function"==typeof e?e:nt,e&&n.pop(),n.length&&n[0]===t[0]?bi(n,nt,e):[]}),kc=$i(bs),Nc=co(function(t,e){var n=null==t?0:t.length,i=Qn(t,e);return qi(t,f(e,function(t){return Oo(t,n)?+t:t}).sort(Lr)),i}),Fc=$i(function(t){return cr(li(t,1,Za,!0))}),jc=$i(function(t){var e=ys(t);return Za(e)&&(e=nt),cr(li(t,1,Za,!0),yo(e,2))}),Dc=$i(function(t){var e=ys(t);return e="function"==typeof e?e:nt,cr(li(t,1,Za,!0),nt,e)}),Gc=$i(function(t,e){return Za(t)?ri(t,e):[]}),zc=$i(function(t){return gr(h(t,Za))}),Uc=$i(function(t){var e=ys(t);return Za(e)&&(e=nt),gr(h(t,Za),yo(e,2))}),Bc=$i(function(t){var e=ys(t);return e="function"==typeof e?e:nt,gr(h(t,Za),nt,e)}),Zc=$i(Bs),Wc=$i(function(t){var e=t.length,n=e>1?t[e-1]:nt;return n="function"==typeof n?(t.pop(),n):nt,Zs(t,n)}),Xc=co(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,o=function(e){return Qn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof _&&Oo(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:Ys,args:[o],thisArg:nt}),new r(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(nt),t})):this.thru(o)}),Vc=Fr(function(t,e,n){ph.call(t,n)?++t[n]:Jn(t,n,1)}),Hc=Xr(as),Yc=Xr(us),qc=Fr(function(t,e,n){ph.call(t,n)?t[n].push(e):Jn(t,n,[e])}),Kc=$i(function(t,e,n){var i=-1,r="function"==typeof e,s=Ba(t)?Ql(t.length):[];return hc(t,function(t){s[++i]=r?o(e,t,n):wi(t,e,n)}),s}),Jc=Fr(function(t,e,n){Jn(t,n,e)}),Qc=Fr(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),$c=$i(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ao(t,e[0],e[1])?e=[]:n>2&&Ao(e[0],e[1],e[2])&&(e=[e[0]]),Wi(t,li(e,1),[])}),tp=Rh||function(){return On.Date.now()},ep=$i(function(t,e,n){var i=dt;if(n.length){var r=V(n,go(ep));i|=vt}return ro(t,i,e,n,r)}),np=$i(function(t,e,n){var i=dt|mt;if(n.length){var r=V(n,go(np));i|=vt}return ro(e,i,t,n,r)}),ip=$i(function(t,e){return ii(t,1,e)}),rp=$i(function(t,e,n){return ii(t,bu(e)||0,n)});Ma.Cache=sn;var op=gc(function(t,e){e=1==e.length&&pp(e[0])?f(e[0],I(yo())):f(li(e,1),I(yo()));var n=e.length;return $i(function(i){for(var r=-1,s=Bh(i.length,n);++r<s;)i[r]=e[r].call(this,i[r]);return o(t,this,i)})}),sp=$i(function(t,e){var n=V(e,go(sp));return ro(t,vt,nt,e,n)}),ap=$i(function(t,e){var n=V(e,go(ap));return ro(t,bt,nt,e,n)}),up=co(function(t,e){return ro(t,wt,nt,nt,nt,e)}),lp=to(gi),hp=to(function(t,e){return t>=e}),cp=Ei(function(){return arguments}())?Ei:function(t){return eu(t)&&ph.call(t,"callee")&&!Th.call(t,"callee")},pp=Ql.isArray,fp=Fn?I(Fn):Si,dp=jh||jl,mp=jn?I(jn):Ti,gp=Dn?I(Dn):Li,yp=Gn?I(Gn):Ai,_p=zn?I(zn):Ri,vp=Un?I(Un):Ii,bp=to(ji),xp=to(function(t,e){return t<=e}),wp=jr(function(t,e){if(Fo(e)||Ba(e))return void Ir(e,Fu(e),t);for(var n in e)ph.call(e,n)&&Bn(t,n,e[n])}),Ep=jr(function(t,e){Ir(e,ju(e),t)}),Sp=jr(function(t,e,n,i){Ir(e,ju(e),t,i)}),Tp=jr(function(t,e,n,i){Ir(e,Fu(e),t,i)}),Cp=co(Qn),Mp=$i(function(t,e){t=ih(t);var n=-1,i=e.length,r=i>2?e[2]:nt;for(r&&Ao(e[0],e[1],r)&&(i=1);++n<i;)for(var o=e[n],s=ju(o),a=-1,u=s.length;++a<u;){var l=s[a],h=t[l];(h===nt||Ua(h,lh[l])&&!ph.call(t,l))&&(t[l]=o[l])}return t}),Lp=$i(function(t){return t.push(nt,so),o(Ip,nt,t)}),Pp=Yr(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=mh.call(e)),t[e]=n},Sl(Cl)),Op=Yr(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=mh.call(e)),ph.call(t,e)?t[e].push(n):t[e]=[n]},yo),Ap=$i(wi),Rp=jr(function(t,e,n){Ui(t,e,n)}),Ip=jr(function(t,e,n,i){Ui(t,e,n,i)}),kp=co(function(t,e){var n={};if(null==t)return n;var i=!1;e=f(e,function(e){return e=br(e,t),i||(i=e.length>1),e}),Ir(t,fo(t),n),i&&(n=ti(n,lt|ht|ct,ao));for(var r=e.length;r--;)pr(n,e[r]);return n}),Np=co(function(t,e){return null==t?{}:Xi(t,e)}),Fp=io(Fu),jp=io(ju),Dp=Br(function(t,e,n){return e=e.toLowerCase(),t+(n?tl(e):e)}),Gp=Br(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),zp=Br(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Up=Ur("toLowerCase"),Bp=Br(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Zp=Br(function(t,e,n){return t+(n?" ":"")+Xp(e)}),Wp=Br(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Xp=Ur("toUpperCase"),Vp=$i(function(t,e){try{return o(t,nt,e)}catch(t){return qa(t)?t:new th(t)}}),Hp=co(function(t,e){return a(e,function(e){e=qo(e),Jn(t,e,ep(t[e],t))}),t}),Yp=Vr(),qp=Vr(!0),Kp=$i(function(t,e){return function(n){return wi(n,t,e)}}),Jp=$i(function(t,e){return function(n){return wi(t,n,e)}}),Qp=Kr(f),$p=Kr(l),tf=Kr(y),ef=$r(),nf=$r(!0),rf=qr(function(t,e){return t+e},0),of=no("ceil"),sf=qr(function(t,e){return t/e},1),af=no("floor"),uf=qr(function(t,e){return t*e},1),lf=no("round"),hf=qr(function(t,e){return t-e},0);return n.after=ba,n.ary=xa,n.assign=wp,n.assignIn=Ep,n.assignInWith=Sp,n.assignWith=Tp,n.at=Cp,n.before=wa,n.bind=ep,n.bindAll=Hp,n.bindKey=np,n.castArray=Na,n.chain=Vs,n.chunk=$o,n.compact=ts,n.concat=es,n.cond=wl,n.conforms=El,n.constant=Sl,n.countBy=Vc,n.create=Su,n.curry=Ea,n.curryRight=Sa,n.debounce=Ta,n.defaults=Mp,n.defaultsDeep=Lp,n.defer=ip,n.delay=rp,n.difference=Lc,n.differenceBy=Pc,n.differenceWith=Oc,n.drop=ns,n.dropRight=is,n.dropRightWhile=rs,n.dropWhile=os,n.fill=ss,n.filter=ia,n.flatMap=ra,n.flatMapDeep=oa,n.flatMapDepth=sa,n.flatten=ls,n.flattenDeep=hs,n.flattenDepth=cs,n.flip=Ca,n.flow=Yp,n.flowRight=qp,n.fromPairs=ps,n.functions=Au,n.functionsIn=Ru,n.groupBy=qc,n.initial=ms,n.intersection=Ac,n.intersectionBy=Rc,n.intersectionWith=Ic,n.invert=Pp,n.invertBy=Op,n.invokeMap=Kc,n.iteratee=Ml,n.keyBy=Jc,n.keys=Fu,n.keysIn=ju,n.map=ha,n.mapKeys=Du,n.mapValues=Gu,n.matches=Ll,n.matchesProperty=Pl,n.memoize=Ma,n.merge=Rp,n.mergeWith=Ip,n.method=Kp,n.methodOf=Jp,n.mixin=Ol,n.negate=La,n.nthArg=Il,n.omit=kp,n.omitBy=zu,n.once=Pa,n.orderBy=ca,n.over=Qp,n.overArgs=op,n.overEvery=$p,n.overSome=tf,n.partial=sp,n.partialRight=ap,n.partition=Qc,n.pick=Np,n.pickBy=Uu,n.property=kl,n.propertyOf=Nl,n.pull=kc,n.pullAll=bs,n.pullAllBy=xs,n.pullAllWith=ws,n.pullAt=Nc,n.range=ef,n.rangeRight=nf,n.rearg=up,n.reject=da,n.remove=Es,n.rest=Oa,n.reverse=Ss,n.sampleSize=ga,n.set=Zu,n.setWith=Wu,n.shuffle=ya,n.slice=Ts,n.sortBy=$c,n.sortedUniq=Rs,n.sortedUniqBy=Is,n.split=cl,n.spread=Aa,n.tail=ks,n.take=Ns,n.takeRight=Fs,n.takeRightWhile=js,n.takeWhile=Ds,n.tap=Hs,n.throttle=Ra,n.thru=Ys,n.toArray=gu,n.toPairs=Fp,n.toPairsIn=jp,n.toPath=Bl,n.toPlainObject=xu,n.transform=Xu,n.unary=Ia,n.union=Fc,n.unionBy=jc,n.unionWith=Dc,n.uniq=Gs,n.uniqBy=zs,n.uniqWith=Us,n.unset=Vu,n.unzip=Bs,n.unzipWith=Zs,n.update=Hu,n.updateWith=Yu,n.values=qu,n.valuesIn=Ku,n.without=Gc,n.words=xl,n.wrap=ka,n.xor=zc,n.xorBy=Uc,n.xorWith=Bc,n.zip=Zc,n.zipObject=Ws,n.zipObjectDeep=Xs,n.zipWith=Wc,n.entries=Fp,n.entriesIn=jp,n.extend=Ep,n.extendWith=Sp,Ol(n,n),n.add=rf,n.attempt=Vp,n.camelCase=Dp,n.capitalize=tl,n.ceil=of,n.clamp=Ju,n.clone=Fa,n.cloneDeep=Da,n.cloneDeepWith=Ga,n.cloneWith=ja,n.conformsTo=za,n.deburr=el,n.defaultTo=Tl,n.divide=sf,n.endsWith=nl,n.eq=Ua,n.escape=il,n.escapeRegExp=rl,n.every=na,n.find=Hc,n.findIndex=as,n.findKey=Tu,n.findLast=Yc,n.findLastIndex=us,n.findLastKey=Cu,n.floor=af,n.forEach=aa,n.forEachRight=ua,n.forIn=Mu,n.forInRight=Lu,n.forOwn=Pu,n.forOwnRight=Ou,n.get=Iu,n.gt=lp,n.gte=hp,n.has=ku,n.hasIn=Nu,n.head=fs,n.identity=Cl,n.includes=la,n.indexOf=ds,n.inRange=Qu,n.invoke=Ap,n.isArguments=cp,n.isArray=pp,n.isArrayBuffer=fp,n.isArrayLike=Ba,n.isArrayLikeObject=Za,n.isBoolean=Wa,n.isBuffer=dp,n.isDate=mp,n.isElement=Xa,n.isEmpty=Va,n.isEqual=Ha,n.isEqualWith=Ya,n.isError=qa,n.isFinite=Ka,n.isFunction=Ja,n.isInteger=Qa,n.isLength=$a,n.isMap=gp,n.isMatch=nu,n.isMatchWith=iu,n.isNaN=ru,n.isNative=ou,n.isNil=au,n.isNull=su,n.isNumber=uu,n.isObject=tu,n.isObjectLike=eu,n.isPlainObject=lu,n.isRegExp=yp,n.isSafeInteger=hu,n.isSet=_p,n.isString=cu,n.isSymbol=pu,n.isTypedArray=vp,n.isUndefined=fu,n.isWeakMap=du,n.isWeakSet=mu,n.join=gs,n.kebabCase=Gp,n.last=ys,n.lastIndexOf=_s,n.lowerCase=zp,n.lowerFirst=Up,n.lt=bp,n.lte=xp,n.max=Wl,n.maxBy=Xl,n.mean=Vl,n.meanBy=Hl,n.min=Yl,n.minBy=ql,n.stubArray=Fl,n.stubFalse=jl,n.stubObject=Dl,n.stubString=Gl,n.stubTrue=zl,n.multiply=uf,n.nth=vs,n.noConflict=Al,n.noop=Rl,n.now=tp,n.pad=ol,n.padEnd=sl,n.padStart=al,n.parseInt=ul,n.random=$u,n.reduce=pa,n.reduceRight=fa,n.repeat=ll,n.replace=hl,n.result=Bu,n.round=lf,n.runInContext=t,n.sample=ma,n.size=_a,n.snakeCase=Bp,n.some=va,n.sortedIndex=Cs,n.sortedIndexBy=Ms,n.sortedIndexOf=Ls,n.sortedLastIndex=Ps,n.sortedLastIndexBy=Os,n.sortedLastIndexOf=As,n.startCase=Zp,n.startsWith=pl,n.subtract=hf,n.sum=Kl,n.sumBy=Jl,n.template=fl,n.times=Ul,n.toFinite=yu,n.toInteger=_u,n.toLength=vu,n.toLower=dl,n.toNumber=bu,n.toSafeInteger=wu,n.toString=Eu,n.toUpper=ml,n.trim=gl,n.trimEnd=yl,n.trimStart=_l,n.truncate=vl,n.unescape=bl,n.uniqueId=Zl,n.upperCase=Wp,n.upperFirst=Xp,n.each=aa,n.eachRight=ua,n.first=fs,Ol(n,function(){var t={};return hi(n,function(e,i){ph.call(n.prototype,i)||(t[i]=e)}),t}(),{chain:!1}),n.VERSION="4.17.11",a(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),a(["drop","take"],function(t,e){_.prototype[t]=function(n){n=n===nt?1:Uh(_u(n),0);var i=this.__filtered__&&!e?new _(this):this.clone();return i.__filtered__?i.__takeCount__=Bh(n,i.__takeCount__):i.__views__.push({size:Bh(n,kt),type:t+(i.__dir__<0?"Right":"")}),i},_.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),a(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==Lt||3==n;_.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:yo(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),a(["head","last"],function(t,e){var n="take"+(e?"Right":"");_.prototype[t]=function(){return this[n](1).value()[0]}}),a(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");_.prototype[t]=function(){return this.__filtered__?new _(this):this[n](1)}}),_.prototype.compact=function(){return this.filter(Cl)},_.prototype.find=function(t){return this.filter(t).head()},_.prototype.findLast=function(t){return this.reverse().find(t)},_.prototype.invokeMap=$i(function(t,e){return"function"==typeof t?new _(this):this.map(function(n){return wi(n,t,e)})}),_.prototype.reject=function(t){return this.filter(La(yo(t)))},_.prototype.slice=function(t,e){t=_u(t);var n=this;return n.__filtered__&&(t>0||e<0)?new _(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==nt&&(e=_u(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},_.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},_.prototype.toArray=function(){return this.take(kt)},hi(_.prototype,function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),s=n[o?"take"+("last"==e?"Right":""):e],a=o||/^find/.test(e);s&&(n.prototype[e]=function(){var e=this.__wrapped__,u=o?[1]:arguments,l=e instanceof _,h=u[0],c=l||pp(e),p=function(t){var e=s.apply(n,d([t],u));return o&&f?e[0]:e};c&&i&&"function"==typeof h&&1!=h.length&&(l=c=!1);var f=this.__chain__,m=!!this.__actions__.length,g=a&&!f,y=l&&!m;if(!a&&c){e=y?e:new _(this);var v=t.apply(e,u);return v.__actions__.push({func:Ys,args:[p],thisArg:nt}),new r(v,f)}return g&&y?t.apply(this,u):(v=this.thru(p),g?o?v.value()[0]:v.value():v)})}),a(["pop","push","shift","sort","splice","unshift"],function(t){var e=ah[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var n=this.value();return e.apply(pp(n)?n:[],t)}return this[i](function(n){return e.apply(pp(n)?n:[],t)})}}),hi(_.prototype,function(t,e){var i=n[e];if(i){var r=i.name+"";(tc[r]||(tc[r]=[])).push({name:e,func:i})}}),tc[Hr(nt,mt).name]=[{name:"wrapper",func:nt}],_.prototype.clone=M,_.prototype.reverse=q,_.prototype.value=$,n.prototype.at=Xc,n.prototype.chain=qs,n.prototype.commit=Ks,n.prototype.next=Js,n.prototype.plant=$s,n.prototype.reverse=ta,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=ea,n.prototype.first=n.prototype.head,Lh&&(n.prototype[Lh]=Qs),n}();On._=Vn,(r=function(){return Vn}.call(e,n,e,i))!==nt&&(i.exports=r)}).call(this)}).call(e,n(18),n(228)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}]);
//# sourceMappingURL=main.65c3a4d9.js.map